import{n as lt,s as le,v as fe}from"./scheduler.Cm_C_nGF.js";new URL("sveltekit-internal://");function ue(t,n){return t==="/"||n==="ignore"?t:n==="never"?t.endsWith("/")?t.slice(0,-1):t:n==="always"&&!t.endsWith("/")?t+"/":t}function de(t){return t.split("%25").map(decodeURI).join("%25")}function he(t){for(const n in t)t[n]=decodeURIComponent(t[n]);return t}function ft({href:t}){return t.split("#")[0]}const pe=["href","pathname","search","toString","toJSON"];function ge(t,n,e){const a=new URL(t);Object.defineProperty(a,"searchParams",{value:new Proxy(a.searchParams,{get(r,o){if(o==="get"||o==="getAll"||o==="has")return s=>(e(s),r[o](s));n();const i=Reflect.get(r,o);return typeof i=="function"?i.bind(r):i}}),enumerable:!0,configurable:!0});for(const r of pe)Object.defineProperty(a,r,{get(){return n(),t[r]},enumerable:!0,configurable:!0});return a}const me="/__data.json",_e=".html__data.json";function ye(t){return t.endsWith(".html")?t.replace(/\.html$/,_e):t.replace(/\/$/,"")+me}function we(...t){let n=5381;for(const e of t)if(typeof e=="string"){let a=e.length;for(;a;)n=n*33^e.charCodeAt(--a)}else if(ArrayBuffer.isView(e)){const a=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);let r=a.length;for(;r;)n=n*33^a[--r]}else throw new TypeError("value must be a string or TypedArray");return(n>>>0).toString(36)}function ve(t){const n=atob(t),e=new Uint8Array(n.length);for(let a=0;a<n.length;a++)e[a]=n.charCodeAt(a);return e.buffer}const Vt=window.fetch;window.fetch=(t,n)=>((t instanceof Request?t.method:(n==null?void 0:n.method)||"GET")!=="GET"&&G.delete(mt(t)),Vt(t,n));const G=new Map;function be(t,n){const e=mt(t,n),a=document.querySelector(e);if(a!=null&&a.textContent){let{body:r,...o}=JSON.parse(a.textContent);const i=a.getAttribute("data-ttl");return i&&G.set(e,{body:r,init:o,ttl:1e3*Number(i)}),a.getAttribute("data-b64")!==null&&(r=ve(r)),Promise.resolve(new Response(r,o))}return window.fetch(t,n)}function Ee(t,n,e){if(G.size>0){const a=mt(t,e),r=G.get(a);if(r){if(performance.now()<r.ttl&&["default","force-cache","only-if-cached",void 0].includes(e==null?void 0:e.cache))return new Response(r.body,r.init);G.delete(a)}}return window.fetch(n,e)}function mt(t,n){let a=`script[data-sveltekit-fetched][data-url=${JSON.stringify(t instanceof Request?t.url:t)}]`;if(n!=null&&n.headers||n!=null&&n.body){const r=[];n.headers&&r.push([...new Headers(n.headers)].join(",")),n.body&&(typeof n.body=="string"||ArrayBuffer.isView(n.body))&&r.push(n.body),a+=`[data-hash="${we(...r)}"]`}return a}const ke=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function Se(t){const n=[];return{pattern:t==="/"?/^\/$/:new RegExp(`^${Re(t).map(a=>{const r=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(a);if(r)return n.push({name:r[1],matcher:r[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const o=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(a);if(o)return n.push({name:o[1],matcher:o[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!a)return;const i=a.split(/\[(.+?)\](?!\])/);return"/"+i.map((c,l)=>{if(l%2){if(c.startsWith("x+"))return ut(String.fromCharCode(parseInt(c.slice(2),16)));if(c.startsWith("u+"))return ut(String.fromCharCode(...c.slice(2).split("-").map(f=>parseInt(f,16))));const u=ke.exec(c),[,h,g,d,_]=u;return n.push({name:d,matcher:_,optional:!!h,rest:!!g,chained:g?l===1&&i[0]==="":!1}),g?"(.*?)":h?"([^/]*)?":"([^/]+?)"}return ut(c)}).join("")}).join("")}/?$`),params:n}}function Ae(t){return!/^\([^)]+\)$/.test(t)}function Re(t){return t.slice(1).split("/").filter(Ae)}function Ie(t,n,e){const a={},r=t.slice(1),o=r.filter(s=>s!==void 0);let i=0;for(let s=0;s<n.length;s+=1){const c=n[s];let l=r[s-i];if(c.chained&&c.rest&&i&&(l=r.slice(s-i,s+1).filter(u=>u).join("/"),i=0),l===void 0){c.rest&&(a[c.name]="");continue}if(!c.matcher||e[c.matcher](l)){a[c.name]=l;const u=n[s+1],h=r[s+1];u&&!u.rest&&u.optional&&h&&c.chained&&(i=0),!u&&!h&&Object.keys(a).length===o.length&&(i=0);continue}if(c.optional&&c.chained){i++;continue}return}if(!i)return a}function ut(t){return t.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function Le({nodes:t,server_loads:n,dictionary:e,matchers:a}){const r=new Set(n);return Object.entries(e).map(([s,[c,l,u]])=>{const{pattern:h,params:g}=Se(s),d={id:s,exec:_=>{const f=h.exec(_);if(f)return Ie(f,g,a)},errors:[1,...u||[]].map(_=>t[_]),layouts:[0,...l||[]].map(i),leaf:o(c)};return d.errors.length=d.layouts.length=Math.max(d.errors.length,d.layouts.length),d});function o(s){const c=s<0;return c&&(s=~s),[c,t[s]]}function i(s){return s===void 0?s:[r.has(s),t[s]]}}function Ft(t,n=JSON.parse){try{return n(sessionStorage[t])}catch{}}function Pt(t,n,e=JSON.stringify){const a=e(n);try{sessionStorage[t]=a}catch{}}const O=[];function _t(t,n=lt){let e;const a=new Set;function r(s){if(le(t,s)&&(t=s,e)){const c=!O.length;for(const l of a)l[1](),O.push(l,t);if(c){for(let l=0;l<O.length;l+=2)O[l][0](O[l+1]);O.length=0}}}function o(s){r(s(t))}function i(s,c=lt){const l=[s,c];return a.add(l),a.size===1&&(e=n(r,o)||lt),s(t),()=>{a.delete(l),a.size===0&&e&&(e(),e=null)}}return{set:r,update:o,subscribe:i}}var Dt;const P=((Dt=globalThis.__sveltekit_j2wtis)==null?void 0:Dt.base)??"/infinite-minesweeper";var Ct;const Pe=((Ct=globalThis.__sveltekit_j2wtis)==null?void 0:Ct.assets)??P,Te="1717210857594",qt="sveltekit:snapshot",Gt="sveltekit:scroll",Mt="sveltekit:states",Ue="sveltekit:pageurl",D="sveltekit:history",H="sveltekit:navigation",J={tap:1,hover:2,viewport:3,eager:4,off:-1,false:-1},z=location.origin;function Ht(t){if(t instanceof URL)return t;let n=document.baseURI;if(!n){const e=document.getElementsByTagName("base");n=e.length?e[0].href:document.URL}return new URL(t,n)}function yt(){return{x:pageXOffset,y:pageYOffset}}function j(t,n){return t.getAttribute(`data-sveltekit-${n}`)}const Tt={...J,"":J.hover};function Bt(t){let n=t.assignedSlot??t.parentNode;return(n==null?void 0:n.nodeType)===11&&(n=n.host),n}function Kt(t,n){for(;t&&t!==n;){if(t.nodeName.toUpperCase()==="A"&&t.hasAttribute("href"))return t;t=Bt(t)}}function ht(t,n){let e;try{e=new URL(t instanceof SVGAElement?t.href.baseVal:t.href,document.baseURI)}catch{}const a=t instanceof SVGAElement?t.target.baseVal:t.target,r=!e||!!a||at(e,n)||(t.getAttribute("rel")||"").split(/\s+/).includes("external"),o=(e==null?void 0:e.origin)===z&&t.hasAttribute("download");return{url:e,external:r,target:a,download:o}}function W(t){let n=null,e=null,a=null,r=null,o=null,i=null,s=t;for(;s&&s!==document.documentElement;)a===null&&(a=j(s,"preload-code")),r===null&&(r=j(s,"preload-data")),n===null&&(n=j(s,"keepfocus")),e===null&&(e=j(s,"noscroll")),o===null&&(o=j(s,"reload")),i===null&&(i=j(s,"replacestate")),s=Bt(s);function c(l){switch(l){case"":case"true":return!0;case"off":case"false":return!1;default:return}}return{preload_code:Tt[a??"off"],preload_data:Tt[r??"off"],keepfocus:c(n),noscroll:c(e),reload:c(o),replace_state:c(i)}}function Ut(t){const n=_t(t);let e=!0;function a(){e=!0,n.update(i=>i)}function r(i){e=!1,n.set(i)}function o(i){let s;return n.subscribe(c=>{(s===void 0||e&&c!==s)&&i(s=c)})}return{notify:a,set:r,subscribe:o}}function xe(){const{set:t,subscribe:n}=_t(!1);let e;async function a(){clearTimeout(e);try{const r=await fetch(`${Pe}/_app/version.json`,{headers:{pragma:"no-cache","cache-control":"no-cache"}});if(!r.ok)return!1;const i=(await r.json()).version!==Te;return i&&(t(!0),clearTimeout(e)),i}catch{return!1}}return{subscribe:n,check:a}}function at(t,n){return t.origin!==z||!t.pathname.startsWith(n)}const Ne=-1,Oe=-2,je=-3,$e=-4,De=-5,Ce=-6;function Ve(t,n){if(typeof t=="number")return r(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const e=t,a=Array(e.length);function r(o,i=!1){if(o===Ne)return;if(o===je)return NaN;if(o===$e)return 1/0;if(o===De)return-1/0;if(o===Ce)return-0;if(i)throw new Error("Invalid input");if(o in a)return a[o];const s=e[o];if(!s||typeof s!="object")a[o]=s;else if(Array.isArray(s))if(typeof s[0]=="string"){const c=s[0],l=n==null?void 0:n[c];if(l)return a[o]=l(r(s[1]));switch(c){case"Date":a[o]=new Date(s[1]);break;case"Set":const u=new Set;a[o]=u;for(let d=1;d<s.length;d+=1)u.add(r(s[d]));break;case"Map":const h=new Map;a[o]=h;for(let d=1;d<s.length;d+=2)h.set(r(s[d]),r(s[d+1]));break;case"RegExp":a[o]=new RegExp(s[1],s[2]);break;case"Object":a[o]=Object(s[1]);break;case"BigInt":a[o]=BigInt(s[1]);break;case"null":const g=Object.create(null);a[o]=g;for(let d=1;d<s.length;d+=2)g[s[d]]=r(s[d+1]);break;default:throw new Error(`Unknown type ${c}`)}}else{const c=new Array(s.length);a[o]=c;for(let l=0;l<s.length;l+=1){const u=s[l];u!==Oe&&(c[l]=r(u))}}else{const c={};a[o]=c;for(const l in s){const u=s[l];c[l]=r(u)}}return a[o]}return r(0)}const zt=new Set(["load","prerender","csr","ssr","trailingSlash","config"]);[...zt];const Fe=new Set([...zt]);[...Fe];function qe(t){return t.filter(n=>n!=null)}class rt{constructor(n,e){this.status=n,typeof e=="string"?this.body={message:e}:e?this.body=e:this.body={message:`Error: ${n}`}}toString(){return JSON.stringify(this.body)}}class Yt{constructor(n,e){this.status=n,this.location=e}}class wt extends Error{constructor(n,e,a){super(a),this.status=n,this.text=e}}const Ge="x-sveltekit-invalidated",Me="x-sveltekit-trailing-slash";function X(t){return t instanceof rt||t instanceof wt?t.status:500}function He(t){return t instanceof wt?t.text:"Internal Error"}const N=Ft(Gt)??{},B=Ft(qt)??{},U={url:Ut({}),page:Ut({}),navigating:_t(null),updated:xe()};function vt(t){N[t]=yt()}function Be(t,n){let e=t+1;for(;N[e];)delete N[e],e+=1;for(e=n+1;B[e];)delete B[e],e+=1}function V(t){return location.href=t.href,new Promise(()=>{})}function xt(){}let ot,pt,Z,T,gt,F;const Jt=[],Q=[];let R=null;const Wt=[],Ke=[];let $=[],y={branch:[],error:null,url:null},bt=!1,tt=!1,Nt=!0,K=!1,q=!1,Xt=!1,Et=!1,kt,S,L,I,et;const M=new Set;async function an(t,n,e){var r,o;document.URL!==location.href&&(location.href=location.href),F=t,ot=Le(t),T=document.documentElement,gt=n,pt=t.nodes[0],Z=t.nodes[1],pt(),Z(),S=(r=history.state)==null?void 0:r[D],L=(o=history.state)==null?void 0:o[H],S||(S=L=Date.now(),history.replaceState({...history.state,[D]:S,[H]:L},""));const a=N[S];a&&(history.scrollRestoration="manual",scrollTo(a.x,a.y)),e?await tn(gt,e):Ze(location.href,{replaceState:!0}),Qe()}function ze(){Jt.length=0,Et=!1}function Zt(t){Q.some(n=>n==null?void 0:n.snapshot)&&(B[t]=Q.map(n=>{var e;return(e=n==null?void 0:n.snapshot)==null?void 0:e.capture()}))}function Qt(t){var n;(n=B[t])==null||n.forEach((e,a)=>{var r,o;(o=(r=Q[a])==null?void 0:r.snapshot)==null||o.restore(e)})}function Ot(){vt(S),Pt(Gt,N),Zt(L),Pt(qt,B)}async function te(t,n,e,a){return Y({type:"goto",url:Ht(t),keepfocus:n.keepFocus,noscroll:n.noScroll,replace_state:n.replaceState,state:n.state,redirect_count:e,nav_token:a,accept:()=>{n.invalidateAll&&(Et=!0)}})}async function Ye(t){if(t.id!==(R==null?void 0:R.id)){const n={};M.add(n),R={id:t.id,token:n,promise:ne({...t,preload:n}).then(e=>(M.delete(n),e.type==="loaded"&&e.state.error&&(R=null),e))}}return R.promise}async function dt(t){const n=ot.find(e=>e.exec(ae(t)));n&&await Promise.all([...n.layouts,n.leaf].map(e=>e==null?void 0:e[1]()))}function ee(t,n,e){var o;y=t.state;const a=document.querySelector("style[data-sveltekit]");a&&a.remove(),I=t.props.page,kt=new F.root({target:n,props:{...t.props,stores:U,components:Q},hydrate:e}),Qt(L);const r={from:null,to:{params:y.params,route:{id:((o=y.route)==null?void 0:o.id)??null},url:new URL(location.href)},willUnload:!1,type:"enter",complete:Promise.resolve()};$.forEach(i=>i(r)),tt=!0}async function nt({url:t,params:n,branch:e,status:a,error:r,route:o,form:i}){let s="never";if(P&&(t.pathname===P||t.pathname===P+"/"))s="always";else for(const d of e)(d==null?void 0:d.slash)!==void 0&&(s=d.slash);t.pathname=ue(t.pathname,s),t.search=t.search;const c={type:"loaded",state:{url:t,params:n,branch:e,error:r,route:o},props:{constructors:qe(e).map(d=>d.node.component),page:I}};i!==void 0&&(c.props.form=i);let l={},u=!I,h=0;for(let d=0;d<Math.max(e.length,y.branch.length);d+=1){const _=e[d],f=y.branch[d];(_==null?void 0:_.data)!==(f==null?void 0:f.data)&&(u=!0),_&&(l={...l,..._.data},u&&(c.props[`data_${h}`]=l),h+=1)}return(!y.url||t.href!==y.url.href||y.error!==r||i!==void 0&&i!==I.form||u)&&(c.props.page={error:r,params:n,route:{id:(o==null?void 0:o.id)??null},state:{},status:a,url:new URL(t),form:i??null,data:u?l:I.data}),c}async function St({loader:t,parent:n,url:e,params:a,route:r,server_data_node:o}){var u,h,g;let i=null,s=!0;const c={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1,search_params:new Set},l=await t();if((u=l.universal)!=null&&u.load){let d=function(...f){for(const m of f){const{href:b}=new URL(m,e);c.dependencies.add(b)}};const _={route:new Proxy(r,{get:(f,m)=>(s&&(c.route=!0),f[m])}),params:new Proxy(a,{get:(f,m)=>(s&&c.params.add(m),f[m])}),data:(o==null?void 0:o.data)??null,url:ge(e,()=>{s&&(c.url=!0)},f=>{s&&c.search_params.add(f)}),async fetch(f,m){let b;f instanceof Request?(b=f.url,m={body:f.method==="GET"||f.method==="HEAD"?void 0:await f.blob(),cache:f.cache,credentials:f.credentials,headers:f.headers,integrity:f.integrity,keepalive:f.keepalive,method:f.method,mode:f.mode,redirect:f.redirect,referrer:f.referrer,referrerPolicy:f.referrerPolicy,signal:f.signal,...m}):b=f;const A=new URL(b,e);return s&&d(A.href),A.origin===e.origin&&(b=A.href.slice(e.origin.length)),tt?Ee(b,A.href,m):be(b,m)},setHeaders:()=>{},depends:d,parent(){return s&&(c.parent=!0),n()},untrack(f){s=!1;try{return f()}finally{s=!0}}};i=await l.universal.load.call(null,_)??null}return{node:l,loader:t,server:o,universal:(h=l.universal)!=null&&h.load?{type:"data",data:i,uses:c}:null,data:i??(o==null?void 0:o.data)??null,slash:((g=l.universal)==null?void 0:g.trailingSlash)??(o==null?void 0:o.slash)}}function jt(t,n,e,a,r,o){if(Et)return!0;if(!r)return!1;if(r.parent&&t||r.route&&n||r.url&&e)return!0;for(const i of r.search_params)if(a.has(i))return!0;for(const i of r.params)if(o[i]!==y.params[i])return!0;for(const i of r.dependencies)if(Jt.some(s=>s(new URL(i))))return!0;return!1}function At(t,n){return(t==null?void 0:t.type)==="data"?t:(t==null?void 0:t.type)==="skip"?n??null:null}function Je(t,n){if(!t)return new Set(n.searchParams.keys());const e=new Set([...t.searchParams.keys(),...n.searchParams.keys()]);for(const a of e){const r=t.searchParams.getAll(a),o=n.searchParams.getAll(a);r.every(i=>o.includes(i))&&o.every(i=>r.includes(i))&&e.delete(a)}return e}function $t({error:t,url:n,route:e,params:a}){return{type:"loaded",state:{error:t,url:n,route:e,params:a,branch:[]},props:{page:I,constructors:[]}}}async function ne({id:t,invalidating:n,url:e,params:a,route:r,preload:o}){if((R==null?void 0:R.id)===t)return M.delete(R.token),R.promise;const{errors:i,layouts:s,leaf:c}=r,l=[...s,c];i.forEach(p=>p==null?void 0:p().catch(()=>{})),l.forEach(p=>p==null?void 0:p[1]().catch(()=>{}));let u=null;const h=y.url?t!==y.url.pathname+y.url.search:!1,g=y.route?r.id!==y.route.id:!1,d=Je(y.url,e);let _=!1;const f=l.map((p,v)=>{var x;const E=y.branch[v],k=!!(p!=null&&p[0])&&((E==null?void 0:E.loader)!==p[1]||jt(_,g,h,d,(x=E.server)==null?void 0:x.uses,a));return k&&(_=!0),k});if(f.some(Boolean)){try{u=await se(e,f)}catch(p){const v=await C(p,{url:e,params:a,route:{id:t}});return M.has(o)?$t({error:v,url:e,params:a,route:r}):st({status:X(p),error:v,url:e,route:r})}if(u.type==="redirect")return u}const m=u==null?void 0:u.nodes;let b=!1;const A=l.map(async(p,v)=>{var it;if(!p)return;const E=y.branch[v],k=m==null?void 0:m[v];if((!k||k.type==="skip")&&p[1]===(E==null?void 0:E.loader)&&!jt(b,g,h,d,(it=E.universal)==null?void 0:it.uses,a))return E;if(b=!0,(k==null?void 0:k.type)==="error")throw k;return St({loader:p[1],url:e,params:a,route:r,parent:async()=>{var Lt;const It={};for(let ct=0;ct<v;ct+=1)Object.assign(It,(Lt=await A[ct])==null?void 0:Lt.data);return It},server_data_node:At(k===void 0&&p[0]?{type:"skip"}:k??null,p[0]?E==null?void 0:E.server:void 0)})});for(const p of A)p.catch(()=>{});const w=[];for(let p=0;p<l.length;p+=1)if(l[p])try{w.push(await A[p])}catch(v){if(v instanceof Yt)return{type:"redirect",location:v.location};if(M.has(o))return $t({error:await C(v,{params:a,url:e,route:{id:r.id}}),url:e,params:a,route:r});let E=X(v),k;if(m!=null&&m.includes(v))E=v.status??E,k=v.error;else if(v instanceof rt)k=v.body;else{if(await U.updated.check())return await V(e);k=await C(v,{params:a,url:e,route:{id:r.id}})}const x=await We(p,w,i);return x?await nt({url:e,params:a,branch:w.slice(0,x.idx).concat(x.node),status:E,error:k,route:r}):await oe(e,{id:r.id},k,E)}else w.push(void 0);return await nt({url:e,params:a,branch:w,status:200,error:null,route:r,form:n?void 0:null})}async function We(t,n,e){for(;t--;)if(e[t]){let a=t;for(;!n[a];)a-=1;try{return{idx:a+1,node:{node:await e[t](),loader:e[t],data:{},server:null,universal:null}}}catch{continue}}}async function st({status:t,error:n,url:e,route:a}){const r={};let o=null;if(F.server_loads[0]===0)try{const l=await se(e,[!0]);if(l.type!=="data"||l.nodes[0]&&l.nodes[0].type!=="data")throw 0;o=l.nodes[0]??null}catch{(e.origin!==z||e.pathname!==location.pathname||bt)&&await V(e)}const s=await St({loader:pt,url:e,params:r,route:a,parent:()=>Promise.resolve({}),server_data_node:At(o)}),c={node:await Z(),loader:Z,universal:null,server:null,data:null};return await nt({url:e,params:r,branch:[s,c],status:t,error:n,route:null})}function Rt(t,n){if(!t||at(t,P))return;let e;try{e=F.hooks.reroute({url:new URL(t)})??t.pathname}catch{return}const a=ae(e);for(const r of ot){const o=r.exec(a);if(o)return{id:t.pathname+t.search,invalidating:n,route:r,params:he(o),url:t}}}function ae(t){return de(t.slice(P.length)||"/")}function re({url:t,type:n,intent:e,delta:a}){let r=!1;const o=ce(y,e,t,n);a!==void 0&&(o.navigation.delta=a);const i={...o.navigation,cancel:()=>{r=!0,o.reject(new Error("navigation cancelled"))}};return K||Wt.forEach(s=>s(i)),r?null:o}async function Y({type:t,url:n,popped:e,keepfocus:a,noscroll:r,replace_state:o,state:i={},redirect_count:s=0,nav_token:c={},accept:l=xt,block:u=xt}){const h=Rt(n,!1),g=re({url:n,type:t,delta:e==null?void 0:e.delta,intent:h});if(!g){u();return}const d=S,_=L;l(),K=!0,tt&&U.navigating.set(g.navigation),et=c;let f=h&&await ne(h);if(!f){if(at(n,P))return await V(n);f=await oe(n,{id:null},await C(new wt(404,"Not Found",`Not found: ${n.pathname}`),{url:n,params:{},route:{id:null}}),404)}if(n=(h==null?void 0:h.url)||n,et!==c)return g.reject(new Error("navigation aborted")),!1;if(f.type==="redirect")if(s>=20)f=await st({status:500,error:await C(new Error("Redirect loop"),{url:n,params:{},route:{id:null}}),url:n,route:{id:null}});else return te(new URL(f.location,n).href,{},s+1,c),!1;else f.props.page.status>=400&&await U.updated.check()&&await V(n);if(ze(),vt(d),Zt(_),f.props.page.url.pathname!==n.pathname&&(n.pathname=f.props.page.url.pathname),i=e?e.state:i,!e){const w=o?0:1,p={[D]:S+=w,[H]:L+=w,[Mt]:i};(o?history.replaceState:history.pushState).call(history,p,"",n),o||Be(S,L)}if(R=null,f.props.page.state=i,tt){y=f.state,f.props.page&&(f.props.page.url=n);const w=(await Promise.all(Ke.map(p=>p(g.navigation)))).filter(p=>typeof p=="function");if(w.length>0){let p=function(){$=$.filter(v=>!w.includes(v))};w.push(p),$.push(...w)}kt.$set(f.props),Xt=!0}else ee(f,gt,!1);const{activeElement:m}=document;await fe();const b=e?e.scroll:r?yt():null;if(Nt){const w=n.hash&&document.getElementById(decodeURIComponent(n.hash.slice(1)));b?scrollTo(b.x,b.y):w?w.scrollIntoView():scrollTo(0,0)}const A=document.activeElement!==m&&document.activeElement!==document.body;!a&&!A&&en(),Nt=!0,f.props.page&&(I=f.props.page),K=!1,t==="popstate"&&Qt(L),g.fulfil(void 0),$.forEach(w=>w(g.navigation)),U.navigating.set(null)}async function oe(t,n,e,a){return t.origin===z&&t.pathname===location.pathname&&!bt?await st({status:a,error:e,url:t,route:n}):await V(t)}function Xe(){let t;T.addEventListener("mousemove",o=>{const i=o.target;clearTimeout(t),t=setTimeout(()=>{a(i,2)},20)});function n(o){a(o.composedPath()[0],1)}T.addEventListener("mousedown",n),T.addEventListener("touchstart",n,{passive:!0});const e=new IntersectionObserver(o=>{for(const i of o)i.isIntersecting&&(dt(i.target.href),e.unobserve(i.target))},{threshold:0});function a(o,i){const s=Kt(o,T);if(!s)return;const{url:c,external:l,download:u}=ht(s,P);if(l||u)return;const h=W(s);if(!h.reload)if(i<=h.preload_data){const g=Rt(c,!1);g&&Ye(g)}else i<=h.preload_code&&dt(c.pathname)}function r(){e.disconnect();for(const o of T.querySelectorAll("a")){const{url:i,external:s,download:c}=ht(o,P);if(s||c)continue;const l=W(o);l.reload||(l.preload_code===J.viewport&&e.observe(o),l.preload_code===J.eager&&dt(i.pathname))}}$.push(r),r()}function C(t,n){if(t instanceof rt)return t.body;const e=X(t),a=He(t);return F.hooks.handleError({error:t,event:n,status:e,message:a})??{message:a}}function Ze(t,n={}){return t=Ht(t),t.origin!==z?Promise.reject(new Error("goto: invalid URL")):te(t,n,0)}function Qe(){var n;history.scrollRestoration="manual",addEventListener("beforeunload",e=>{let a=!1;if(Ot(),!K){const r=ce(y,void 0,null,"leave"),o={...r.navigation,cancel:()=>{a=!0,r.reject(new Error("navigation cancelled"))}};Wt.forEach(i=>i(o))}a?(e.preventDefault(),e.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&Ot()}),(n=navigator.connection)!=null&&n.saveData||Xe(),T.addEventListener("click",e=>{var g;if(e.button||e.which!==1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.defaultPrevented)return;const a=Kt(e.composedPath()[0],T);if(!a)return;const{url:r,external:o,target:i,download:s}=ht(a,P);if(!r)return;if(i==="_parent"||i==="_top"){if(window.parent!==window)return}else if(i&&i!=="_self")return;const c=W(a);if(!(a instanceof SVGAElement)&&r.protocol!==location.protocol&&!(r.protocol==="https:"||r.protocol==="http:")||s)return;if(o||c.reload){re({url:r,type:"link"})?K=!0:e.preventDefault();return}const[u,h]=r.href.split("#");if(h!==void 0&&u===ft(location)){const[,d]=y.url.href.split("#");if(d===h){e.preventDefault(),h===""||h==="top"&&a.ownerDocument.getElementById("top")===null?window.scrollTo({top:0}):(g=a.ownerDocument.getElementById(h))==null||g.scrollIntoView();return}if(q=!0,vt(S),t(r),!c.replace_state)return;q=!1}e.preventDefault(),Y({type:"link",url:r,keepfocus:c.keepfocus,noscroll:c.noscroll,replace_state:c.replace_state??r.href===location.href})}),T.addEventListener("submit",e=>{if(e.defaultPrevented)return;const a=HTMLFormElement.prototype.cloneNode.call(e.target),r=e.submitter;if(((r==null?void 0:r.formMethod)||a.method)!=="get")return;const i=new URL((r==null?void 0:r.hasAttribute("formaction"))&&(r==null?void 0:r.formAction)||a.action);if(at(i,P))return;const s=e.target,c=W(s);if(c.reload)return;e.preventDefault(),e.stopPropagation();const l=new FormData(s),u=r==null?void 0:r.getAttribute("name");u&&l.append(u,(r==null?void 0:r.getAttribute("value"))??""),i.search=new URLSearchParams(l).toString(),Y({type:"form",url:i,keepfocus:c.keepfocus,noscroll:c.noscroll,replace_state:c.replace_state??i.href===location.href})}),addEventListener("popstate",async e=>{var a;if((a=e.state)!=null&&a[D]){const r=e.state[D];if(et={},r===S)return;const o=N[r],i=e.state[Mt]??{},s=new URL(e.state[Ue]??location.href),c=e.state[H],l=ft(location)===ft(y.url);if(c===L&&(Xt||l)){t(s),N[S]=yt(),o&&scrollTo(o.x,o.y),i!==I.state&&(I={...I,state:i},kt.$set({page:I})),S=r;return}const h=r-S;await Y({type:"popstate",url:s,popped:{state:i,scroll:o,delta:h},accept:()=>{S=r,L=c},block:()=>{history.go(-h)},nav_token:et})}else if(!q){const r=new URL(location.href);t(r)}}),addEventListener("hashchange",()=>{q&&(q=!1,history.replaceState({...history.state,[D]:++S,[H]:L},"",location.href))});for(const e of document.querySelectorAll("link"))e.rel==="icon"&&(e.href=e.href);addEventListener("pageshow",e=>{e.persisted&&U.navigating.set(null)});function t(e){y.url=e,U.page.set({...I,url:e}),U.page.notify()}}async function tn(t,{status:n=200,error:e,node_ids:a,params:r,route:o,data:i,form:s}){bt=!0;const c=new URL(location.href);({params:r={},route:o={id:null}}=Rt(c,!1)||{});let l;try{const u=a.map(async(d,_)=>{const f=i[_];return f!=null&&f.uses&&(f.uses=ie(f.uses)),St({loader:F.nodes[d],url:c,params:r,route:o,parent:async()=>{const m={};for(let b=0;b<_;b+=1)Object.assign(m,(await u[b]).data);return m},server_data_node:At(f)})}),h=await Promise.all(u),g=ot.find(({id:d})=>d===o.id);if(g){const d=g.layouts;for(let _=0;_<d.length;_++)d[_]||h.splice(_,0,void 0)}l=await nt({url:c,params:r,branch:h,status:n,error:e,form:s,route:g??null})}catch(u){if(u instanceof Yt){await V(new URL(u.location,location.href));return}l=await st({status:X(u),error:await C(u,{url:c,params:r,route:o}),url:c,route:o})}l.props.page&&(l.props.page.state={}),ee(l,t,!0)}async function se(t,n){var r;const e=new URL(t);e.pathname=ye(t.pathname),t.pathname.endsWith("/")&&e.searchParams.append(Me,"1"),e.searchParams.append(Ge,n.map(o=>o?"1":"0").join(""));const a=await Vt(e.href);if(!a.ok){let o;throw(r=a.headers.get("content-type"))!=null&&r.includes("application/json")?o=await a.json():a.status===404?o="Not Found":a.status===500&&(o="Internal Error"),new rt(a.status,o)}return new Promise(async o=>{var h;const i=new Map,s=a.body.getReader(),c=new TextDecoder;function l(g){return Ve(g,{Promise:d=>new Promise((_,f)=>{i.set(d,{fulfil:_,reject:f})})})}let u="";for(;;){const{done:g,value:d}=await s.read();if(g&&!u)break;for(u+=!d&&u?`
`:c.decode(d,{stream:!0});;){const _=u.indexOf(`
`);if(_===-1)break;const f=JSON.parse(u.slice(0,_));if(u=u.slice(_+1),f.type==="redirect")return o(f);if(f.type==="data")(h=f.nodes)==null||h.forEach(m=>{(m==null?void 0:m.type)==="data"&&(m.uses=ie(m.uses),m.data=l(m.data))}),o(f);else if(f.type==="chunk"){const{id:m,data:b,error:A}=f,w=i.get(m);i.delete(m),A?w.reject(l(A)):w.fulfil(l(b))}}}})}function ie(t){return{dependencies:new Set((t==null?void 0:t.dependencies)??[]),params:new Set((t==null?void 0:t.params)??[]),parent:!!(t!=null&&t.parent),route:!!(t!=null&&t.route),url:!!(t!=null&&t.url),search_params:new Set((t==null?void 0:t.search_params)??[])}}function en(){const t=document.querySelector("[autofocus]");if(t)t.focus();else{const n=document.body,e=n.getAttribute("tabindex");n.tabIndex=-1,n.focus({preventScroll:!0,focusVisible:!1}),e!==null?n.setAttribute("tabindex",e):n.removeAttribute("tabindex");const a=getSelection();if(a&&a.type!=="None"){const r=[];for(let o=0;o<a.rangeCount;o+=1)r.push(a.getRangeAt(o));setTimeout(()=>{if(a.rangeCount===r.length){for(let o=0;o<a.rangeCount;o+=1){const i=r[o],s=a.getRangeAt(o);if(i.commonAncestorContainer!==s.commonAncestorContainer||i.startContainer!==s.startContainer||i.endContainer!==s.endContainer||i.startOffset!==s.startOffset||i.endOffset!==s.endOffset)return}a.removeAllRanges()}})}}}function ce(t,n,e,a){var c,l;let r,o;const i=new Promise((u,h)=>{r=u,o=h});return i.catch(()=>{}),{navigation:{from:{params:t.params,route:{id:((c=t.route)==null?void 0:c.id)??null},url:t.url},to:e&&{params:(n==null?void 0:n.params)??null,route:{id:((l=n==null?void 0:n.route)==null?void 0:l.id)??null},url:e},willUnload:!n,type:a,complete:i},fulfil:r,reject:o}}export{an as a,U as s};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW50cnkuQ0RWQXFTdHguanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3ZlbHRlanMva2l0L3NyYy91dGlscy91cmwuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHN2ZWx0ZWpzL2tpdC9zcmMvcnVudGltZS9oYXNoLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9raXQvc3JjL3J1bnRpbWUvdXRpbHMuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHN2ZWx0ZWpzL2tpdC9zcmMvcnVudGltZS9jbGllbnQvZmV0Y2hlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3ZlbHRlanMva2l0L3NyYy91dGlscy9yb3V0aW5nLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9raXQvc3JjL3J1bnRpbWUvY2xpZW50L3BhcnNlLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9raXQvc3JjL3J1bnRpbWUvY2xpZW50L3Nlc3Npb24tc3RvcmFnZS5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvc3RvcmUvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHN2ZWx0ZWpzL2tpdC9zcmMvcnVudGltZS9jbGllbnQvY29uc3RhbnRzLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9raXQvc3JjL3J1bnRpbWUvY2xpZW50L3V0aWxzLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RldmFsdWUvc3JjL2NvbnN0YW50cy5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9kZXZhbHVlL3NyYy9wYXJzZS5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3ZlbHRlanMva2l0L3NyYy91dGlscy9leHBvcnRzLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9raXQvc3JjL3V0aWxzL2FycmF5LmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9raXQvc3JjL3J1bnRpbWUvY29udHJvbC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3ZlbHRlanMva2l0L3NyYy9ydW50aW1lL3NoYXJlZC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3ZlbHRlanMva2l0L3NyYy91dGlscy9lcnJvci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3ZlbHRlanMva2l0L3NyYy9ydW50aW1lL2NsaWVudC9jbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQlJPV1NFUiwgREVWIH0gZnJvbSAnZXNtLWVudic7XG5cbi8qKlxuICogTWF0Y2hlcyBhIFVSSSBzY2hlbWUuIFNlZSBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjMzk4NiNzZWN0aW9uLTMuMVxuICogQHR5cGUge1JlZ0V4cH1cbiAqL1xuZXhwb3J0IGNvbnN0IFNDSEVNRSA9IC9eW2Etel1bYS16XFxkK1xcLS5dKzovaTtcblxuY29uc3QgaW50ZXJuYWwgPSBuZXcgVVJMKCdzdmVsdGVraXQtaW50ZXJuYWw6Ly8nKTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmUoYmFzZSwgcGF0aCkge1xuXHQvLyBzcGVjaWFsIGNhc2Vcblx0aWYgKHBhdGhbMF0gPT09ICcvJyAmJiBwYXRoWzFdID09PSAnLycpIHJldHVybiBwYXRoO1xuXG5cdGxldCB1cmwgPSBuZXcgVVJMKGJhc2UsIGludGVybmFsKTtcblx0dXJsID0gbmV3IFVSTChwYXRoLCB1cmwpO1xuXG5cdHJldHVybiB1cmwucHJvdG9jb2wgPT09IGludGVybmFsLnByb3RvY29sID8gdXJsLnBhdGhuYW1lICsgdXJsLnNlYXJjaCArIHVybC5oYXNoIDogdXJsLmhyZWY7XG59XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3Jvb3RfcmVsYXRpdmUocGF0aCkge1xuXHRyZXR1cm4gcGF0aFswXSA9PT0gJy8nICYmIHBhdGhbMV0gIT09ICcvJztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aFxuICogQHBhcmFtIHtpbXBvcnQoJ3R5cGVzJykuVHJhaWxpbmdTbGFzaH0gdHJhaWxpbmdfc2xhc2hcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZV9wYXRoKHBhdGgsIHRyYWlsaW5nX3NsYXNoKSB7XG5cdGlmIChwYXRoID09PSAnLycgfHwgdHJhaWxpbmdfc2xhc2ggPT09ICdpZ25vcmUnKSByZXR1cm4gcGF0aDtcblxuXHRpZiAodHJhaWxpbmdfc2xhc2ggPT09ICduZXZlcicpIHtcblx0XHRyZXR1cm4gcGF0aC5lbmRzV2l0aCgnLycpID8gcGF0aC5zbGljZSgwLCAtMSkgOiBwYXRoO1xuXHR9IGVsc2UgaWYgKHRyYWlsaW5nX3NsYXNoID09PSAnYWx3YXlzJyAmJiAhcGF0aC5lbmRzV2l0aCgnLycpKSB7XG5cdFx0cmV0dXJuIHBhdGggKyAnLyc7XG5cdH1cblxuXHRyZXR1cm4gcGF0aDtcbn1cblxuLyoqXG4gKiBEZWNvZGUgcGF0aG5hbWUgZXhjbHVkaW5nICUyNSB0byBwcmV2ZW50IGZ1cnRoZXIgZG91YmxlIGRlY29kaW5nIG9mIHBhcmFtc1xuICogQHBhcmFtIHtzdHJpbmd9IHBhdGhuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVfcGF0aG5hbWUocGF0aG5hbWUpIHtcblx0cmV0dXJuIHBhdGhuYW1lLnNwbGl0KCclMjUnKS5tYXAoZGVjb2RlVVJJKS5qb2luKCclMjUnKTtcbn1cblxuLyoqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgc3RyaW5nPn0gcGFyYW1zICovXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlX3BhcmFtcyhwYXJhbXMpIHtcblx0Zm9yIChjb25zdCBrZXkgaW4gcGFyYW1zKSB7XG5cdFx0Ly8gaW5wdXQgaGFzIGFscmVhZHkgYmVlbiBkZWNvZGVkIGJ5IGRlY29kZVVSSVxuXHRcdC8vIG5vdyBoYW5kbGUgdGhlIHJlc3Rcblx0XHRwYXJhbXNba2V5XSA9IGRlY29kZVVSSUNvbXBvbmVudChwYXJhbXNba2V5XSk7XG5cdH1cblxuXHRyZXR1cm4gcGFyYW1zO1xufVxuXG4vKipcbiAqIFRoZSBlcnJvciB3aGVuIGEgVVJMIGlzIG1hbGZvcm1lZCBpcyBub3QgdmVyeSBoZWxwZnVsLCBzbyB3ZSBhdWdtZW50IGl0IHdpdGggdGhlIFVSSVxuICogQHBhcmFtIHtzdHJpbmd9IHVyaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlX3VyaSh1cmkpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gZGVjb2RlVVJJKHVyaSk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAoZSBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdFx0XHRlLm1lc3NhZ2UgPSBgRmFpbGVkIHRvIGRlY29kZSBVUkk6ICR7dXJpfVxcbmAgKyBlLm1lc3NhZ2U7XG5cdFx0fVxuXHRcdHRocm93IGU7XG5cdH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIGV2ZXJ5dGhpbmcgdXAgdG8gdGhlIGZpcnN0IGAjYCBpbiBhIFVSTFxuICogQHBhcmFtIHt7aHJlZjogc3RyaW5nfX0gdXJsX2xpa2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwX2hhc2goeyBocmVmIH0pIHtcblx0cmV0dXJuIGhyZWYuc3BsaXQoJyMnKVswXTtcbn1cblxuLyoqXG4gKiBVUkwgcHJvcGVydGllcyB0aGF0IGNvdWxkIGNoYW5nZSBkdXJpbmcgdGhlIGxpZmV0aW1lIG9mIHRoZSBwYWdlLFxuICogd2hpY2ggZXhjbHVkZXMgdGhpbmdzIGxpa2UgYG9yaWdpbmBcbiAqL1xuY29uc3QgdHJhY2tlZF91cmxfcHJvcGVydGllcyA9IC8qKiBAdHlwZSB7Y29uc3R9ICovIChbXG5cdCdocmVmJyxcblx0J3BhdGhuYW1lJyxcblx0J3NlYXJjaCcsXG5cdCd0b1N0cmluZycsXG5cdCd0b0pTT04nXG5dKTtcblxuLyoqXG4gKiBAcGFyYW0ge1VSTH0gdXJsXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IGNhbGxiYWNrXG4gKiBAcGFyYW0geyhzZWFyY2hfcGFyYW06IHN0cmluZykgPT4gdm9pZH0gc2VhcmNoX3BhcmFtc19jYWxsYmFja1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZV90cmFja2FibGUodXJsLCBjYWxsYmFjaywgc2VhcmNoX3BhcmFtc19jYWxsYmFjaykge1xuXHRjb25zdCB0cmFja2VkID0gbmV3IFVSTCh1cmwpO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0cmFja2VkLCAnc2VhcmNoUGFyYW1zJywge1xuXHRcdHZhbHVlOiBuZXcgUHJveHkodHJhY2tlZC5zZWFyY2hQYXJhbXMsIHtcblx0XHRcdGdldChvYmosIGtleSkge1xuXHRcdFx0XHRpZiAoa2V5ID09PSAnZ2V0JyB8fCBrZXkgPT09ICdnZXRBbGwnIHx8IGtleSA9PT0gJ2hhcycpIHtcblx0XHRcdFx0XHRyZXR1cm4gKC8qKkB0eXBlIHtzdHJpbmd9Ki8gcGFyYW0pID0+IHtcblx0XHRcdFx0XHRcdHNlYXJjaF9wYXJhbXNfY2FsbGJhY2socGFyYW0pO1xuXHRcdFx0XHRcdFx0cmV0dXJuIG9ialtrZXldKHBhcmFtKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaWYgdGhleSB0cnkgdG8gYWNjZXNzIHNvbWV0aGluZyBkaWZmZXJlbnQgZnJvbSB3aGF0IGlzIGluIGB0cmFja2VkX3NlYXJjaF9wYXJhbXNfcHJvcGVydGllc2Bcblx0XHRcdFx0Ly8gd2UgdHJhY2sgdGhlIHdob2xlIHVybCAoZW50cmllcywgdmFsdWVzLCBrZXlzIGV0Yylcblx0XHRcdFx0Y2FsbGJhY2soKTtcblxuXHRcdFx0XHRjb25zdCB2YWx1ZSA9IFJlZmxlY3QuZ2V0KG9iaiwga2V5KTtcblx0XHRcdFx0cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLmJpbmQob2JqKSA6IHZhbHVlO1xuXHRcdFx0fVxuXHRcdH0pLFxuXHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdH0pO1xuXG5cdGZvciAoY29uc3QgcHJvcGVydHkgb2YgdHJhY2tlZF91cmxfcHJvcGVydGllcykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0cmFja2VkLCBwcm9wZXJ0eSwge1xuXHRcdFx0Z2V0KCkge1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRyZXR1cm4gdXJsW3Byb3BlcnR5XTtcblx0XHRcdH0sXG5cblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHR9KTtcblx0fVxuXG5cdGlmICghQlJPV1NFUikge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHR0cmFja2VkW1N5bWJvbC5mb3IoJ25vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tJyldID0gKGRlcHRoLCBvcHRzLCBpbnNwZWN0KSA9PiB7XG5cdFx0XHRyZXR1cm4gaW5zcGVjdCh1cmwsIG9wdHMpO1xuXHRcdH07XG5cdH1cblxuXHRpZiAoREVWIHx8ICFCUk9XU0VSKSB7XG5cdFx0ZGlzYWJsZV9oYXNoKHRyYWNrZWQpO1xuXHR9XG5cblx0cmV0dXJuIHRyYWNrZWQ7XG59XG5cbi8qKlxuICogRGlzYWxsb3cgYWNjZXNzIHRvIGB1cmwuaGFzaGAgb24gdGhlIHNlcnZlciBhbmQgaW4gYGxvYWRgXG4gKiBAcGFyYW0ge1VSTH0gdXJsXG4gKi9cbmZ1bmN0aW9uIGRpc2FibGVfaGFzaCh1cmwpIHtcblx0YWxsb3dfbm9kZWpzX2NvbnNvbGVfbG9nKHVybCk7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHVybCwgJ2hhc2gnLCB7XG5cdFx0Z2V0KCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHQnQ2Fubm90IGFjY2VzcyBldmVudC51cmwuaGFzaC4gQ29uc2lkZXIgdXNpbmcgYCRwYWdlLnVybC5oYXNoYCBpbnNpZGUgYSBjb21wb25lbnQgaW5zdGVhZCdcblx0XHRcdCk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLyoqXG4gKiBEaXNhbGxvdyBhY2Nlc3MgdG8gYHVybC5zZWFyY2hgIGFuZCBgdXJsLnNlYXJjaFBhcmFtc2AgZHVyaW5nIHByZXJlbmRlcmluZ1xuICogQHBhcmFtIHtVUkx9IHVybFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZV9zZWFyY2godXJsKSB7XG5cdGFsbG93X25vZGVqc19jb25zb2xlX2xvZyh1cmwpO1xuXG5cdGZvciAoY29uc3QgcHJvcGVydHkgb2YgWydzZWFyY2gnLCAnc2VhcmNoUGFyYW1zJ10pIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodXJsLCBwcm9wZXJ0eSwge1xuXHRcdFx0Z2V0KCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBhY2Nlc3MgdXJsLiR7cHJvcGVydHl9IG9uIGEgcGFnZSB3aXRoIHByZXJlbmRlcmluZyBlbmFibGVkYCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cblxuLyoqXG4gKiBBbGxvdyBVUkwgdG8gYmUgY29uc29sZSBsb2dnZWQsIGJ5cGFzc2luZyBkaXNhYmxlZCBwcm9wZXJ0aWVzLlxuICogQHBhcmFtIHtVUkx9IHVybFxuICovXG5mdW5jdGlvbiBhbGxvd19ub2RlanNfY29uc29sZV9sb2codXJsKSB7XG5cdGlmICghQlJPV1NFUikge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHR1cmxbU3ltYm9sLmZvcignbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKV0gPSAoZGVwdGgsIG9wdHMsIGluc3BlY3QpID0+IHtcblx0XHRcdHJldHVybiBpbnNwZWN0KG5ldyBVUkwodXJsKSwgb3B0cyk7XG5cdFx0fTtcblx0fVxufVxuXG5jb25zdCBEQVRBX1NVRkZJWCA9ICcvX19kYXRhLmpzb24nO1xuY29uc3QgSFRNTF9EQVRBX1NVRkZJWCA9ICcuaHRtbF9fZGF0YS5qc29uJztcblxuLyoqIEBwYXJhbSB7c3RyaW5nfSBwYXRobmFtZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc19kYXRhX3N1ZmZpeChwYXRobmFtZSkge1xuXHRyZXR1cm4gcGF0aG5hbWUuZW5kc1dpdGgoREFUQV9TVUZGSVgpIHx8IHBhdGhuYW1lLmVuZHNXaXRoKEhUTUxfREFUQV9TVUZGSVgpO1xufVxuXG4vKiogQHBhcmFtIHtzdHJpbmd9IHBhdGhuYW1lICovXG5leHBvcnQgZnVuY3Rpb24gYWRkX2RhdGFfc3VmZml4KHBhdGhuYW1lKSB7XG5cdGlmIChwYXRobmFtZS5lbmRzV2l0aCgnLmh0bWwnKSkgcmV0dXJuIHBhdGhuYW1lLnJlcGxhY2UoL1xcLmh0bWwkLywgSFRNTF9EQVRBX1NVRkZJWCk7XG5cdHJldHVybiBwYXRobmFtZS5yZXBsYWNlKC9cXC8kLywgJycpICsgREFUQV9TVUZGSVg7XG59XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gcGF0aG5hbWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpcF9kYXRhX3N1ZmZpeChwYXRobmFtZSkge1xuXHRpZiAocGF0aG5hbWUuZW5kc1dpdGgoSFRNTF9EQVRBX1NVRkZJWCkpIHtcblx0XHRyZXR1cm4gcGF0aG5hbWUuc2xpY2UoMCwgLUhUTUxfREFUQV9TVUZGSVgubGVuZ3RoKSArICcuaHRtbCc7XG5cdH1cblxuXHRyZXR1cm4gcGF0aG5hbWUuc2xpY2UoMCwgLURBVEFfU1VGRklYLmxlbmd0aCk7XG59XG4iLCIvKipcbiAqIEhhc2ggdXNpbmcgZGpiMlxuICogQHBhcmFtIHtpbXBvcnQoJ3R5cGVzJykuU3RyaWN0Qm9keVtdfSB2YWx1ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc2goLi4udmFsdWVzKSB7XG5cdGxldCBoYXNoID0gNTM4MTtcblxuXHRmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRsZXQgaSA9IHZhbHVlLmxlbmd0aDtcblx0XHRcdHdoaWxlIChpKSBoYXNoID0gKGhhc2ggKiAzMykgXiB2YWx1ZS5jaGFyQ29kZUF0KC0taSk7XG5cdFx0fSBlbHNlIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpKSB7XG5cdFx0XHRjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh2YWx1ZS5idWZmZXIsIHZhbHVlLmJ5dGVPZmZzZXQsIHZhbHVlLmJ5dGVMZW5ndGgpO1xuXHRcdFx0bGV0IGkgPSBidWZmZXIubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKGkpIGhhc2ggPSAoaGFzaCAqIDMzKSBeIGJ1ZmZlclstLWldO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCd2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nIG9yIFR5cGVkQXJyYXknKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gKGhhc2ggPj4+IDApLnRvU3RyaW5nKDM2KTtcbn1cbiIsIi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlckxpa2V9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiNjRfZGVjb2RlKHRleHQpIHtcblx0Y29uc3QgZCA9IGF0b2IodGV4dCk7XG5cblx0Y29uc3QgdTggPSBuZXcgVWludDhBcnJheShkLmxlbmd0aCk7XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dThbaV0gPSBkLmNoYXJDb2RlQXQoaSk7XG5cdH1cblxuXHRyZXR1cm4gdTguYnVmZmVyO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGJ1ZmZlclxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGI2NF9lbmNvZGUoYnVmZmVyKSB7XG5cdGlmIChnbG9iYWxUaGlzLkJ1ZmZlcikge1xuXHRcdHJldHVybiBCdWZmZXIuZnJvbShidWZmZXIpLnRvU3RyaW5nKCdiYXNlNjQnKTtcblx0fVxuXG5cdGNvbnN0IGxpdHRsZV9lbmRpYW4gPSBuZXcgVWludDhBcnJheShuZXcgVWludDE2QXJyYXkoWzFdKS5idWZmZXIpWzBdID4gMDtcblxuXHQvLyBUaGUgVWludDE2QXJyYXkoVWludDhBcnJheSguLi4pKSBlbnN1cmVzIHRoZSBjb2RlIHBvaW50cyBhcmUgcGFkZGVkIHdpdGggMCdzXG5cdHJldHVybiBidG9hKFxuXHRcdG5ldyBUZXh0RGVjb2RlcihsaXR0bGVfZW5kaWFuID8gJ3V0Zi0xNmxlJyA6ICd1dGYtMTZiZScpLmRlY29kZShcblx0XHRcdG5ldyBVaW50MTZBcnJheShuZXcgVWludDhBcnJheShidWZmZXIpKVxuXHRcdClcblx0KTtcbn1cbiIsImltcG9ydCB7IEJST1dTRVIsIERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgaGFzaCB9IGZyb20gJy4uL2hhc2guanMnO1xuaW1wb3J0IHsgYjY0X2RlY29kZSB9IGZyb20gJy4uL3V0aWxzLmpzJztcblxubGV0IGxvYWRpbmcgPSAwO1xuXG4vKiogQHR5cGUge3R5cGVvZiBmZXRjaH0gKi9cbmV4cG9ydCBjb25zdCBuYXRpdmVfZmV0Y2ggPSBCUk9XU0VSID8gd2luZG93LmZldGNoIDogLyoqIEB0eXBlIHthbnl9ICovICgoKSA9PiB7fSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2NrX2ZldGNoKCkge1xuXHRsb2FkaW5nICs9IDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmxvY2tfZmV0Y2goKSB7XG5cdGxvYWRpbmcgLT0gMTtcbn1cblxuaWYgKERFViAmJiBCUk9XU0VSKSB7XG5cdGxldCBjYW5faW5zcGVjdF9zdGFja190cmFjZSA9IGZhbHNlO1xuXG5cdC8vIGRldGVjdCB3aGV0aGVyIGFzeW5jIHN0YWNrIHRyYWNlcyB3b3JrXG5cdGNvbnN0IGNoZWNrX3N0YWNrX3RyYWNlID0gYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN0YWNrID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChuZXcgRXJyb3IoKS5zdGFjayk7XG5cdFx0Y2FuX2luc3BlY3Rfc3RhY2tfdHJhY2UgPSBzdGFjay5pbmNsdWRlcygnY2hlY2tfc3RhY2tfdHJhY2UnKTtcblx0fTtcblxuXHRjaGVja19zdGFja190cmFjZSgpO1xuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1JlcXVlc3RJbmZvIHwgVVJMfSBpbnB1dFxuXHQgKiBAcGFyYW0ge1JlcXVlc3RJbml0ICYgUmVjb3JkPHN0cmluZywgYW55PiB8IHVuZGVmaW5lZH0gaW5pdFxuXHQgKi9cblx0d2luZG93LmZldGNoID0gKGlucHV0LCBpbml0KSA9PiB7XG5cdFx0Ly8gQ2hlY2sgaWYgZmV0Y2ggd2FzIGNhbGxlZCB2aWEgbG9hZF9ub2RlLiB0aGUgbG9jayBtZXRob2Qgb25seSBjaGVja3MgaWYgaXQgd2FzIGNhbGxlZCBhdCB0aGVcblx0XHQvLyBzYW1lIHRpbWUsIGJ1dCBub3QgbmVjZXNzYXJpbHkgaWYgaXQgd2FzIGNhbGxlZCBmcm9tIGBsb2FkYC5cblx0XHQvLyBXZSB1c2UganVzdCB0aGUgZmlsZW5hbWUgYXMgdGhlIG1ldGhvZCBuYW1lIHNvbWV0aW1lcyBkb2VzIG5vdCBhcHBlYXIgb24gdGhlIENJLlxuXHRcdGNvbnN0IHVybCA9IGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCA/IGlucHV0LnVybCA6IGlucHV0LnRvU3RyaW5nKCk7XG5cdFx0Y29uc3Qgc3RhY2tfYXJyYXkgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKG5ldyBFcnJvcigpLnN0YWNrKS5zcGxpdCgnXFxuJyk7XG5cdFx0Ly8gV2UgbmVlZCB0byBkbyBhIGN1dG9mZiBiZWNhdXNlIFNhZmFyaSBhbmQgRmlyZWZveCBtYWludGFpbiB0aGUgc3RhY2tcblx0XHQvLyBhY3Jvc3MgZXZlbnRzIGFuZCBmb3IgZXhhbXBsZSB0cmFjZXMgYSBgZmV0Y2hgIGNhbGwgdHJpZ2dlcmVkIGZyb20gYSBidXR0b25cblx0XHQvLyBiYWNrIHRvIHRoZSBjcmVhdGlvbiBvZiB0aGUgZXZlbnQgbGlzdGVuZXIgYW5kIHRoZSBlbGVtZW50IGNyZWF0aW9uIGl0c2VsZixcblx0XHQvLyB3aGVyZSBhdCBzb21lIHBvaW50IGNsaWVudC5qcyB3aWxsIHNob3cgdXAsIGxlYWRpbmcgdG8gZmFsc2UgcG9zaXRpdmVzLlxuXHRcdGNvbnN0IGN1dG9mZiA9IHN0YWNrX2FycmF5LmZpbmRJbmRleCgoYSkgPT4gYS5pbmNsdWRlcygnbG9hZEAnKSB8fCBhLmluY2x1ZGVzKCdhdCBsb2FkJykpO1xuXHRcdGNvbnN0IHN0YWNrID0gc3RhY2tfYXJyYXkuc2xpY2UoMCwgY3V0b2ZmICsgMikuam9pbignXFxuJyk7XG5cblx0XHRjb25zdCBpbl9sb2FkX2hldXJpc3RpYyA9IGNhbl9pbnNwZWN0X3N0YWNrX3RyYWNlXG5cdFx0XHQ/IHN0YWNrLmluY2x1ZGVzKCdzcmMvcnVudGltZS9jbGllbnQvY2xpZW50LmpzJylcblx0XHRcdDogbG9hZGluZztcblxuXHRcdC8vIFRoaXMgZmxhZyBpcyBzZXQgaW4gaW5pdGlhbF9mZXRjaCBhbmQgc3Vic2VxdWVudF9mZXRjaFxuXHRcdGNvbnN0IHVzZWRfa2l0X2ZldGNoID0gaW5pdD8uX19zdmVsdGVraXRfZmV0Y2hfXztcblxuXHRcdGlmIChpbl9sb2FkX2hldXJpc3RpYyAmJiAhdXNlZF9raXRfZmV0Y2gpIHtcblx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0YExvYWRpbmcgJHt1cmx9IHVzaW5nIFxcYHdpbmRvdy5mZXRjaFxcYC4gRm9yIGJlc3QgcmVzdWx0cywgdXNlIHRoZSBcXGBmZXRjaFxcYCB0aGF0IGlzIHBhc3NlZCB0byB5b3VyIFxcYGxvYWRcXGAgZnVuY3Rpb246IGh0dHBzOi8va2l0LnN2ZWx0ZS5kZXYvZG9jcy9sb2FkI21ha2luZy1mZXRjaC1yZXF1ZXN0c2Bcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgbWV0aG9kID0gaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0ID8gaW5wdXQubWV0aG9kIDogaW5pdD8ubWV0aG9kIHx8ICdHRVQnO1xuXG5cdFx0aWYgKG1ldGhvZCAhPT0gJ0dFVCcpIHtcblx0XHRcdGNhY2hlLmRlbGV0ZShidWlsZF9zZWxlY3RvcihpbnB1dCkpO1xuXHRcdH1cblxuXHRcdHJldHVybiBuYXRpdmVfZmV0Y2goaW5wdXQsIGluaXQpO1xuXHR9O1xufSBlbHNlIGlmIChCUk9XU0VSKSB7XG5cdHdpbmRvdy5mZXRjaCA9IChpbnB1dCwgaW5pdCkgPT4ge1xuXHRcdGNvbnN0IG1ldGhvZCA9IGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCA/IGlucHV0Lm1ldGhvZCA6IGluaXQ/Lm1ldGhvZCB8fCAnR0VUJztcblxuXHRcdGlmIChtZXRob2QgIT09ICdHRVQnKSB7XG5cdFx0XHRjYWNoZS5kZWxldGUoYnVpbGRfc2VsZWN0b3IoaW5wdXQpKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbmF0aXZlX2ZldGNoKGlucHV0LCBpbml0KTtcblx0fTtcbn1cblxuY29uc3QgY2FjaGUgPSBuZXcgTWFwKCk7XG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCBvbiB0aGUgaW5pdGlhbCBydW4gb2YgbG9hZCBmdW5jdGlvbnMgdGhhdCBoeWRyYXRlIHRoZSBwYWdlLlxuICogU2F2ZXMgYW55IHJlcXVlc3RzIHdpdGggY2FjaGUtY29udHJvbCBtYXgtYWdlIHRvIHRoZSBjYWNoZS5cbiAqIEBwYXJhbSB7VVJMIHwgc3RyaW5nfSByZXNvdXJjZVxuICogQHBhcmFtIHtSZXF1ZXN0SW5pdH0gW29wdHNdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsX2ZldGNoKHJlc291cmNlLCBvcHRzKSB7XG5cdGNvbnN0IHNlbGVjdG9yID0gYnVpbGRfc2VsZWN0b3IocmVzb3VyY2UsIG9wdHMpO1xuXG5cdGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuXHRpZiAoc2NyaXB0Py50ZXh0Q29udGVudCkge1xuXHRcdGxldCB7IGJvZHksIC4uLmluaXQgfSA9IEpTT04ucGFyc2Uoc2NyaXB0LnRleHRDb250ZW50KTtcblxuXHRcdGNvbnN0IHR0bCA9IHNjcmlwdC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHRsJyk7XG5cdFx0aWYgKHR0bCkgY2FjaGUuc2V0KHNlbGVjdG9yLCB7IGJvZHksIGluaXQsIHR0bDogMTAwMCAqIE51bWJlcih0dGwpIH0pO1xuXHRcdGNvbnN0IGI2NCA9IHNjcmlwdC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYjY0Jyk7XG5cdFx0aWYgKGI2NCAhPT0gbnVsbCkge1xuXHRcdFx0Ly8gQ2FuJ3QgdXNlIG5hdGl2ZV9mZXRjaCgnZGF0YTouLi47YmFzZTY0LCR7Ym9keX0nKVxuXHRcdFx0Ly8gY3NwIGNhbiBibG9jayB0aGUgcmVxdWVzdFxuXHRcdFx0Ym9keSA9IGI2NF9kZWNvZGUoYm9keSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgaW5pdCkpO1xuXHR9XG5cblx0cmV0dXJuIERFViA/IGRldl9mZXRjaChyZXNvdXJjZSwgb3B0cykgOiB3aW5kb3cuZmV0Y2gocmVzb3VyY2UsIG9wdHMpO1xufVxuXG4vKipcbiAqIFRyaWVzIHRvIGdldCB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgY2FjaGUsIGlmIG1heC1hZ2UgYWxsb3dzIGl0LCBlbHNlIGRvZXMgYSBmZXRjaC5cbiAqIEBwYXJhbSB7VVJMIHwgc3RyaW5nfSByZXNvdXJjZVxuICogQHBhcmFtIHtzdHJpbmd9IHJlc29sdmVkXG4gKiBAcGFyYW0ge1JlcXVlc3RJbml0fSBbb3B0c11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnNlcXVlbnRfZmV0Y2gocmVzb3VyY2UsIHJlc29sdmVkLCBvcHRzKSB7XG5cdGlmIChjYWNoZS5zaXplID4gMCkge1xuXHRcdGNvbnN0IHNlbGVjdG9yID0gYnVpbGRfc2VsZWN0b3IocmVzb3VyY2UsIG9wdHMpO1xuXHRcdGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChzZWxlY3Rvcik7XG5cdFx0aWYgKGNhY2hlZCkge1xuXHRcdFx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1JlcXVlc3QvY2FjaGUjdmFsdWVcblx0XHRcdGlmIChcblx0XHRcdFx0cGVyZm9ybWFuY2Uubm93KCkgPCBjYWNoZWQudHRsICYmXG5cdFx0XHRcdFsnZGVmYXVsdCcsICdmb3JjZS1jYWNoZScsICdvbmx5LWlmLWNhY2hlZCcsIHVuZGVmaW5lZF0uaW5jbHVkZXMob3B0cz8uY2FjaGUpXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuIG5ldyBSZXNwb25zZShjYWNoZWQuYm9keSwgY2FjaGVkLmluaXQpO1xuXHRcdFx0fVxuXG5cdFx0XHRjYWNoZS5kZWxldGUoc2VsZWN0b3IpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBERVYgPyBkZXZfZmV0Y2gocmVzb2x2ZWQsIG9wdHMpIDogd2luZG93LmZldGNoKHJlc29sdmVkLCBvcHRzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1JlcXVlc3RJbmZvIHwgVVJMfSByZXNvdXJjZVxuICogQHBhcmFtIHtSZXF1ZXN0SW5pdCAmIFJlY29yZDxzdHJpbmcsIGFueT4gfCB1bmRlZmluZWR9IG9wdHNcbiAqL1xuZnVuY3Rpb24gZGV2X2ZldGNoKHJlc291cmNlLCBvcHRzKSB7XG5cdGNvbnN0IHBhdGNoZWRfb3B0cyA9IHsgLi4ub3B0cyB9O1xuXHQvLyBUaGlzIGFzc2lnbnMgdGhlIF9fc3ZlbHRla2l0X2ZldGNoX18gZmxhZyBhbmQgbWFrZXMgaXQgbm9uLWVudW1lcmFibGVcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHBhdGNoZWRfb3B0cywgJ19fc3ZlbHRla2l0X2ZldGNoX18nLCB7XG5cdFx0dmFsdWU6IHRydWUsXG5cdFx0d3JpdGFibGU6IHRydWUsXG5cdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdH0pO1xuXHRyZXR1cm4gd2luZG93LmZldGNoKHJlc291cmNlLCBwYXRjaGVkX29wdHMpO1xufVxuXG4vKipcbiAqIEJ1aWxkIHRoZSBjYWNoZSBrZXkgZm9yIGEgZ2l2ZW4gcmVxdWVzdFxuICogQHBhcmFtIHtVUkwgfCBSZXF1ZXN0SW5mb30gcmVzb3VyY2VcbiAqIEBwYXJhbSB7UmVxdWVzdEluaXR9IFtvcHRzXVxuICovXG5mdW5jdGlvbiBidWlsZF9zZWxlY3RvcihyZXNvdXJjZSwgb3B0cykge1xuXHRjb25zdCB1cmwgPSBKU09OLnN0cmluZ2lmeShyZXNvdXJjZSBpbnN0YW5jZW9mIFJlcXVlc3QgPyByZXNvdXJjZS51cmwgOiByZXNvdXJjZSk7XG5cblx0bGV0IHNlbGVjdG9yID0gYHNjcmlwdFtkYXRhLXN2ZWx0ZWtpdC1mZXRjaGVkXVtkYXRhLXVybD0ke3VybH1dYDtcblxuXHRpZiAob3B0cz8uaGVhZGVycyB8fCBvcHRzPy5ib2R5KSB7XG5cdFx0LyoqIEB0eXBlIHtpbXBvcnQoJ3R5cGVzJykuU3RyaWN0Qm9keVtdfSAqL1xuXHRcdGNvbnN0IHZhbHVlcyA9IFtdO1xuXG5cdFx0aWYgKG9wdHMuaGVhZGVycykge1xuXHRcdFx0dmFsdWVzLnB1c2goWy4uLm5ldyBIZWFkZXJzKG9wdHMuaGVhZGVycyldLmpvaW4oJywnKSk7XG5cdFx0fVxuXG5cdFx0aWYgKG9wdHMuYm9keSAmJiAodHlwZW9mIG9wdHMuYm9keSA9PT0gJ3N0cmluZycgfHwgQXJyYXlCdWZmZXIuaXNWaWV3KG9wdHMuYm9keSkpKSB7XG5cdFx0XHR2YWx1ZXMucHVzaChvcHRzLmJvZHkpO1xuXHRcdH1cblxuXHRcdHNlbGVjdG9yICs9IGBbZGF0YS1oYXNoPVwiJHtoYXNoKC4uLnZhbHVlcyl9XCJdYDtcblx0fVxuXG5cdHJldHVybiBzZWxlY3Rvcjtcbn1cbiIsImltcG9ydCB7IEJST1dTRVIgfSBmcm9tICdlc20tZW52JztcblxuY29uc3QgcGFyYW1fcGF0dGVybiA9IC9eKFxcWyk/KFxcLlxcLlxcLik/KFxcdyspKD86PShcXHcrKSk/KFxcXSk/JC87XG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgcmVnZXggcGF0dGVybiwgZXh0cmFjdHMgcGFyYW1ldGVyIG5hbWVzLCBhbmQgZ2VuZXJhdGVzIHR5cGVzIGZvciBhIHJvdXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlX3JvdXRlX2lkKGlkKSB7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCd0eXBlcycpLlJvdXRlUGFyYW1bXX0gKi9cblx0Y29uc3QgcGFyYW1zID0gW107XG5cblx0Y29uc3QgcGF0dGVybiA9XG5cdFx0aWQgPT09ICcvJ1xuXHRcdFx0PyAvXlxcLyQvXG5cdFx0XHQ6IG5ldyBSZWdFeHAoXG5cdFx0XHRcdFx0YF4ke2dldF9yb3V0ZV9zZWdtZW50cyhpZClcblx0XHRcdFx0XHRcdC5tYXAoKHNlZ21lbnQpID0+IHtcblx0XHRcdFx0XHRcdFx0Ly8gc3BlY2lhbCBjYXNlIOKAlCAvWy4uLnJlc3RdLyBjb3VsZCBjb250YWluIHplcm8gc2VnbWVudHNcblx0XHRcdFx0XHRcdFx0Y29uc3QgcmVzdF9tYXRjaCA9IC9eXFxbXFwuXFwuXFwuKFxcdyspKD86PShcXHcrKSk/XFxdJC8uZXhlYyhzZWdtZW50KTtcblx0XHRcdFx0XHRcdFx0aWYgKHJlc3RfbWF0Y2gpIHtcblx0XHRcdFx0XHRcdFx0XHRwYXJhbXMucHVzaCh7XG5cdFx0XHRcdFx0XHRcdFx0XHRuYW1lOiByZXN0X21hdGNoWzFdLFxuXHRcdFx0XHRcdFx0XHRcdFx0bWF0Y2hlcjogcmVzdF9tYXRjaFsyXSxcblx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbmFsOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRcdHJlc3Q6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRjaGFpbmVkOiB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuICcoPzovKC4qKSk/Jztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHQvLyBzcGVjaWFsIGNhc2Ug4oCUIC9bW29wdGlvbmFsXV0vIGNvdWxkIGNvbnRhaW4gemVybyBzZWdtZW50c1xuXHRcdFx0XHRcdFx0XHRjb25zdCBvcHRpb25hbF9tYXRjaCA9IC9eXFxbXFxbKFxcdyspKD86PShcXHcrKSk/XFxdXFxdJC8uZXhlYyhzZWdtZW50KTtcblx0XHRcdFx0XHRcdFx0aWYgKG9wdGlvbmFsX21hdGNoKSB7XG5cdFx0XHRcdFx0XHRcdFx0cGFyYW1zLnB1c2goe1xuXHRcdFx0XHRcdFx0XHRcdFx0bmFtZTogb3B0aW9uYWxfbWF0Y2hbMV0sXG5cdFx0XHRcdFx0XHRcdFx0XHRtYXRjaGVyOiBvcHRpb25hbF9tYXRjaFsyXSxcblx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbmFsOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0cmVzdDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0XHRjaGFpbmVkOiB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuICcoPzovKFteL10rKSk/Jztcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGlmICghc2VnbWVudCkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHBhcnRzID0gc2VnbWVudC5zcGxpdCgvXFxbKC4rPylcXF0oPyFcXF0pLyk7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHJlc3VsdCA9IHBhcnRzXG5cdFx0XHRcdFx0XHRcdFx0Lm1hcCgoY29udGVudCwgaSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGkgJSAyKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChjb250ZW50LnN0YXJ0c1dpdGgoJ3grJykpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZXNjYXBlKFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoY29udGVudC5zbGljZSgyKSwgMTYpKSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoY29udGVudC5zdGFydHNXaXRoKCd1KycpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGVzY2FwZShcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC4uLmNvbnRlbnRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQuc2xpY2UoMilcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQuc3BsaXQoJy0nKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC5tYXAoKGNvZGUpID0+IHBhcnNlSW50KGNvZGUsIDE2KSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gV2Uga25vdyB0aGUgbWF0Y2ggY2Fubm90IGJlIG51bGwgaW4gdGhlIGJyb3dzZXIgYmVjYXVzZSBtYW5pZmVzdCBnZW5lcmF0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHdvdWxkIGhhdmUgaW52b2tlZCB0aGlzIGR1cmluZyBidWlsZCBhbmQgZmFpbGVkIGlmIHdlIGhpdCBhbiBpbnZhbGlkXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHBhcmFtL21hdGNoZXIgbmFtZSB3aXRoIG5vbi1hbHBoYW51bWVyaWMgY2hhcmFjdGVyLlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBtYXRjaCA9IC8qKiBAdHlwZSB7UmVnRXhwRXhlY0FycmF5fSAqLyAocGFyYW1fcGF0dGVybi5leGVjKGNvbnRlbnQpKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFCUk9XU0VSICYmICFtYXRjaCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGBJbnZhbGlkIHBhcmFtOiAke2NvbnRlbnR9LiBQYXJhbXMgYW5kIG1hdGNoZXIgbmFtZXMgY2FuIG9ubHkgaGF2ZSB1bmRlcnNjb3JlcyBhbmQgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMuYFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBbLCBpc19vcHRpb25hbCwgaXNfcmVzdCwgbmFtZSwgbWF0Y2hlcl0gPSBtYXRjaDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gSXQncyBhc3N1bWVkIHRoYXQgdGhlIGZvbGxvd2luZyBpbnZhbGlkIHJvdXRlIGlkIGNhc2VzIGFyZSBhbHJlYWR5IGNoZWNrZWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gLSB1bmJhbGFuY2VkIGJyYWNrZXRzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIC0gb3B0aW9uYWwgcGFyYW0gZm9sbG93aW5nIHJlc3QgcGFyYW1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwYXJhbXMucHVzaCh7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bmFtZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRjaGVyLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbmFsOiAhIWlzX29wdGlvbmFsLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc3Q6ICEhaXNfcmVzdCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbmVkOiBpc19yZXN0ID8gaSA9PT0gMSAmJiBwYXJ0c1swXSA9PT0gJycgOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGlzX3Jlc3QgPyAnKC4qPyknIDogaXNfb3B0aW9uYWwgPyAnKFteL10qKT8nIDogJyhbXi9dKz8pJztcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGVzY2FwZShjb250ZW50KTtcblx0XHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHRcdC5qb2luKCcnKTtcblxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gJy8nICsgcmVzdWx0O1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdC5qb2luKCcnKX0vPyRgXG5cdFx0XHRcdCk7XG5cblx0cmV0dXJuIHsgcGF0dGVybiwgcGFyYW1zIH07XG59XG5cbmNvbnN0IG9wdGlvbmFsX3BhcmFtX3JlZ2V4ID0gL1xcL1xcW1xcW1xcdys/KD86PVxcdyspP1xcXVxcXS87XG5cbi8qKlxuICogUmVtb3ZlcyBvcHRpb25hbCBwYXJhbXMgZnJvbSBhIHJvdXRlIElELlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcmV0dXJucyBUaGUgcm91dGUgaWQgd2l0aCBvcHRpb25hbCBwYXJhbXMgcmVtb3ZlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlX29wdGlvbmFsX3BhcmFtcyhpZCkge1xuXHRyZXR1cm4gaWQucmVwbGFjZShvcHRpb25hbF9wYXJhbV9yZWdleCwgJycpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYGZhbHNlYCBmb3IgYChncm91cClgIHNlZ21lbnRzXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VnbWVudFxuICovXG5mdW5jdGlvbiBhZmZlY3RzX3BhdGgoc2VnbWVudCkge1xuXHRyZXR1cm4gIS9eXFwoW14pXStcXCkkLy50ZXN0KHNlZ21lbnQpO1xufVxuXG4vKipcbiAqIFNwbGl0cyBhIHJvdXRlIGlkIGludG8gaXRzIHNlZ21lbnRzLCByZW1vdmluZyBzZWdtZW50cyB0aGF0XG4gKiBkb24ndCBhZmZlY3QgdGhlIHBhdGggKGkuZS4gZ3JvdXBzKS4gVGhlIHJvb3Qgcm91dGUgaXMgcmVwcmVzZW50ZWQgYnkgYC9gXG4gKiBhbmQgd2lsbCBiZSByZXR1cm5lZCBhcyBgWycnXWAuXG4gKiBAcGFyYW0ge3N0cmluZ30gcm91dGVcbiAqIEByZXR1cm5zIHN0cmluZ1tdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfcm91dGVfc2VnbWVudHMocm91dGUpIHtcblx0cmV0dXJuIHJvdXRlLnNsaWNlKDEpLnNwbGl0KCcvJykuZmlsdGVyKGFmZmVjdHNfcGF0aCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtSZWdFeHBNYXRjaEFycmF5fSBtYXRjaFxuICogQHBhcmFtIHtpbXBvcnQoJ3R5cGVzJykuUm91dGVQYXJhbVtdfSBwYXJhbXNcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgaW1wb3J0KCdAc3ZlbHRlanMva2l0JykuUGFyYW1NYXRjaGVyPn0gbWF0Y2hlcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4ZWMobWF0Y2gsIHBhcmFtcywgbWF0Y2hlcnMpIHtcblx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+fSAqL1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblxuXHRjb25zdCB2YWx1ZXMgPSBtYXRjaC5zbGljZSgxKTtcblx0Y29uc3QgdmFsdWVzX25lZWRpbmdfbWF0Y2ggPSB2YWx1ZXMuZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUgIT09IHVuZGVmaW5lZCk7XG5cblx0bGV0IGJ1ZmZlcmVkID0gMDtcblxuXHRmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGNvbnN0IHBhcmFtID0gcGFyYW1zW2ldO1xuXHRcdGxldCB2YWx1ZSA9IHZhbHVlc1tpIC0gYnVmZmVyZWRdO1xuXG5cdFx0Ly8gaW4gdGhlIGBbW2E9Yl1dLy4uLi9bLi4ucmVzdF1gIGNhc2UsIGlmIG9uZSBvciBtb3JlIG9wdGlvbmFsIHBhcmFtZXRlcnNcblx0XHQvLyB3ZXJlbid0IG1hdGNoZWQsIHJvbGwgdGhlIHNraXBwZWQgdmFsdWVzIGludG8gdGhlIHJlc3Rcblx0XHRpZiAocGFyYW0uY2hhaW5lZCAmJiBwYXJhbS5yZXN0ICYmIGJ1ZmZlcmVkKSB7XG5cdFx0XHR2YWx1ZSA9IHZhbHVlc1xuXHRcdFx0XHQuc2xpY2UoaSAtIGJ1ZmZlcmVkLCBpICsgMSlcblx0XHRcdFx0LmZpbHRlcigocykgPT4gcylcblx0XHRcdFx0LmpvaW4oJy8nKTtcblxuXHRcdFx0YnVmZmVyZWQgPSAwO1xuXHRcdH1cblxuXHRcdC8vIGlmIGB2YWx1ZWAgaXMgdW5kZWZpbmVkLCBpdCBtZWFucyB0aGlzIGlzIGFuIG9wdGlvbmFsIG9yIHJlc3QgcGFyYW1ldGVyXG5cdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmIChwYXJhbS5yZXN0KSByZXN1bHRbcGFyYW0ubmFtZV0gPSAnJztcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGlmICghcGFyYW0ubWF0Y2hlciB8fCBtYXRjaGVyc1twYXJhbS5tYXRjaGVyXSh2YWx1ZSkpIHtcblx0XHRcdHJlc3VsdFtwYXJhbS5uYW1lXSA9IHZhbHVlO1xuXG5cdFx0XHQvLyBOb3cgdGhhdCB0aGUgcGFyYW1zIG1hdGNoLCByZXNldCB0aGUgYnVmZmVyIGlmIHRoZSBuZXh0IHBhcmFtIGlzbid0IHRoZSBbLi4ucmVzdF1cblx0XHRcdC8vIGFuZCB0aGUgbmV4dCB2YWx1ZSBpcyBkZWZpbmVkLCBvdGhlcndpc2UgdGhlIGJ1ZmZlciB3aWxsIGNhdXNlIHVzIHRvIHNraXAgdmFsdWVzXG5cdFx0XHRjb25zdCBuZXh0X3BhcmFtID0gcGFyYW1zW2kgKyAxXTtcblx0XHRcdGNvbnN0IG5leHRfdmFsdWUgPSB2YWx1ZXNbaSArIDFdO1xuXHRcdFx0aWYgKG5leHRfcGFyYW0gJiYgIW5leHRfcGFyYW0ucmVzdCAmJiBuZXh0X3BhcmFtLm9wdGlvbmFsICYmIG5leHRfdmFsdWUgJiYgcGFyYW0uY2hhaW5lZCkge1xuXHRcdFx0XHRidWZmZXJlZCA9IDA7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRoZXJlIGFyZSBubyBtb3JlIHBhcmFtcyBhbmQgbm8gbW9yZSB2YWx1ZXMsIGJ1dCBhbGwgbm9uLWVtcHR5IHZhbHVlcyBoYXZlIGJlZW4gbWF0Y2hlZFxuXHRcdFx0aWYgKFxuXHRcdFx0XHQhbmV4dF9wYXJhbSAmJlxuXHRcdFx0XHQhbmV4dF92YWx1ZSAmJlxuXHRcdFx0XHRPYmplY3Qua2V5cyhyZXN1bHQpLmxlbmd0aCA9PT0gdmFsdWVzX25lZWRpbmdfbWF0Y2gubGVuZ3RoXG5cdFx0XHQpIHtcblx0XHRcdFx0YnVmZmVyZWQgPSAwO1xuXHRcdFx0fVxuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Ly8gaW4gdGhlIGAvW1thPWJdXS8uLi5gIGNhc2UsIGlmIHRoZSB2YWx1ZSBkaWRuJ3Qgc2F0aXNmeSB0aGUgbWF0Y2hlcixcblx0XHQvLyBrZWVwIHRyYWNrIG9mIHRoZSBudW1iZXIgb2Ygc2tpcHBlZCBvcHRpb25hbCBwYXJhbWV0ZXJzIGFuZCBjb250aW51ZVxuXHRcdGlmIChwYXJhbS5vcHRpb25hbCAmJiBwYXJhbS5jaGFpbmVkKSB7XG5cdFx0XHRidWZmZXJlZCsrO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Ly8gb3RoZXJ3aXNlLCBpZiB0aGUgbWF0Y2hlciByZXR1cm5zIGBmYWxzZWAsIHRoZSByb3V0ZSBkaWQgbm90IG1hdGNoXG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0aWYgKGJ1ZmZlcmVkKSByZXR1cm47XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gc3RyICovXG5mdW5jdGlvbiBlc2NhcGUoc3RyKSB7XG5cdHJldHVybiAoXG5cdFx0c3RyXG5cdFx0XHQubm9ybWFsaXplKClcblx0XHRcdC8vIGVzY2FwZSBbIGFuZCBdIGJlZm9yZSBlc2NhcGluZyBvdGhlciBjaGFyYWN0ZXJzLCBzaW5jZSB0aGV5IGFyZSB1c2VkIGluIHRoZSByZXBsYWNlbWVudHNcblx0XHRcdC5yZXBsYWNlKC9bW1xcXV0vZywgJ1xcXFwkJicpXG5cdFx0XHQvLyByZXBsYWNlICUsIC8sID8gYW5kICMgd2l0aCB0aGVpciBlbmNvZGVkIHZlcnNpb25zIGJlY2F1c2UgZGVjb2RlX3BhdGhuYW1lIGxlYXZlcyB0aGVtIHVudG91Y2hlZFxuXHRcdFx0LnJlcGxhY2UoLyUvZywgJyUyNScpXG5cdFx0XHQucmVwbGFjZSgvXFwvL2csICclMltGZl0nKVxuXHRcdFx0LnJlcGxhY2UoL1xcPy9nLCAnJTNbRmZdJylcblx0XHRcdC5yZXBsYWNlKC8jL2csICclMjMnKVxuXHRcdFx0Ly8gZXNjYXBlIGNoYXJhY3RlcnMgdGhhdCBoYXZlIHNwZWNpYWwgbWVhbmluZyBpbiByZWdleFxuXHRcdFx0LnJlcGxhY2UoL1suKis/XiR7fSgpfFxcXFxdL2csICdcXFxcJCYnKVxuXHQpO1xufVxuXG5jb25zdCBiYXNpY19wYXJhbV9wYXR0ZXJuID0gL1xcWyhcXFspPyhcXC5cXC5cXC4pPyhcXHcrPykoPzo9KFxcdyspKT9cXF1cXF0/L2c7XG5cbi8qKlxuICogUG9wdWxhdGUgYSByb3V0ZSBJRCB3aXRoIHBhcmFtcyB0byByZXNvbHZlIGEgcGF0aG5hbWUuXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIHJlc29sdmVSb3V0ZShcbiAqICAgYC9ibG9nL1tzbHVnXS9bLi4uc29tZXRoaW5nRWxzZV1gLFxuICogICB7XG4gKiAgICAgc2x1ZzogJ2hlbGxvLXdvcmxkJyxcbiAqICAgICBzb21ldGhpbmdFbHNlOiAnc29tZXRoaW5nL2Vsc2UnXG4gKiAgIH1cbiAqICk7IC8vIGAvYmxvZy9oZWxsby13b3JsZC9zb21ldGhpbmcvZWxzZWBcbiAqIGBgYFxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD59IHBhcmFtc1xuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVfcm91dGUoaWQsIHBhcmFtcykge1xuXHRjb25zdCBzZWdtZW50cyA9IGdldF9yb3V0ZV9zZWdtZW50cyhpZCk7XG5cdHJldHVybiAoXG5cdFx0Jy8nICtcblx0XHRzZWdtZW50c1xuXHRcdFx0Lm1hcCgoc2VnbWVudCkgPT5cblx0XHRcdFx0c2VnbWVudC5yZXBsYWNlKGJhc2ljX3BhcmFtX3BhdHRlcm4sIChfLCBvcHRpb25hbCwgcmVzdCwgbmFtZSkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IHBhcmFtX3ZhbHVlID0gcGFyYW1zW25hbWVdO1xuXG5cdFx0XHRcdFx0Ly8gVGhpcyBpcyBuZXN0ZWQgc28gVFMgY29ycmVjdGx5IG5hcnJvd3MgdGhlIHR5cGVcblx0XHRcdFx0XHRpZiAoIXBhcmFtX3ZhbHVlKSB7XG5cdFx0XHRcdFx0XHRpZiAob3B0aW9uYWwpIHJldHVybiAnJztcblx0XHRcdFx0XHRcdGlmIChyZXN0ICYmIHBhcmFtX3ZhbHVlICE9PSB1bmRlZmluZWQpIHJldHVybiAnJztcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBwYXJhbWV0ZXIgJyR7bmFtZX0nIGluIHJvdXRlICR7aWR9YCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHBhcmFtX3ZhbHVlLnN0YXJ0c1dpdGgoJy8nKSB8fCBwYXJhbV92YWx1ZS5lbmRzV2l0aCgnLycpKVxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0XHRgUGFyYW1ldGVyICcke25hbWV9JyBpbiByb3V0ZSAke2lkfSBjYW5ub3Qgc3RhcnQgb3IgZW5kIHdpdGggYSBzbGFzaCAtLSB0aGlzIHdvdWxkIGNhdXNlIGFuIGludmFsaWQgcm91dGUgbGlrZSBmb28vL2JhcmBcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcmFtX3ZhbHVlO1xuXHRcdFx0XHR9KVxuXHRcdFx0KVxuXHRcdFx0LmZpbHRlcihCb29sZWFuKVxuXHRcdFx0LmpvaW4oJy8nKVxuXHQpO1xufVxuIiwiaW1wb3J0IHsgZXhlYywgcGFyc2Vfcm91dGVfaWQgfSBmcm9tICcuLi8uLi91dGlscy9yb3V0aW5nLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi90eXBlcy5qcycpLlN2ZWx0ZUtpdEFwcH0gYXBwXG4gKiBAcmV0dXJucyB7aW1wb3J0KCd0eXBlcycpLkNTUlJvdXRlW119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZSh7IG5vZGVzLCBzZXJ2ZXJfbG9hZHMsIGRpY3Rpb25hcnksIG1hdGNoZXJzIH0pIHtcblx0Y29uc3QgbGF5b3V0c193aXRoX3NlcnZlcl9sb2FkID0gbmV3IFNldChzZXJ2ZXJfbG9hZHMpO1xuXG5cdHJldHVybiBPYmplY3QuZW50cmllcyhkaWN0aW9uYXJ5KS5tYXAoKFtpZCwgW2xlYWYsIGxheW91dHMsIGVycm9yc11dKSA9PiB7XG5cdFx0Y29uc3QgeyBwYXR0ZXJuLCBwYXJhbXMgfSA9IHBhcnNlX3JvdXRlX2lkKGlkKTtcblxuXHRcdGNvbnN0IHJvdXRlID0ge1xuXHRcdFx0aWQsXG5cdFx0XHQvKiogQHBhcmFtIHtzdHJpbmd9IHBhdGggKi9cblx0XHRcdGV4ZWM6IChwYXRoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IG1hdGNoID0gcGF0dGVybi5leGVjKHBhdGgpO1xuXHRcdFx0XHRpZiAobWF0Y2gpIHJldHVybiBleGVjKG1hdGNoLCBwYXJhbXMsIG1hdGNoZXJzKTtcblx0XHRcdH0sXG5cdFx0XHRlcnJvcnM6IFsxLCAuLi4oZXJyb3JzIHx8IFtdKV0ubWFwKChuKSA9PiBub2Rlc1tuXSksXG5cdFx0XHRsYXlvdXRzOiBbMCwgLi4uKGxheW91dHMgfHwgW10pXS5tYXAoY3JlYXRlX2xheW91dF9sb2FkZXIpLFxuXHRcdFx0bGVhZjogY3JlYXRlX2xlYWZfbG9hZGVyKGxlYWYpXG5cdFx0fTtcblxuXHRcdC8vIGJpdCBvZiBhIGhhY2ssIGJ1dCBlbnN1cmVzIHRoYXQgbGF5b3V0L2Vycm9yIG5vZGUgbGlzdHMgYXJlIHRoZSBzYW1lXG5cdFx0Ly8gbGVuZ3RoLCB3aXRob3V0IHdoaWNoIHRoZSB3cm9uZyBkYXRhIHdpbGwgYmUgYXBwbGllZCBpZiB0aGUgcm91dGVcblx0XHQvLyBtYW5pZmVzdCBsb29rcyBsaWtlIGBbW2EsIGJdLCBbYyxdLCBkXWBcblx0XHRyb3V0ZS5lcnJvcnMubGVuZ3RoID0gcm91dGUubGF5b3V0cy5sZW5ndGggPSBNYXRoLm1heChcblx0XHRcdHJvdXRlLmVycm9ycy5sZW5ndGgsXG5cdFx0XHRyb3V0ZS5sYXlvdXRzLmxlbmd0aFxuXHRcdCk7XG5cblx0XHRyZXR1cm4gcm91dGU7XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge251bWJlcn0gaWRcblx0ICogQHJldHVybnMge1tib29sZWFuLCBpbXBvcnQoJ3R5cGVzJykuQ1NSUGFnZU5vZGVMb2FkZXJdfVxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlX2xlYWZfbG9hZGVyKGlkKSB7XG5cdFx0Ly8gd2hldGhlciBvciBub3QgdGhlIHJvdXRlIHVzZXMgdGhlIHNlcnZlciBkYXRhIGlzXG5cdFx0Ly8gZW5jb2RlZCB1c2luZyB0aGUgb25lcycgY29tcGxlbWVudCwgdG8gc2F2ZSBzcGFjZVxuXHRcdGNvbnN0IHVzZXNfc2VydmVyX2RhdGEgPSBpZCA8IDA7XG5cdFx0aWYgKHVzZXNfc2VydmVyX2RhdGEpIGlkID0gfmlkO1xuXHRcdHJldHVybiBbdXNlc19zZXJ2ZXJfZGF0YSwgbm9kZXNbaWRdXTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge251bWJlciB8IHVuZGVmaW5lZH0gaWRcblx0ICogQHJldHVybnMge1tib29sZWFuLCBpbXBvcnQoJ3R5cGVzJykuQ1NSUGFnZU5vZGVMb2FkZXJdIHwgdW5kZWZpbmVkfVxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlX2xheW91dF9sb2FkZXIoaWQpIHtcblx0XHQvLyB3aGV0aGVyIG9yIG5vdCB0aGUgbGF5b3V0IHVzZXMgdGhlIHNlcnZlciBkYXRhIGlzXG5cdFx0Ly8gZW5jb2RlZCBpbiB0aGUgbGF5b3V0cyBhcnJheSwgdG8gc2F2ZSBzcGFjZVxuXHRcdHJldHVybiBpZCA9PT0gdW5kZWZpbmVkID8gaWQgOiBbbGF5b3V0c193aXRoX3NlcnZlcl9sb2FkLmhhcyhpZCksIG5vZGVzW2lkXV07XG5cdH1cbn1cbiIsIi8qKlxuICogUmVhZCBhIHZhbHVlIGZyb20gYHNlc3Npb25TdG9yYWdlYFxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHBhcmFtIHsodmFsdWU6IHN0cmluZykgPT4gYW55fSBwYXJzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KGtleSwgcGFyc2UgPSBKU09OLnBhcnNlKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHBhcnNlKHNlc3Npb25TdG9yYWdlW2tleV0pO1xuXHR9IGNhdGNoIHtcblx0XHQvLyBkbyBub3RoaW5nXG5cdH1cbn1cblxuLyoqXG4gKiBXcml0ZSBhIHZhbHVlIHRvIGBzZXNzaW9uU3RvcmFnZWBcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHBhcmFtIHsodmFsdWU6IGFueSkgPT4gc3RyaW5nfSBzdHJpbmdpZnlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlLCBzdHJpbmdpZnkgPSBKU09OLnN0cmluZ2lmeSkge1xuXHRjb25zdCBkYXRhID0gc3RyaW5naWZ5KHZhbHVlKTtcblx0dHJ5IHtcblx0XHRzZXNzaW9uU3RvcmFnZVtrZXldID0gZGF0YTtcblx0fSBjYXRjaCB7XG5cdFx0Ly8gZG8gbm90aGluZ1xuXHR9XG59XG4iLCJpbXBvcnQge1xuXHRydW5fYWxsLFxuXHRzdWJzY3JpYmUsXG5cdG5vb3AsXG5cdHNhZmVfbm90X2VxdWFsLFxuXHRpc19mdW5jdGlvbixcblx0Z2V0X3N0b3JlX3ZhbHVlXG59IGZyb20gJy4uL2ludGVybmFsL2luZGV4LmpzJztcblxuY29uc3Qgc3Vic2NyaWJlcl9xdWV1ZSA9IFtdO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBgUmVhZGFibGVgIHN0b3JlIHRoYXQgYWxsb3dzIHJlYWRpbmcgYnkgc3Vic2NyaXB0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1zdG9yZSNyZWFkYWJsZVxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7VH0gW3ZhbHVlXSBpbml0aWFsIHZhbHVlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5TdGFydFN0b3BOb3RpZmllcjxUPn0gW3N0YXJ0XVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRhYmxlKHZhbHVlLCBzdGFydCkge1xuXHRyZXR1cm4ge1xuXHRcdHN1YnNjcmliZTogd3JpdGFibGUodmFsdWUsIHN0YXJ0KS5zdWJzY3JpYmVcblx0fTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBgV3JpdGFibGVgIHN0b3JlIHRoYXQgYWxsb3dzIGJvdGggdXBkYXRpbmcgYW5kIHJlYWRpbmcgYnkgc3Vic2NyaXB0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1zdG9yZSN3cml0YWJsZVxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7VH0gW3ZhbHVlXSBpbml0aWFsIHZhbHVlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5TdGFydFN0b3BOb3RpZmllcjxUPn0gW3N0YXJ0XVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5Xcml0YWJsZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyaXRhYmxlKHZhbHVlLCBzdGFydCA9IG5vb3ApIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vcHVibGljLmpzJykuVW5zdWJzY3JpYmVyfSAqL1xuXHRsZXQgc3RvcDtcblx0LyoqIEB0eXBlIHtTZXQ8aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdWJzY3JpYmVJbnZhbGlkYXRlVHVwbGU8VD4+fSAqL1xuXHRjb25zdCBzdWJzY3JpYmVycyA9IG5ldyBTZXQoKTtcblx0LyoqIEBwYXJhbSB7VH0gbmV3X3ZhbHVlXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0ZnVuY3Rpb24gc2V0KG5ld192YWx1ZSkge1xuXHRcdGlmIChzYWZlX25vdF9lcXVhbCh2YWx1ZSwgbmV3X3ZhbHVlKSkge1xuXHRcdFx0dmFsdWUgPSBuZXdfdmFsdWU7XG5cdFx0XHRpZiAoc3RvcCkge1xuXHRcdFx0XHQvLyBzdG9yZSBpcyByZWFkeVxuXHRcdFx0XHRjb25zdCBydW5fcXVldWUgPSAhc3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGg7XG5cdFx0XHRcdGZvciAoY29uc3Qgc3Vic2NyaWJlciBvZiBzdWJzY3JpYmVycykge1xuXHRcdFx0XHRcdHN1YnNjcmliZXJbMV0oKTtcblx0XHRcdFx0XHRzdWJzY3JpYmVyX3F1ZXVlLnB1c2goc3Vic2NyaWJlciwgdmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChydW5fcXVldWUpIHtcblx0XHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHN1YnNjcmliZXJfcXVldWUubGVuZ3RoOyBpICs9IDIpIHtcblx0XHRcdFx0XHRcdHN1YnNjcmliZXJfcXVldWVbaV1bMF0oc3Vic2NyaWJlcl9xdWV1ZVtpICsgMV0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aCA9IDA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuVXBkYXRlcjxUPn0gZm5cblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRmdW5jdGlvbiB1cGRhdGUoZm4pIHtcblx0XHRzZXQoZm4odmFsdWUpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5TdWJzY3JpYmVyPFQ+fSBydW5cblx0ICogQHBhcmFtIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLkludmFsaWRhdG9yPFQ+fSBbaW52YWxpZGF0ZV1cblx0ICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5VbnN1YnNjcmliZXJ9XG5cdCAqL1xuXHRmdW5jdGlvbiBzdWJzY3JpYmUocnVuLCBpbnZhbGlkYXRlID0gbm9vcCkge1xuXHRcdC8qKiBAdHlwZSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdWJzY3JpYmVJbnZhbGlkYXRlVHVwbGU8VD59ICovXG5cdFx0Y29uc3Qgc3Vic2NyaWJlciA9IFtydW4sIGludmFsaWRhdGVdO1xuXHRcdHN1YnNjcmliZXJzLmFkZChzdWJzY3JpYmVyKTtcblx0XHRpZiAoc3Vic2NyaWJlcnMuc2l6ZSA9PT0gMSkge1xuXHRcdFx0c3RvcCA9IHN0YXJ0KHNldCwgdXBkYXRlKSB8fCBub29wO1xuXHRcdH1cblx0XHRydW4odmFsdWUpO1xuXHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRzdWJzY3JpYmVycy5kZWxldGUoc3Vic2NyaWJlcik7XG5cdFx0XHRpZiAoc3Vic2NyaWJlcnMuc2l6ZSA9PT0gMCAmJiBzdG9wKSB7XG5cdFx0XHRcdHN0b3AoKTtcblx0XHRcdFx0c3RvcCA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXHRyZXR1cm4geyBzZXQsIHVwZGF0ZSwgc3Vic2NyaWJlIH07XG59XG5cbi8qKlxuICogRGVyaXZlZCB2YWx1ZSBzdG9yZSBieSBzeW5jaHJvbml6aW5nIG9uZSBvciBtb3JlIHJlYWRhYmxlIHN0b3JlcyBhbmRcbiAqIGFwcGx5aW5nIGFuIGFnZ3JlZ2F0aW9uIGZ1bmN0aW9uIG92ZXIgaXRzIGlucHV0IHZhbHVlcy5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjZGVyaXZlZFxuICogQHRlbXBsYXRlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN0b3Jlc30gU1xuICogQHRlbXBsYXRlIFRcbiAqIEBvdmVybG9hZFxuICogQHBhcmFtIHtTfSBzdG9yZXMgLSBpbnB1dCBzdG9yZXNcbiAqIEBwYXJhbSB7KHZhbHVlczogaW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXNWYWx1ZXM8Uz4sIHNldDogKHZhbHVlOiBUKSA9PiB2b2lkLCB1cGRhdGU6IChmbjogaW1wb3J0KCcuL3B1YmxpYy5qcycpLlVwZGF0ZXI8VD4pID0+IHZvaWQpID0+IGltcG9ydCgnLi9wdWJsaWMuanMnKS5VbnN1YnNjcmliZXIgfCB2b2lkfSBmbiAtIGZ1bmN0aW9uIGNhbGxiYWNrIHRoYXQgYWdncmVnYXRlcyB0aGUgdmFsdWVzXG4gKiBAcGFyYW0ge1R9IFtpbml0aWFsX3ZhbHVlXSAtIGluaXRpYWwgdmFsdWVcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8VD59XG4gKi9cblxuLyoqXG4gKiBEZXJpdmVkIHZhbHVlIHN0b3JlIGJ5IHN5bmNocm9uaXppbmcgb25lIG9yIG1vcmUgcmVhZGFibGUgc3RvcmVzIGFuZFxuICogYXBwbHlpbmcgYW4gYWdncmVnYXRpb24gZnVuY3Rpb24gb3ZlciBpdHMgaW5wdXQgdmFsdWVzLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1zdG9yZSNkZXJpdmVkXG4gKiBAdGVtcGxhdGUge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuU3RvcmVzfSBTXG4gKiBAdGVtcGxhdGUgVFxuICogQG92ZXJsb2FkXG4gKiBAcGFyYW0ge1N9IHN0b3JlcyAtIGlucHV0IHN0b3Jlc1xuICogQHBhcmFtIHsodmFsdWVzOiBpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN0b3Jlc1ZhbHVlczxTPikgPT4gVH0gZm4gLSBmdW5jdGlvbiBjYWxsYmFjayB0aGF0IGFnZ3JlZ2F0ZXMgdGhlIHZhbHVlc1xuICogQHBhcmFtIHtUfSBbaW5pdGlhbF92YWx1ZV0gLSBpbml0aWFsIHZhbHVlXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fVxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN0b3Jlc30gU1xuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7U30gc3RvcmVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtUfSBbaW5pdGlhbF92YWx1ZV1cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXJpdmVkKHN0b3JlcywgZm4sIGluaXRpYWxfdmFsdWUpIHtcblx0Y29uc3Qgc2luZ2xlID0gIUFycmF5LmlzQXJyYXkoc3RvcmVzKTtcblx0LyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8YW55Pj59ICovXG5cdGNvbnN0IHN0b3Jlc19hcnJheSA9IHNpbmdsZSA/IFtzdG9yZXNdIDogc3RvcmVzO1xuXHRpZiAoIXN0b3Jlc19hcnJheS5ldmVyeShCb29sZWFuKSkge1xuXHRcdHRocm93IG5ldyBFcnJvcignZGVyaXZlZCgpIGV4cGVjdHMgc3RvcmVzIGFzIGlucHV0LCBnb3QgYSBmYWxzeSB2YWx1ZScpO1xuXHR9XG5cdGNvbnN0IGF1dG8gPSBmbi5sZW5ndGggPCAyO1xuXHRyZXR1cm4gcmVhZGFibGUoaW5pdGlhbF92YWx1ZSwgKHNldCwgdXBkYXRlKSA9PiB7XG5cdFx0bGV0IHN0YXJ0ZWQgPSBmYWxzZTtcblx0XHRjb25zdCB2YWx1ZXMgPSBbXTtcblx0XHRsZXQgcGVuZGluZyA9IDA7XG5cdFx0bGV0IGNsZWFudXAgPSBub29wO1xuXHRcdGNvbnN0IHN5bmMgPSAoKSA9PiB7XG5cdFx0XHRpZiAocGVuZGluZykge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHRjb25zdCByZXN1bHQgPSBmbihzaW5nbGUgPyB2YWx1ZXNbMF0gOiB2YWx1ZXMsIHNldCwgdXBkYXRlKTtcblx0XHRcdGlmIChhdXRvKSB7XG5cdFx0XHRcdHNldChyZXN1bHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2xlYW51cCA9IGlzX2Z1bmN0aW9uKHJlc3VsdCkgPyByZXN1bHQgOiBub29wO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0Y29uc3QgdW5zdWJzY3JpYmVycyA9IHN0b3Jlc19hcnJheS5tYXAoKHN0b3JlLCBpKSA9PlxuXHRcdFx0c3Vic2NyaWJlKFxuXHRcdFx0XHRzdG9yZSxcblx0XHRcdFx0KHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dmFsdWVzW2ldID0gdmFsdWU7XG5cdFx0XHRcdFx0cGVuZGluZyAmPSB+KDEgPDwgaSk7XG5cdFx0XHRcdFx0aWYgKHN0YXJ0ZWQpIHtcblx0XHRcdFx0XHRcdHN5bmMoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCgpID0+IHtcblx0XHRcdFx0XHRwZW5kaW5nIHw9IDEgPDwgaTtcblx0XHRcdFx0fVxuXHRcdFx0KVxuXHRcdCk7XG5cdFx0c3RhcnRlZCA9IHRydWU7XG5cdFx0c3luYygpO1xuXHRcdHJldHVybiBmdW5jdGlvbiBzdG9wKCkge1xuXHRcdFx0cnVuX2FsbCh1bnN1YnNjcmliZXJzKTtcblx0XHRcdGNsZWFudXAoKTtcblx0XHRcdC8vIFdlIG5lZWQgdG8gc2V0IHRoaXMgdG8gZmFsc2UgYmVjYXVzZSBjYWxsYmFja3MgY2FuIHN0aWxsIGhhcHBlbiBkZXNwaXRlIGhhdmluZyB1bnN1YnNjcmliZWQ6XG5cdFx0XHQvLyBDYWxsYmFja3MgbWlnaHQgYWxyZWFkeSBiZSBwbGFjZWQgaW4gdGhlIHF1ZXVlIHdoaWNoIGRvZXNuJ3Qga25vdyBpdCBzaG91bGQgbm8gbG9uZ2VyXG5cdFx0XHQvLyBpbnZva2UgdGhpcyBkZXJpdmVkIHN0b3JlLlxuXHRcdFx0c3RhcnRlZCA9IGZhbHNlO1xuXHRcdH07XG5cdH0pO1xufVxuXG4vKipcbiAqIFRha2VzIGEgc3RvcmUgYW5kIHJldHVybnMgYSBuZXcgb25lIGRlcml2ZWQgZnJvbSB0aGUgb2xkIG9uZSB0aGF0IGlzIHJlYWRhYmxlLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1zdG9yZSNyZWFkb25seVxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fSBzdG9yZSAgLSBzdG9yZSB0byBtYWtlIHJlYWRvbmx5XG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZG9ubHkoc3RvcmUpIHtcblx0cmV0dXJuIHtcblx0XHRzdWJzY3JpYmU6IHN0b3JlLnN1YnNjcmliZS5iaW5kKHN0b3JlKVxuXHR9O1xufVxuXG5leHBvcnQgeyBnZXRfc3RvcmVfdmFsdWUgYXMgZ2V0IH07XG4iLCJleHBvcnQgY29uc3QgU05BUFNIT1RfS0VZID0gJ3N2ZWx0ZWtpdDpzbmFwc2hvdCc7XG5leHBvcnQgY29uc3QgU0NST0xMX0tFWSA9ICdzdmVsdGVraXQ6c2Nyb2xsJztcbmV4cG9ydCBjb25zdCBTVEFURVNfS0VZID0gJ3N2ZWx0ZWtpdDpzdGF0ZXMnO1xuZXhwb3J0IGNvbnN0IFBBR0VfVVJMX0tFWSA9ICdzdmVsdGVraXQ6cGFnZXVybCc7XG5cbmV4cG9ydCBjb25zdCBISVNUT1JZX0lOREVYID0gJ3N2ZWx0ZWtpdDpoaXN0b3J5JztcbmV4cG9ydCBjb25zdCBOQVZJR0FUSU9OX0lOREVYID0gJ3N2ZWx0ZWtpdDpuYXZpZ2F0aW9uJztcblxuZXhwb3J0IGNvbnN0IFBSRUxPQURfUFJJT1JJVElFUyA9IC8qKiBAdHlwZSB7Y29uc3R9ICovICh7XG5cdHRhcDogMSxcblx0aG92ZXI6IDIsXG5cdHZpZXdwb3J0OiAzLFxuXHRlYWdlcjogNCxcblx0b2ZmOiAtMSxcblx0ZmFsc2U6IC0xXG59KTtcbiIsImltcG9ydCB7IEJST1dTRVIsIERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgd3JpdGFibGUgfSBmcm9tICdzdmVsdGUvc3RvcmUnO1xuaW1wb3J0IHsgYXNzZXRzIH0gZnJvbSAnX19zdmVsdGVraXQvcGF0aHMnO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJ19fc3ZlbHRla2l0L2Vudmlyb25tZW50JztcbmltcG9ydCB7IFBSRUxPQURfUFJJT1JJVElFUyB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcblxuLyogZ2xvYmFsIF9fU1ZFTFRFS0lUX0FQUF9WRVJTSU9OX0ZJTEVfXywgX19TVkVMVEVLSVRfQVBQX1ZFUlNJT05fUE9MTF9JTlRFUlZBTF9fICovXG5cbmV4cG9ydCBjb25zdCBvcmlnaW4gPSBCUk9XU0VSID8gbG9jYXRpb24ub3JpZ2luIDogJyc7XG5cbi8qKiBAcGFyYW0ge3N0cmluZyB8IFVSTH0gdXJsICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZV91cmwodXJsKSB7XG5cdGlmICh1cmwgaW5zdGFuY2VvZiBVUkwpIHJldHVybiB1cmw7XG5cblx0bGV0IGJhc2VVUkkgPSBkb2N1bWVudC5iYXNlVVJJO1xuXG5cdGlmICghYmFzZVVSSSkge1xuXHRcdGNvbnN0IGJhc2VUYWdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2Jhc2UnKTtcblx0XHRiYXNlVVJJID0gYmFzZVRhZ3MubGVuZ3RoID8gYmFzZVRhZ3NbMF0uaHJlZiA6IGRvY3VtZW50LlVSTDtcblx0fVxuXG5cdHJldHVybiBuZXcgVVJMKHVybCwgYmFzZVVSSSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzY3JvbGxfc3RhdGUoKSB7XG5cdHJldHVybiB7XG5cdFx0eDogcGFnZVhPZmZzZXQsXG5cdFx0eTogcGFnZVlPZmZzZXRcblx0fTtcbn1cblxuY29uc3Qgd2FybmVkID0gbmV3IFdlYWtTZXQoKTtcblxuLyoqIEB0eXBlZGVmIHtrZXlvZiB0eXBlb2YgdmFsaWRfbGlua19vcHRpb25zfSBMaW5rT3B0aW9uTmFtZSAqL1xuXG5jb25zdCB2YWxpZF9saW5rX29wdGlvbnMgPSAvKiogQHR5cGUge2NvbnN0fSAqLyAoe1xuXHQncHJlbG9hZC1jb2RlJzogWycnLCAnb2ZmJywgJ2ZhbHNlJywgJ3RhcCcsICdob3ZlcicsICd2aWV3cG9ydCcsICdlYWdlciddLFxuXHQncHJlbG9hZC1kYXRhJzogWycnLCAnb2ZmJywgJ2ZhbHNlJywgJ3RhcCcsICdob3ZlciddLFxuXHRrZWVwZm9jdXM6IFsnJywgJ3RydWUnLCAnb2ZmJywgJ2ZhbHNlJ10sXG5cdG5vc2Nyb2xsOiBbJycsICd0cnVlJywgJ29mZicsICdmYWxzZSddLFxuXHRyZWxvYWQ6IFsnJywgJ3RydWUnLCAnb2ZmJywgJ2ZhbHNlJ10sXG5cdHJlcGxhY2VzdGF0ZTogWycnLCAndHJ1ZScsICdvZmYnLCAnZmFsc2UnXVxufSk7XG5cbi8qKlxuICogQHRlbXBsYXRlIHtMaW5rT3B0aW9uTmFtZX0gVFxuICogQHR5cGVkZWYge3R5cGVvZiB2YWxpZF9saW5rX29wdGlvbnNbVF1bbnVtYmVyXX0gVmFsaWRMaW5rT3B0aW9uc1xuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIHtMaW5rT3B0aW9uTmFtZX0gVFxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge1R9IG5hbWVcbiAqL1xuZnVuY3Rpb24gbGlua19vcHRpb24oZWxlbWVudCwgbmFtZSkge1xuXHRjb25zdCB2YWx1ZSA9IC8qKiBAdHlwZSB7VmFsaWRMaW5rT3B0aW9uczxUPiB8IG51bGx9ICovIChcblx0XHRlbGVtZW50LmdldEF0dHJpYnV0ZShgZGF0YS1zdmVsdGVraXQtJHtuYW1lfWApXG5cdCk7XG5cblx0aWYgKERFVikge1xuXHRcdHZhbGlkYXRlX2xpbmtfb3B0aW9uKGVsZW1lbnQsIG5hbWUsIHZhbHVlKTtcblx0fVxuXG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge0xpbmtPcHRpb25OYW1lfSBUXG4gKiBAdGVtcGxhdGUge1ZhbGlkTGlua09wdGlvbnM8VD4gfCBudWxsfSBVXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7VH0gbmFtZVxuICogQHBhcmFtIHtVfSB2YWx1ZVxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZV9saW5rX29wdGlvbihlbGVtZW50LCBuYW1lLCB2YWx1ZSkge1xuXHRpZiAodmFsdWUgPT09IG51bGwpIHJldHVybjtcblxuXHQvLyBAdHMtZXhwZWN0LWVycm9yIC0gaW5jbHVkZXMgaXMgZHVtYlxuXHRpZiAoIXdhcm5lZC5oYXMoZWxlbWVudCkgJiYgIXZhbGlkX2xpbmtfb3B0aW9uc1tuYW1lXS5pbmNsdWRlcyh2YWx1ZSkpIHtcblx0XHRjb25zb2xlLmVycm9yKFxuXHRcdFx0YFVuZXhwZWN0ZWQgdmFsdWUgZm9yICR7bmFtZX0g4oCUIHNob3VsZCBiZSBvbmUgb2YgJHt2YWxpZF9saW5rX29wdGlvbnNbbmFtZV1cblx0XHRcdFx0Lm1hcCgob3B0aW9uKSA9PiBKU09OLnN0cmluZ2lmeShvcHRpb24pKVxuXHRcdFx0XHQuam9pbignLCAnKX1gLFxuXHRcdFx0ZWxlbWVudFxuXHRcdCk7XG5cblx0XHR3YXJuZWQuYWRkKGVsZW1lbnQpO1xuXHR9XG59XG5cbmNvbnN0IGxldmVscyA9IHtcblx0Li4uUFJFTE9BRF9QUklPUklUSUVTLFxuXHQnJzogUFJFTE9BRF9QUklPUklUSUVTLmhvdmVyXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0VsZW1lbnQgfCBudWxsfVxuICovXG5mdW5jdGlvbiBwYXJlbnRfZWxlbWVudChlbGVtZW50KSB7XG5cdGxldCBwYXJlbnQgPSBlbGVtZW50LmFzc2lnbmVkU2xvdCA/PyBlbGVtZW50LnBhcmVudE5vZGU7XG5cblx0Ly8gQHRzLWV4cGVjdC1lcnJvciBoYW5kbGUgc2hhZG93IHJvb3RzXG5cdGlmIChwYXJlbnQ/Lm5vZGVUeXBlID09PSAxMSkgcGFyZW50ID0gcGFyZW50Lmhvc3Q7XG5cblx0cmV0dXJuIC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKHBhcmVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZF9hbmNob3IoZWxlbWVudCwgdGFyZ2V0KSB7XG5cdHdoaWxlIChlbGVtZW50ICYmIGVsZW1lbnQgIT09IHRhcmdldCkge1xuXHRcdGlmIChlbGVtZW50Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09ICdBJyAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnaHJlZicpKSB7XG5cdFx0XHRyZXR1cm4gLyoqIEB0eXBlIHtIVE1MQW5jaG9yRWxlbWVudCB8IFNWR0FFbGVtZW50fSAqLyAoZWxlbWVudCk7XG5cdFx0fVxuXG5cdFx0ZWxlbWVudCA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKHBhcmVudF9lbGVtZW50KGVsZW1lbnQpKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEFuY2hvckVsZW1lbnQgfCBTVkdBRWxlbWVudH0gYVxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9saW5rX2luZm8oYSwgYmFzZSkge1xuXHQvKiogQHR5cGUge1VSTCB8IHVuZGVmaW5lZH0gKi9cblx0bGV0IHVybDtcblxuXHR0cnkge1xuXHRcdHVybCA9IG5ldyBVUkwoYSBpbnN0YW5jZW9mIFNWR0FFbGVtZW50ID8gYS5ocmVmLmJhc2VWYWwgOiBhLmhyZWYsIGRvY3VtZW50LmJhc2VVUkkpO1xuXHR9IGNhdGNoIHt9XG5cblx0Y29uc3QgdGFyZ2V0ID0gYSBpbnN0YW5jZW9mIFNWR0FFbGVtZW50ID8gYS50YXJnZXQuYmFzZVZhbCA6IGEudGFyZ2V0O1xuXG5cdGNvbnN0IGV4dGVybmFsID1cblx0XHQhdXJsIHx8XG5cdFx0ISF0YXJnZXQgfHxcblx0XHRpc19leHRlcm5hbF91cmwodXJsLCBiYXNlKSB8fFxuXHRcdChhLmdldEF0dHJpYnV0ZSgncmVsJykgfHwgJycpLnNwbGl0KC9cXHMrLykuaW5jbHVkZXMoJ2V4dGVybmFsJyk7XG5cblx0Y29uc3QgZG93bmxvYWQgPSB1cmw/Lm9yaWdpbiA9PT0gb3JpZ2luICYmIGEuaGFzQXR0cmlidXRlKCdkb3dubG9hZCcpO1xuXG5cdHJldHVybiB7IHVybCwgZXh0ZXJuYWwsIHRhcmdldCwgZG93bmxvYWQgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxGb3JtRWxlbWVudCB8IEhUTUxBbmNob3JFbGVtZW50IHwgU1ZHQUVsZW1lbnR9IGVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9yb3V0ZXJfb3B0aW9ucyhlbGVtZW50KSB7XG5cdC8qKiBAdHlwZSB7VmFsaWRMaW5rT3B0aW9uczwna2VlcGZvY3VzJz4gfCBudWxsfSAqL1xuXHRsZXQga2VlcGZvY3VzID0gbnVsbDtcblxuXHQvKiogQHR5cGUge1ZhbGlkTGlua09wdGlvbnM8J25vc2Nyb2xsJz4gfCBudWxsfSAqL1xuXHRsZXQgbm9zY3JvbGwgPSBudWxsO1xuXG5cdC8qKiBAdHlwZSB7VmFsaWRMaW5rT3B0aW9uczwncHJlbG9hZC1jb2RlJz4gfCBudWxsfSAqL1xuXHRsZXQgcHJlbG9hZF9jb2RlID0gbnVsbDtcblxuXHQvKiogQHR5cGUge1ZhbGlkTGlua09wdGlvbnM8J3ByZWxvYWQtZGF0YSc+IHwgbnVsbH0gKi9cblx0bGV0IHByZWxvYWRfZGF0YSA9IG51bGw7XG5cblx0LyoqIEB0eXBlIHtWYWxpZExpbmtPcHRpb25zPCdyZWxvYWQnPiB8IG51bGx9ICovXG5cdGxldCByZWxvYWQgPSBudWxsO1xuXG5cdC8qKiBAdHlwZSB7VmFsaWRMaW5rT3B0aW9uczwncmVwbGFjZXN0YXRlJz4gfCBudWxsfSAqL1xuXHRsZXQgcmVwbGFjZV9zdGF0ZSA9IG51bGw7XG5cblx0LyoqIEB0eXBlIHtFbGVtZW50fSAqL1xuXHRsZXQgZWwgPSBlbGVtZW50O1xuXG5cdHdoaWxlIChlbCAmJiBlbCAhPT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG5cdFx0aWYgKHByZWxvYWRfY29kZSA9PT0gbnVsbCkgcHJlbG9hZF9jb2RlID0gbGlua19vcHRpb24oZWwsICdwcmVsb2FkLWNvZGUnKTtcblx0XHRpZiAocHJlbG9hZF9kYXRhID09PSBudWxsKSBwcmVsb2FkX2RhdGEgPSBsaW5rX29wdGlvbihlbCwgJ3ByZWxvYWQtZGF0YScpO1xuXHRcdGlmIChrZWVwZm9jdXMgPT09IG51bGwpIGtlZXBmb2N1cyA9IGxpbmtfb3B0aW9uKGVsLCAna2VlcGZvY3VzJyk7XG5cdFx0aWYgKG5vc2Nyb2xsID09PSBudWxsKSBub3Njcm9sbCA9IGxpbmtfb3B0aW9uKGVsLCAnbm9zY3JvbGwnKTtcblx0XHRpZiAocmVsb2FkID09PSBudWxsKSByZWxvYWQgPSBsaW5rX29wdGlvbihlbCwgJ3JlbG9hZCcpO1xuXHRcdGlmIChyZXBsYWNlX3N0YXRlID09PSBudWxsKSByZXBsYWNlX3N0YXRlID0gbGlua19vcHRpb24oZWwsICdyZXBsYWNlc3RhdGUnKTtcblxuXHRcdGVsID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAocGFyZW50X2VsZW1lbnQoZWwpKTtcblx0fVxuXG5cdC8qKiBAcGFyYW0ge3N0cmluZyB8IG51bGx9IHZhbHVlICovXG5cdGZ1bmN0aW9uIGdldF9vcHRpb25fc3RhdGUodmFsdWUpIHtcblx0XHRzd2l0Y2ggKHZhbHVlKSB7XG5cdFx0XHRjYXNlICcnOlxuXHRcdFx0Y2FzZSAndHJ1ZSc6XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0Y2FzZSAnb2ZmJzpcblx0XHRcdGNhc2UgJ2ZhbHNlJzpcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHByZWxvYWRfY29kZTogbGV2ZWxzW3ByZWxvYWRfY29kZSA/PyAnb2ZmJ10sXG5cdFx0cHJlbG9hZF9kYXRhOiBsZXZlbHNbcHJlbG9hZF9kYXRhID8/ICdvZmYnXSxcblx0XHRrZWVwZm9jdXM6IGdldF9vcHRpb25fc3RhdGUoa2VlcGZvY3VzKSxcblx0XHRub3Njcm9sbDogZ2V0X29wdGlvbl9zdGF0ZShub3Njcm9sbCksXG5cdFx0cmVsb2FkOiBnZXRfb3B0aW9uX3N0YXRlKHJlbG9hZCksXG5cdFx0cmVwbGFjZV9zdGF0ZTogZ2V0X29wdGlvbl9zdGF0ZShyZXBsYWNlX3N0YXRlKVxuXHR9O1xufVxuXG4vKiogQHBhcmFtIHthbnl9IHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gbm90aWZpYWJsZV9zdG9yZSh2YWx1ZSkge1xuXHRjb25zdCBzdG9yZSA9IHdyaXRhYmxlKHZhbHVlKTtcblx0bGV0IHJlYWR5ID0gdHJ1ZTtcblxuXHRmdW5jdGlvbiBub3RpZnkoKSB7XG5cdFx0cmVhZHkgPSB0cnVlO1xuXHRcdHN0b3JlLnVwZGF0ZSgodmFsKSA9PiB2YWwpO1xuXHR9XG5cblx0LyoqIEBwYXJhbSB7YW55fSBuZXdfdmFsdWUgKi9cblx0ZnVuY3Rpb24gc2V0KG5ld192YWx1ZSkge1xuXHRcdHJlYWR5ID0gZmFsc2U7XG5cdFx0c3RvcmUuc2V0KG5ld192YWx1ZSk7XG5cdH1cblxuXHQvKiogQHBhcmFtIHsodmFsdWU6IGFueSkgPT4gdm9pZH0gcnVuICovXG5cdGZ1bmN0aW9uIHN1YnNjcmliZShydW4pIHtcblx0XHQvKiogQHR5cGUge2FueX0gKi9cblx0XHRsZXQgb2xkX3ZhbHVlO1xuXHRcdHJldHVybiBzdG9yZS5zdWJzY3JpYmUoKG5ld192YWx1ZSkgPT4ge1xuXHRcdFx0aWYgKG9sZF92YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IChyZWFkeSAmJiBuZXdfdmFsdWUgIT09IG9sZF92YWx1ZSkpIHtcblx0XHRcdFx0cnVuKChvbGRfdmFsdWUgPSBuZXdfdmFsdWUpKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHJldHVybiB7IG5vdGlmeSwgc2V0LCBzdWJzY3JpYmUgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV91cGRhdGVkX3N0b3JlKCkge1xuXHRjb25zdCB7IHNldCwgc3Vic2NyaWJlIH0gPSB3cml0YWJsZShmYWxzZSk7XG5cblx0aWYgKERFViB8fCAhQlJPV1NFUikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWJzY3JpYmUsXG5cdFx0XHRjaGVjazogYXN5bmMgKCkgPT4gZmFsc2Vcblx0XHR9O1xuXHR9XG5cblx0Y29uc3QgaW50ZXJ2YWwgPSBfX1NWRUxURUtJVF9BUFBfVkVSU0lPTl9QT0xMX0lOVEVSVkFMX187XG5cblx0LyoqIEB0eXBlIHtOb2RlSlMuVGltZW91dH0gKi9cblx0bGV0IHRpbWVvdXQ7XG5cblx0LyoqIEB0eXBlIHsoKSA9PiBQcm9taXNlPGJvb2xlYW4+fSAqL1xuXHRhc3luYyBmdW5jdGlvbiBjaGVjaygpIHtcblx0XHRjbGVhclRpbWVvdXQodGltZW91dCk7XG5cblx0XHRpZiAoaW50ZXJ2YWwpIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNoZWNrLCBpbnRlcnZhbCk7XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YXNzZXRzfS8ke19fU1ZFTFRFS0lUX0FQUF9WRVJTSU9OX0ZJTEVfX31gLCB7XG5cdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHRwcmFnbWE6ICduby1jYWNoZScsXG5cdFx0XHRcdFx0J2NhY2hlLWNvbnRyb2wnOiAnbm8tY2FjaGUnXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoIXJlcy5vaykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuXHRcdFx0Y29uc3QgdXBkYXRlZCA9IGRhdGEudmVyc2lvbiAhPT0gdmVyc2lvbjtcblxuXHRcdFx0aWYgKHVwZGF0ZWQpIHtcblx0XHRcdFx0c2V0KHRydWUpO1xuXHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB1cGRhdGVkO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdGlmIChpbnRlcnZhbCkgdGltZW91dCA9IHNldFRpbWVvdXQoY2hlY2ssIGludGVydmFsKTtcblxuXHRyZXR1cm4ge1xuXHRcdHN1YnNjcmliZSxcblx0XHRjaGVja1xuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VVJMfSB1cmxcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19leHRlcm5hbF91cmwodXJsLCBiYXNlKSB7XG5cdHJldHVybiB1cmwub3JpZ2luICE9PSBvcmlnaW4gfHwgIXVybC5wYXRobmFtZS5zdGFydHNXaXRoKGJhc2UpO1xufVxuIiwiZXhwb3J0IGNvbnN0IFVOREVGSU5FRCA9IC0xO1xuZXhwb3J0IGNvbnN0IEhPTEUgPSAtMjtcbmV4cG9ydCBjb25zdCBOQU4gPSAtMztcbmV4cG9ydCBjb25zdCBQT1NJVElWRV9JTkZJTklUWSA9IC00O1xuZXhwb3J0IGNvbnN0IE5FR0FUSVZFX0lORklOSVRZID0gLTU7XG5leHBvcnQgY29uc3QgTkVHQVRJVkVfWkVSTyA9IC02O1xuIiwiaW1wb3J0IHtcblx0SE9MRSxcblx0TkFOLFxuXHRORUdBVElWRV9JTkZJTklUWSxcblx0TkVHQVRJVkVfWkVSTyxcblx0UE9TSVRJVkVfSU5GSU5JVFksXG5cdFVOREVGSU5FRFxufSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5cbi8qKlxuICogUmV2aXZlIGEgdmFsdWUgc2VyaWFsaXplZCB3aXRoIGBkZXZhbHVlLnN0cmluZ2lmeWBcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZXJpYWxpemVkXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsICh2YWx1ZTogYW55KSA9PiBhbnk+fSBbcmV2aXZlcnNdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZShzZXJpYWxpemVkLCByZXZpdmVycykge1xuXHRyZXR1cm4gdW5mbGF0dGVuKEpTT04ucGFyc2Uoc2VyaWFsaXplZCksIHJldml2ZXJzKTtcbn1cblxuLyoqXG4gKiBSZXZpdmUgYSB2YWx1ZSBmbGF0dGVuZWQgd2l0aCBgZGV2YWx1ZS5zdHJpbmdpZnlgXG4gKiBAcGFyYW0ge251bWJlciB8IGFueVtdfSBwYXJzZWRcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgKHZhbHVlOiBhbnkpID0+IGFueT59IFtyZXZpdmVyc11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuZmxhdHRlbihwYXJzZWQsIHJldml2ZXJzKSB7XG5cdGlmICh0eXBlb2YgcGFyc2VkID09PSAnbnVtYmVyJykgcmV0dXJuIGh5ZHJhdGUocGFyc2VkLCB0cnVlKTtcblxuXHRpZiAoIUFycmF5LmlzQXJyYXkocGFyc2VkKSB8fCBwYXJzZWQubGVuZ3RoID09PSAwKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGlucHV0Jyk7XG5cdH1cblxuXHRjb25zdCB2YWx1ZXMgPSAvKiogQHR5cGUge2FueVtdfSAqLyAocGFyc2VkKTtcblxuXHRjb25zdCBoeWRyYXRlZCA9IEFycmF5KHZhbHVlcy5sZW5ndGgpO1xuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcblx0ICogQHJldHVybnMge2FueX1cblx0ICovXG5cdGZ1bmN0aW9uIGh5ZHJhdGUoaW5kZXgsIHN0YW5kYWxvbmUgPSBmYWxzZSkge1xuXHRcdGlmIChpbmRleCA9PT0gVU5ERUZJTkVEKSByZXR1cm4gdW5kZWZpbmVkO1xuXHRcdGlmIChpbmRleCA9PT0gTkFOKSByZXR1cm4gTmFOO1xuXHRcdGlmIChpbmRleCA9PT0gUE9TSVRJVkVfSU5GSU5JVFkpIHJldHVybiBJbmZpbml0eTtcblx0XHRpZiAoaW5kZXggPT09IE5FR0FUSVZFX0lORklOSVRZKSByZXR1cm4gLUluZmluaXR5O1xuXHRcdGlmIChpbmRleCA9PT0gTkVHQVRJVkVfWkVSTykgcmV0dXJuIC0wO1xuXG5cdFx0aWYgKHN0YW5kYWxvbmUpIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBpbnB1dGApO1xuXG5cdFx0aWYgKGluZGV4IGluIGh5ZHJhdGVkKSByZXR1cm4gaHlkcmF0ZWRbaW5kZXhdO1xuXG5cdFx0Y29uc3QgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdO1xuXG5cdFx0aWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnKSB7XG5cdFx0XHRoeWRyYXRlZFtpbmRleF0gPSB2YWx1ZTtcblx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHRpZiAodHlwZW9mIHZhbHVlWzBdID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRjb25zdCB0eXBlID0gdmFsdWVbMF07XG5cblx0XHRcdFx0Y29uc3QgcmV2aXZlciA9IHJldml2ZXJzPy5bdHlwZV07XG5cdFx0XHRcdGlmIChyZXZpdmVyKSB7XG5cdFx0XHRcdFx0cmV0dXJuIChoeWRyYXRlZFtpbmRleF0gPSByZXZpdmVyKGh5ZHJhdGUodmFsdWVbMV0pKSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdFx0XHRjYXNlICdEYXRlJzpcblx0XHRcdFx0XHRcdGh5ZHJhdGVkW2luZGV4XSA9IG5ldyBEYXRlKHZhbHVlWzFdKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSAnU2V0Jzpcblx0XHRcdFx0XHRcdGNvbnN0IHNldCA9IG5ldyBTZXQoKTtcblx0XHRcdFx0XHRcdGh5ZHJhdGVkW2luZGV4XSA9IHNldDtcblx0XHRcdFx0XHRcdGZvciAobGV0IGkgPSAxOyBpIDwgdmFsdWUubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHRcdFx0c2V0LmFkZChoeWRyYXRlKHZhbHVlW2ldKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgJ01hcCc6XG5cdFx0XHRcdFx0XHRjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG5cdFx0XHRcdFx0XHRoeWRyYXRlZFtpbmRleF0gPSBtYXA7XG5cdFx0XHRcdFx0XHRmb3IgKGxldCBpID0gMTsgaSA8IHZhbHVlLmxlbmd0aDsgaSArPSAyKSB7XG5cdFx0XHRcdFx0XHRcdG1hcC5zZXQoaHlkcmF0ZSh2YWx1ZVtpXSksIGh5ZHJhdGUodmFsdWVbaSArIDFdKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgJ1JlZ0V4cCc6XG5cdFx0XHRcdFx0XHRoeWRyYXRlZFtpbmRleF0gPSBuZXcgUmVnRXhwKHZhbHVlWzFdLCB2YWx1ZVsyXSk7XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgJ09iamVjdCc6XG5cdFx0XHRcdFx0XHRoeWRyYXRlZFtpbmRleF0gPSBPYmplY3QodmFsdWVbMV0pO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlICdCaWdJbnQnOlxuXHRcdFx0XHRcdFx0aHlkcmF0ZWRbaW5kZXhdID0gQmlnSW50KHZhbHVlWzFdKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSAnbnVsbCc6XG5cdFx0XHRcdFx0XHRjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHRcdFx0XHRcdFx0aHlkcmF0ZWRbaW5kZXhdID0gb2JqO1xuXHRcdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDE7IGkgPCB2YWx1ZS5sZW5ndGg7IGkgKz0gMikge1xuXHRcdFx0XHRcdFx0XHRvYmpbdmFsdWVbaV1dID0gaHlkcmF0ZSh2YWx1ZVtpICsgMV0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHR5cGUgJHt0eXBlfWApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBhcnJheSA9IG5ldyBBcnJheSh2YWx1ZS5sZW5ndGgpO1xuXHRcdFx0XHRoeWRyYXRlZFtpbmRleF0gPSBhcnJheTtcblxuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0Y29uc3QgbiA9IHZhbHVlW2ldO1xuXHRcdFx0XHRcdGlmIChuID09PSBIT0xFKSBjb250aW51ZTtcblxuXHRcdFx0XHRcdGFycmF5W2ldID0gaHlkcmF0ZShuKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIGFueT59ICovXG5cdFx0XHRjb25zdCBvYmplY3QgPSB7fTtcblx0XHRcdGh5ZHJhdGVkW2luZGV4XSA9IG9iamVjdDtcblxuXHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gdmFsdWUpIHtcblx0XHRcdFx0Y29uc3QgbiA9IHZhbHVlW2tleV07XG5cdFx0XHRcdG9iamVjdFtrZXldID0gaHlkcmF0ZShuKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gaHlkcmF0ZWRbaW5kZXhdO1xuXHR9XG5cblx0cmV0dXJuIGh5ZHJhdGUoMCk7XG59XG4iLCIvKipcbiAqIEBwYXJhbSB7U2V0PHN0cmluZz59IGV4cGVjdGVkXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRvcihleHBlY3RlZCkge1xuXHQvKipcblx0ICogQHBhcmFtIHthbnl9IG1vZHVsZVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gW2ZpbGVdXG5cdCAqL1xuXHRmdW5jdGlvbiB2YWxpZGF0ZShtb2R1bGUsIGZpbGUpIHtcblx0XHRpZiAoIW1vZHVsZSkgcmV0dXJuO1xuXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gbW9kdWxlKSB7XG5cdFx0XHRpZiAoa2V5WzBdID09PSAnXycgfHwgZXhwZWN0ZWQuaGFzKGtleSkpIGNvbnRpbnVlOyAvLyBrZXkgaXMgdmFsaWQgaW4gdGhpcyBtb2R1bGVcblxuXHRcdFx0Y29uc3QgdmFsdWVzID0gWy4uLmV4cGVjdGVkLnZhbHVlcygpXTtcblxuXHRcdFx0Y29uc3QgaGludCA9XG5cdFx0XHRcdGhpbnRfZm9yX3N1cHBvcnRlZF9maWxlcyhrZXksIGZpbGU/LnNsaWNlKGZpbGUubGFzdEluZGV4T2YoJy4nKSkpID8/XG5cdFx0XHRcdGB2YWxpZCBleHBvcnRzIGFyZSAke3ZhbHVlcy5qb2luKCcsICcpfSwgb3IgYW55dGhpbmcgd2l0aCBhICdfJyBwcmVmaXhgO1xuXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZXhwb3J0ICcke2tleX0nJHtmaWxlID8gYCBpbiAke2ZpbGV9YCA6ICcnfSAoJHtoaW50fSlgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdmFsaWRhdGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHBhcmFtIHtzdHJpbmd9IGV4dFxuICogQHJldHVybnMge3N0cmluZyB8IHZvaWR9XG4gKi9cbmZ1bmN0aW9uIGhpbnRfZm9yX3N1cHBvcnRlZF9maWxlcyhrZXksIGV4dCA9ICcuanMnKSB7XG5cdGNvbnN0IHN1cHBvcnRlZF9maWxlcyA9IFtdO1xuXG5cdGlmICh2YWxpZF9sYXlvdXRfZXhwb3J0cy5oYXMoa2V5KSkge1xuXHRcdHN1cHBvcnRlZF9maWxlcy5wdXNoKGArbGF5b3V0JHtleHR9YCk7XG5cdH1cblxuXHRpZiAodmFsaWRfcGFnZV9leHBvcnRzLmhhcyhrZXkpKSB7XG5cdFx0c3VwcG9ydGVkX2ZpbGVzLnB1c2goYCtwYWdlJHtleHR9YCk7XG5cdH1cblxuXHRpZiAodmFsaWRfbGF5b3V0X3NlcnZlcl9leHBvcnRzLmhhcyhrZXkpKSB7XG5cdFx0c3VwcG9ydGVkX2ZpbGVzLnB1c2goYCtsYXlvdXQuc2VydmVyJHtleHR9YCk7XG5cdH1cblxuXHRpZiAodmFsaWRfcGFnZV9zZXJ2ZXJfZXhwb3J0cy5oYXMoa2V5KSkge1xuXHRcdHN1cHBvcnRlZF9maWxlcy5wdXNoKGArcGFnZS5zZXJ2ZXIke2V4dH1gKTtcblx0fVxuXG5cdGlmICh2YWxpZF9zZXJ2ZXJfZXhwb3J0cy5oYXMoa2V5KSkge1xuXHRcdHN1cHBvcnRlZF9maWxlcy5wdXNoKGArc2VydmVyJHtleHR9YCk7XG5cdH1cblxuXHRpZiAoc3VwcG9ydGVkX2ZpbGVzLmxlbmd0aCA+IDApIHtcblx0XHRyZXR1cm4gYCcke2tleX0nIGlzIGEgdmFsaWQgZXhwb3J0IGluICR7c3VwcG9ydGVkX2ZpbGVzLnNsaWNlKDAsIC0xKS5qb2luKCcsICcpfSR7XG5cdFx0XHRzdXBwb3J0ZWRfZmlsZXMubGVuZ3RoID4gMSA/ICcgb3IgJyA6ICcnXG5cdFx0fSR7c3VwcG9ydGVkX2ZpbGVzLmF0KC0xKX1gO1xuXHR9XG59XG5cbmNvbnN0IHZhbGlkX2xheW91dF9leHBvcnRzID0gbmV3IFNldChbXG5cdCdsb2FkJyxcblx0J3ByZXJlbmRlcicsXG5cdCdjc3InLFxuXHQnc3NyJyxcblx0J3RyYWlsaW5nU2xhc2gnLFxuXHQnY29uZmlnJ1xuXSk7XG5jb25zdCB2YWxpZF9wYWdlX2V4cG9ydHMgPSBuZXcgU2V0KFsuLi52YWxpZF9sYXlvdXRfZXhwb3J0cywgJ2VudHJpZXMnXSk7XG5jb25zdCB2YWxpZF9sYXlvdXRfc2VydmVyX2V4cG9ydHMgPSBuZXcgU2V0KFsuLi52YWxpZF9sYXlvdXRfZXhwb3J0c10pO1xuY29uc3QgdmFsaWRfcGFnZV9zZXJ2ZXJfZXhwb3J0cyA9IG5ldyBTZXQoWy4uLnZhbGlkX2xheW91dF9zZXJ2ZXJfZXhwb3J0cywgJ2FjdGlvbnMnLCAnZW50cmllcyddKTtcbmNvbnN0IHZhbGlkX3NlcnZlcl9leHBvcnRzID0gbmV3IFNldChbXG5cdCdHRVQnLFxuXHQnUE9TVCcsXG5cdCdQQVRDSCcsXG5cdCdQVVQnLFxuXHQnREVMRVRFJyxcblx0J09QVElPTlMnLFxuXHQnSEVBRCcsXG5cdCdmYWxsYmFjaycsXG5cdCdwcmVyZW5kZXInLFxuXHQndHJhaWxpbmdTbGFzaCcsXG5cdCdjb25maWcnLFxuXHQnZW50cmllcydcbl0pO1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVfbGF5b3V0X2V4cG9ydHMgPSB2YWxpZGF0b3IodmFsaWRfbGF5b3V0X2V4cG9ydHMpO1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlX3BhZ2VfZXhwb3J0cyA9IHZhbGlkYXRvcih2YWxpZF9wYWdlX2V4cG9ydHMpO1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlX2xheW91dF9zZXJ2ZXJfZXhwb3J0cyA9IHZhbGlkYXRvcih2YWxpZF9sYXlvdXRfc2VydmVyX2V4cG9ydHMpO1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlX3BhZ2Vfc2VydmVyX2V4cG9ydHMgPSB2YWxpZGF0b3IodmFsaWRfcGFnZV9zZXJ2ZXJfZXhwb3J0cyk7XG5leHBvcnQgY29uc3QgdmFsaWRhdGVfc2VydmVyX2V4cG9ydHMgPSB2YWxpZGF0b3IodmFsaWRfc2VydmVyX2V4cG9ydHMpO1xuIiwiLyoqXG4gKiBSZW1vdmVzIG51bGxpc2ggdmFsdWVzIGZyb20gYW4gYXJyYXkuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7QXJyYXk8VD59IGFyclxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcGFjdChhcnIpIHtcblx0cmV0dXJuIGFyci5maWx0ZXIoLyoqIEByZXR1cm5zIHt2YWwgaXMgTm9uTnVsbGFibGU8VD59ICovICh2YWwpID0+IHZhbCAhPSBudWxsKTtcbn1cbiIsImV4cG9ydCBjbGFzcyBIdHRwRXJyb3Ige1xuXHQvKipcblx0ICogQHBhcmFtIHtudW1iZXJ9IHN0YXR1c1xuXHQgKiBAcGFyYW0ge3ttZXNzYWdlOiBzdHJpbmd9IGV4dGVuZHMgQXBwLkVycm9yID8gKEFwcC5FcnJvciB8IHN0cmluZyB8IHVuZGVmaW5lZCkgOiBBcHAuRXJyb3J9IGJvZHlcblx0ICovXG5cdGNvbnN0cnVjdG9yKHN0YXR1cywgYm9keSkge1xuXHRcdHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuXHRcdGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdHRoaXMuYm9keSA9IHsgbWVzc2FnZTogYm9keSB9O1xuXHRcdH0gZWxzZSBpZiAoYm9keSkge1xuXHRcdFx0dGhpcy5ib2R5ID0gYm9keTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5ib2R5ID0geyBtZXNzYWdlOiBgRXJyb3I6ICR7c3RhdHVzfWAgfTtcblx0XHR9XG5cdH1cblxuXHR0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5ib2R5KTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgUmVkaXJlY3Qge1xuXHQvKipcblx0ICogQHBhcmFtIHszMDAgfCAzMDEgfCAzMDIgfCAzMDMgfCAzMDQgfCAzMDUgfCAzMDYgfCAzMDcgfCAzMDh9IHN0YXR1c1xuXHQgKiBAcGFyYW0ge3N0cmluZ30gbG9jYXRpb25cblx0ICovXG5cdGNvbnN0cnVjdG9yKHN0YXR1cywgbG9jYXRpb24pIHtcblx0XHR0aGlzLnN0YXR1cyA9IHN0YXR1cztcblx0XHR0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG5cdH1cbn1cblxuLyoqXG4gKiBBbiBlcnJvciB0aGF0IHdhcyB0aHJvd24gZnJvbSB3aXRoaW4gdGhlIFN2ZWx0ZUtpdCBydW50aW1lIHRoYXQgaXMgbm90IGZhdGFsIGFuZCBkb2Vzbid0IHJlc3VsdCBpbiBhIDUwMCwgc3VjaCBhcyBhIDQwNC5cbiAqIGBTdmVsdGVLaXRFcnJvcmAgZ29lcyB0aHJvdWdoIGBoYW5kbGVFcnJvcmAuXG4gKiBAZXh0ZW5kcyBFcnJvclxuICovXG5leHBvcnQgY2xhc3MgU3ZlbHRlS2l0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge251bWJlcn0gc3RhdHVzXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihzdGF0dXMsIHRleHQsIG1lc3NhZ2UpIHtcblx0XHRzdXBlcihtZXNzYWdlKTtcblx0XHR0aGlzLnN0YXR1cyA9IHN0YXR1cztcblx0XHR0aGlzLnRleHQgPSB0ZXh0O1xuXHR9XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IHVuZGVmaW5lZH0gW1Q9dW5kZWZpbmVkXVxuICovXG5leHBvcnQgY2xhc3MgQWN0aW9uRmFpbHVyZSB7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge251bWJlcn0gc3RhdHVzXG5cdCAqIEBwYXJhbSB7VH0gZGF0YVxuXHQgKi9cblx0Y29uc3RydWN0b3Ioc3RhdHVzLCBkYXRhKSB7XG5cdFx0dGhpcy5zdGF0dXMgPSBzdGF0dXM7XG5cdFx0dGhpcy5kYXRhID0gZGF0YTtcblx0fVxufVxuXG4vKipcbiAqIFRoaXMgaXMgYSBncm90ZXNxdWUgaGFjayB0aGF0LCBpbiBkZXYsIGFsbG93cyB1cyB0byByZXBsYWNlIHRoZSBpbXBsZW1lbnRhdGlvbnNcbiAqIG9mIHRoZXNlIGNsYXNzZXMgdGhhdCB5b3UnZCBnZXQgYnkgaW1wb3J0aW5nIHRoZW0gZnJvbSBgQHN2ZWx0ZWpzL2tpdGAgd2l0aCB0aGVcbiAqIG9uZXMgdGhhdCBhcmUgaW1wb3J0ZWQgdmlhIFZpdGUgYW5kIGxvYWRlZCBpbnRlcm5hbGx5LCBzbyB0aGF0IGluc3RhbmNlb2ZcbiAqIGNoZWNrcyB3b3JrIGV2ZW4gdGhvdWdoIFN2ZWx0ZUtpdCBpbXBvcnRzIHRoaXMgbW9kdWxlIHZpYSBWaXRlIGFuZCBjb25zdW1lcnNcbiAqIGltcG9ydCBpdCB2aWEgTm9kZVxuICogQHBhcmFtIHt7XG4gKiAgIEFjdGlvbkZhaWx1cmU6IHR5cGVvZiBBY3Rpb25GYWlsdXJlO1xuICogICBIdHRwRXJyb3I6IHR5cGVvZiBIdHRwRXJyb3I7XG4gKiAgIFJlZGlyZWN0OiB0eXBlb2YgUmVkaXJlY3Q7XG4gKiAgIFN2ZWx0ZUtpdEVycm9yOiB0eXBlb2YgU3ZlbHRlS2l0RXJyb3I7XG4gKiB9fSBpbXBsZW1lbnRhdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VfaW1wbGVtZW50YXRpb25zKGltcGxlbWVudGF0aW9ucykge1xuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdEFjdGlvbkZhaWx1cmUgPSBpbXBsZW1lbnRhdGlvbnMuQWN0aW9uRmFpbHVyZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jbGFzcy1hc3NpZ25cblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRIdHRwRXJyb3IgPSBpbXBsZW1lbnRhdGlvbnMuSHR0cEVycm9yOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNsYXNzLWFzc2lnblxuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFJlZGlyZWN0ID0gaW1wbGVtZW50YXRpb25zLlJlZGlyZWN0OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNsYXNzLWFzc2lnblxuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFN2ZWx0ZUtpdEVycm9yID0gaW1wbGVtZW50YXRpb25zLlN2ZWx0ZUtpdEVycm9yOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNsYXNzLWFzc2lnblxufVxuIiwiLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcm91dGVfaWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBkZXBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlX2RlcGVuZHMocm91dGVfaWQsIGRlcCkge1xuXHRjb25zdCBtYXRjaCA9IC9eKG1vei1pY29ufHZpZXctc291cmNlfGphcik6Ly5leGVjKGRlcCk7XG5cdGlmIChtYXRjaCkge1xuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdGAke3JvdXRlX2lkfTogQ2FsbGluZyBcXGBkZXBlbmRzKCcke2RlcH0nKVxcYCB3aWxsIHRocm93IGFuIGVycm9yIGluIEZpcmVmb3ggYmVjYXVzZSBcXGAke21hdGNoWzFdfVxcYCBpcyBhIHNwZWNpYWwgVVJJIHNjaGVtZWBcblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBjb25zdCBJTlZBTElEQVRFRF9QQVJBTSA9ICd4LXN2ZWx0ZWtpdC1pbnZhbGlkYXRlZCc7XG5cbmV4cG9ydCBjb25zdCBUUkFJTElOR19TTEFTSF9QQVJBTSA9ICd4LXN2ZWx0ZWtpdC10cmFpbGluZy1zbGFzaCc7XG4iLCJpbXBvcnQgeyBIdHRwRXJyb3IsIFN2ZWx0ZUtpdEVycm9yIH0gZnJvbSAnLi4vcnVudGltZS9jb250cm9sLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge3Vua25vd259IGVyclxuICogQHJldHVybiB7RXJyb3J9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb2FsZXNjZV90b19lcnJvcihlcnIpIHtcblx0cmV0dXJuIGVyciBpbnN0YW5jZW9mIEVycm9yIHx8XG5cdFx0KGVyciAmJiAvKiogQHR5cGUge2FueX0gKi8gKGVycikubmFtZSAmJiAvKiogQHR5cGUge2FueX0gKi8gKGVycikubWVzc2FnZSlcblx0XHQ/IC8qKiBAdHlwZSB7RXJyb3J9ICovIChlcnIpXG5cdFx0OiBuZXcgRXJyb3IoSlNPTi5zdHJpbmdpZnkoZXJyKSk7XG59XG5cbi8qKlxuICogVGhpcyBpcyBhbiBpZGVudGl0eSBmdW5jdGlvbiB0aGF0IGV4aXN0cyB0byBtYWtlIFR5cGVTY3JpcHQgbGVzc1xuICogcGFyYW5vaWQgYWJvdXQgcGVvcGxlIHRocm93aW5nIHRoaW5ncyB0aGF0IGFyZW4ndCBlcnJvcnMsIHdoaWNoXG4gKiBmcmFua2x5IGlzIG5vdCBzb21ldGhpbmcgd2Ugc2hvdWxkIGNhcmUgYWJvdXRcbiAqIEBwYXJhbSB7dW5rbm93bn0gZXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZV9lcnJvcihlcnJvcikge1xuXHRyZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoJy4uL3J1bnRpbWUvY29udHJvbC5qcycpLlJlZGlyZWN0IHwgSHR0cEVycm9yIHwgU3ZlbHRlS2l0RXJyb3IgfCBFcnJvcn0gKi8gKFxuXHRcdGVycm9yXG5cdCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHt1bmtub3dufSBlcnJvclxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3N0YXR1cyhlcnJvcikge1xuXHRyZXR1cm4gZXJyb3IgaW5zdGFuY2VvZiBIdHRwRXJyb3IgfHwgZXJyb3IgaW5zdGFuY2VvZiBTdmVsdGVLaXRFcnJvciA/IGVycm9yLnN0YXR1cyA6IDUwMDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3Vua25vd259IGVycm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfbWVzc2FnZShlcnJvcikge1xuXHRyZXR1cm4gZXJyb3IgaW5zdGFuY2VvZiBTdmVsdGVLaXRFcnJvciA/IGVycm9yLnRleHQgOiAnSW50ZXJuYWwgRXJyb3InO1xufVxuIiwiaW1wb3J0IHsgQlJPV1NFUiwgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQgeyBvbk1vdW50LCB0aWNrIH0gZnJvbSAnc3ZlbHRlJztcbmltcG9ydCB7XG5cdGFkZF9kYXRhX3N1ZmZpeCxcblx0ZGVjb2RlX3BhcmFtcyxcblx0ZGVjb2RlX3BhdGhuYW1lLFxuXHRzdHJpcF9oYXNoLFxuXHRtYWtlX3RyYWNrYWJsZSxcblx0bm9ybWFsaXplX3BhdGhcbn0gZnJvbSAnLi4vLi4vdXRpbHMvdXJsLmpzJztcbmltcG9ydCB7XG5cdGluaXRpYWxfZmV0Y2gsXG5cdGxvY2tfZmV0Y2gsXG5cdG5hdGl2ZV9mZXRjaCxcblx0c3Vic2VxdWVudF9mZXRjaCxcblx0dW5sb2NrX2ZldGNoXG59IGZyb20gJy4vZmV0Y2hlci5qcyc7XG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gJy4vcGFyc2UuanMnO1xuaW1wb3J0ICogYXMgc3RvcmFnZSBmcm9tICcuL3Nlc3Npb24tc3RvcmFnZS5qcyc7XG5pbXBvcnQge1xuXHRmaW5kX2FuY2hvcixcblx0cmVzb2x2ZV91cmwsXG5cdGdldF9saW5rX2luZm8sXG5cdGdldF9yb3V0ZXJfb3B0aW9ucyxcblx0aXNfZXh0ZXJuYWxfdXJsLFxuXHRvcmlnaW4sXG5cdHNjcm9sbF9zdGF0ZSxcblx0bm90aWZpYWJsZV9zdG9yZSxcblx0Y3JlYXRlX3VwZGF0ZWRfc3RvcmVcbn0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgeyBiYXNlIH0gZnJvbSAnX19zdmVsdGVraXQvcGF0aHMnO1xuaW1wb3J0ICogYXMgZGV2YWx1ZSBmcm9tICdkZXZhbHVlJztcbmltcG9ydCB7XG5cdEhJU1RPUllfSU5ERVgsXG5cdE5BVklHQVRJT05fSU5ERVgsXG5cdFBSRUxPQURfUFJJT1JJVElFUyxcblx0U0NST0xMX0tFWSxcblx0U1RBVEVTX0tFWSxcblx0U05BUFNIT1RfS0VZLFxuXHRQQUdFX1VSTF9LRVlcbn0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgdmFsaWRhdGVfcGFnZV9leHBvcnRzIH0gZnJvbSAnLi4vLi4vdXRpbHMvZXhwb3J0cy5qcyc7XG5pbXBvcnQgeyBjb21wYWN0IH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgSHR0cEVycm9yLCBSZWRpcmVjdCwgU3ZlbHRlS2l0RXJyb3IgfSBmcm9tICcuLi9jb250cm9sLmpzJztcbmltcG9ydCB7IElOVkFMSURBVEVEX1BBUkFNLCBUUkFJTElOR19TTEFTSF9QQVJBTSwgdmFsaWRhdGVfZGVwZW5kcyB9IGZyb20gJy4uL3NoYXJlZC5qcyc7XG5pbXBvcnQgeyBnZXRfbWVzc2FnZSwgZ2V0X3N0YXR1cyB9IGZyb20gJy4uLy4uL3V0aWxzL2Vycm9yLmpzJztcbmltcG9ydCB7IHdyaXRhYmxlIH0gZnJvbSAnc3ZlbHRlL3N0b3JlJztcblxubGV0IGVycm9yZWQgPSBmYWxzZTtcblxuLy8gV2UgdHJhY2sgdGhlIHNjcm9sbCBwb3NpdGlvbiBhc3NvY2lhdGVkIHdpdGggZWFjaCBoaXN0b3J5IGVudHJ5IGluIHNlc3Npb25TdG9yYWdlLFxuLy8gcmF0aGVyIHRoYW4gb24gaGlzdG9yeS5zdGF0ZSBpdHNlbGYsIGJlY2F1c2Ugd2hlbiBuYXZpZ2F0aW9uIGlzIGRyaXZlbiBieVxuLy8gcG9wc3RhdGUgaXQncyB0b28gbGF0ZSB0byB1cGRhdGUgdGhlIHNjcm9sbCBwb3NpdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhlXG4vLyBzdGF0ZSB3ZSdyZSBuYXZpZ2F0aW5nIGZyb21cbi8qKlxuICogaGlzdG9yeSBpbmRleCAtPiB7IHgsIHkgfVxuICogQHR5cGUge1JlY29yZDxudW1iZXIsIHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfT59XG4gKi9cbmNvbnN0IHNjcm9sbF9wb3NpdGlvbnMgPSBzdG9yYWdlLmdldChTQ1JPTExfS0VZKSA/PyB7fTtcblxuLyoqXG4gKiBuYXZpZ2F0aW9uIGluZGV4IC0+IGFueVxuICogQHR5cGUge1JlY29yZDxzdHJpbmcsIGFueVtdPn1cbiAqL1xuY29uc3Qgc25hcHNob3RzID0gc3RvcmFnZS5nZXQoU05BUFNIT1RfS0VZKSA/PyB7fTtcblxuaWYgKERFViAmJiBCUk9XU0VSKSB7XG5cdGxldCB3YXJuZWQgPSBmYWxzZTtcblxuXHRjb25zdCBjdXJyZW50X21vZHVsZV91cmwgPSBpbXBvcnQubWV0YS51cmwuc3BsaXQoJz8nKVswXTsgLy8gcmVtb3ZlIHF1ZXJ5IHBhcmFtcyB0aGF0IHZpdGUgYWRkcyB0byB0aGUgVVJMIHdoZW4gaXQgaXMgbG9hZGVkIGZyb20gbm9kZV9tb2R1bGVzXG5cblx0Y29uc3Qgd2FybiA9ICgpID0+IHtcblx0XHRpZiAod2FybmVkKSByZXR1cm47XG5cblx0XHQvLyBSYXRoZXIgdGhhbiBzYXZpbmcgYSBwb2ludGVyIHRvIHRoZSBvcmlnaW5hbCBoaXN0b3J5IG1ldGhvZHMsIHdoaWNoIHdvdWxkIHByZXZlbnQgbW9ua2V5cGF0Y2hpbmcgYnkgb3RoZXIgbGlicyxcblx0XHQvLyBpbnNwZWN0IHRoZSBzdGFjayB0cmFjZSB0byBzZWUgaWYgd2UncmUgYmVpbmcgY2FsbGVkIGZyb20gd2l0aGluIFN2ZWx0ZUtpdC5cblx0XHRsZXQgc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaz8uc3BsaXQoJ1xcbicpO1xuXHRcdGlmICghc3RhY2spIHJldHVybjtcblx0XHRpZiAoIXN0YWNrWzBdLmluY2x1ZGVzKCdodHRwczonKSAmJiAhc3RhY2tbMF0uaW5jbHVkZXMoJ2h0dHA6JykpIHN0YWNrID0gc3RhY2suc2xpY2UoMSk7IC8vIENocm9tZSBpbmNsdWRlcyB0aGUgZXJyb3IgbWVzc2FnZSBpbiB0aGUgc3RhY2tcblx0XHRzdGFjayA9IHN0YWNrLnNsaWNlKDIpOyAvLyByZW1vdmUgYHdhcm5gIGFuZCB0aGUgcGxhY2Ugd2hlcmUgYHdhcm5gIHdhcyBjYWxsZWRcblx0XHQvLyBDYW4gYmUgZmFsc3kgaWYgd2FzIGNhbGxlZCBkaXJlY3RseSBmcm9tIGFuIGFub255bW91cyBmdW5jdGlvblxuXHRcdGlmIChzdGFja1swXT8uaW5jbHVkZXMoY3VycmVudF9tb2R1bGVfdXJsKSkgcmV0dXJuO1xuXG5cdFx0d2FybmVkID0gdHJ1ZTtcblxuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFwiQXZvaWQgdXNpbmcgYGhpc3RvcnkucHVzaFN0YXRlKC4uLilgIGFuZCBgaGlzdG9yeS5yZXBsYWNlU3RhdGUoLi4uKWAgYXMgdGhlc2Ugd2lsbCBjb25mbGljdCB3aXRoIFN2ZWx0ZUtpdCdzIHJvdXRlci4gVXNlIHRoZSBgcHVzaFN0YXRlYCBhbmQgYHJlcGxhY2VTdGF0ZWAgaW1wb3J0cyBmcm9tIGAkYXBwL25hdmlnYXRpb25gIGluc3RlYWQuXCJcblx0XHQpO1xuXHR9O1xuXG5cdGNvbnN0IHB1c2hfc3RhdGUgPSBoaXN0b3J5LnB1c2hTdGF0ZTtcblx0aGlzdG9yeS5wdXNoU3RhdGUgPSAoLi4uYXJncykgPT4ge1xuXHRcdHdhcm4oKTtcblx0XHRyZXR1cm4gcHVzaF9zdGF0ZS5hcHBseShoaXN0b3J5LCBhcmdzKTtcblx0fTtcblxuXHRjb25zdCByZXBsYWNlX3N0YXRlID0gaGlzdG9yeS5yZXBsYWNlU3RhdGU7XG5cdGhpc3RvcnkucmVwbGFjZVN0YXRlID0gKC4uLmFyZ3MpID0+IHtcblx0XHR3YXJuKCk7XG5cdFx0cmV0dXJuIHJlcGxhY2Vfc3RhdGUuYXBwbHkoaGlzdG9yeSwgYXJncyk7XG5cdH07XG59XG5cbmV4cG9ydCBjb25zdCBzdG9yZXMgPSB7XG5cdHVybDogLyogQF9fUFVSRV9fICovIG5vdGlmaWFibGVfc3RvcmUoe30pLFxuXHRwYWdlOiAvKiBAX19QVVJFX18gKi8gbm90aWZpYWJsZV9zdG9yZSh7fSksXG5cdG5hdmlnYXRpbmc6IC8qIEBfX1BVUkVfXyAqLyB3cml0YWJsZShcblx0XHQvKiogQHR5cGUge2ltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLk5hdmlnYXRpb24gfCBudWxsfSAqLyAobnVsbClcblx0KSxcblx0dXBkYXRlZDogLyogQF9fUFVSRV9fICovIGNyZWF0ZV91cGRhdGVkX3N0b3JlKClcbn07XG5cbi8qKiBAcGFyYW0ge251bWJlcn0gaW5kZXggKi9cbmZ1bmN0aW9uIHVwZGF0ZV9zY3JvbGxfcG9zaXRpb25zKGluZGV4KSB7XG5cdHNjcm9sbF9wb3NpdGlvbnNbaW5kZXhdID0gc2Nyb2xsX3N0YXRlKCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRfaGlzdG9yeV9pbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRfbmF2aWdhdGlvbl9pbmRleFxuICovXG5mdW5jdGlvbiBjbGVhcl9vbndhcmRfaGlzdG9yeShjdXJyZW50X2hpc3RvcnlfaW5kZXgsIGN1cnJlbnRfbmF2aWdhdGlvbl9pbmRleCkge1xuXHQvLyBpZiB3ZSBuYXZpZ2F0ZWQgYmFjaywgdGhlbiBwdXNoZWQgYSBuZXcgc3RhdGUsIHdlIGNhblxuXHQvLyByZWxlYXNlIG1lbW9yeSBieSBwcnVuaW5nIHRoZSBzY3JvbGwvc25hcHNob3QgbG9va3VwXG5cdGxldCBpID0gY3VycmVudF9oaXN0b3J5X2luZGV4ICsgMTtcblx0d2hpbGUgKHNjcm9sbF9wb3NpdGlvbnNbaV0pIHtcblx0XHRkZWxldGUgc2Nyb2xsX3Bvc2l0aW9uc1tpXTtcblx0XHRpICs9IDE7XG5cdH1cblxuXHRpID0gY3VycmVudF9uYXZpZ2F0aW9uX2luZGV4ICsgMTtcblx0d2hpbGUgKHNuYXBzaG90c1tpXSkge1xuXHRcdGRlbGV0ZSBzbmFwc2hvdHNbaV07XG5cdFx0aSArPSAxO1xuXHR9XG59XG5cbi8qKlxuICogTG9hZHMgYGhyZWZgIHRoZSBvbGQtZmFzaGlvbmVkIHdheSwgd2l0aCBhIGZ1bGwgcGFnZSByZWxvYWQuXG4gKiBSZXR1cm5zIGEgYFByb21pc2VgIHRoYXQgbmV2ZXIgcmVzb2x2ZXMgKHRvIHByZXZlbnQgYW55XG4gKiBzdWJzZXF1ZW50IHdvcmssIGUuZy4gaGlzdG9yeSBtYW5pcHVsYXRpb24sIGZyb20gaGFwcGVuaW5nKVxuICogQHBhcmFtIHtVUkx9IHVybFxuICovXG5mdW5jdGlvbiBuYXRpdmVfbmF2aWdhdGlvbih1cmwpIHtcblx0bG9jYXRpb24uaHJlZiA9IHVybC5ocmVmO1xuXHRyZXR1cm4gbmV3IFByb21pc2UoKCkgPT4ge30pO1xufVxuXG5mdW5jdGlvbiBub29wKCkge31cblxuLyoqIEB0eXBlIHtpbXBvcnQoJ3R5cGVzJykuQ1NSUm91dGVbXX0gKi9cbmxldCByb3V0ZXM7XG4vKiogQHR5cGUge2ltcG9ydCgndHlwZXMnKS5DU1JQYWdlTm9kZUxvYWRlcn0gKi9cbmxldCBkZWZhdWx0X2xheW91dF9sb2FkZXI7XG4vKiogQHR5cGUge2ltcG9ydCgndHlwZXMnKS5DU1JQYWdlTm9kZUxvYWRlcn0gKi9cbmxldCBkZWZhdWx0X2Vycm9yX2xvYWRlcjtcbi8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovXG5sZXQgY29udGFpbmVyO1xuLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi9cbmxldCB0YXJnZXQ7XG4vKiogQHR5cGUge2ltcG9ydCgnLi90eXBlcy5qcycpLlN2ZWx0ZUtpdEFwcH0gKi9cbmxldCBhcHA7XG5cbi8qKiBAdHlwZSB7QXJyYXk8KCh1cmw6IFVSTCkgPT4gYm9vbGVhbik+fSAqL1xuY29uc3QgaW52YWxpZGF0ZWQgPSBbXTtcblxuLyoqXG4gKiBBbiBhcnJheSBvZiB0aGUgYCtsYXlvdXQuc3ZlbHRlYCBhbmQgYCtwYWdlLnN2ZWx0ZWAgY29tcG9uZW50IGluc3RhbmNlc1xuICogdGhhdCBjdXJyZW50bHkgbGl2ZSBvbiB0aGUgcGFnZSDigJQgdXNlZCBmb3IgY2FwdHVyaW5nIGFuZCByZXN0b3Jpbmcgc25hcHNob3RzLlxuICogSXQncyB1cGRhdGVkL21hbmlwdWxhdGVkIHRocm91Z2ggYGJpbmQ6dGhpc2AgaW4gYFJvb3Quc3ZlbHRlYC5cbiAqIEB0eXBlIHtpbXBvcnQoJ3N2ZWx0ZScpLlN2ZWx0ZUNvbXBvbmVudFtdfVxuICovXG5jb25zdCBjb21wb25lbnRzID0gW107XG5cbi8qKiBAdHlwZSB7e2lkOiBzdHJpbmcsIHRva2VuOiB7fSwgcHJvbWlzZTogUHJvbWlzZTxpbXBvcnQoJy4vdHlwZXMuanMnKS5OYXZpZ2F0aW9uUmVzdWx0Pn0gfCBudWxsfSAqL1xubGV0IGxvYWRfY2FjaGUgPSBudWxsO1xuXG4vKiogQHR5cGUge0FycmF5PChuYXZpZ2F0aW9uOiBpbXBvcnQoJ0BzdmVsdGVqcy9raXQnKS5CZWZvcmVOYXZpZ2F0ZSkgPT4gdm9pZD59ICovXG5jb25zdCBiZWZvcmVfbmF2aWdhdGVfY2FsbGJhY2tzID0gW107XG5cbi8qKiBAdHlwZSB7QXJyYXk8KG5hdmlnYXRpb246IGltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLk9uTmF2aWdhdGUpID0+IGltcG9ydCgndHlwZXMnKS5NYXliZVByb21pc2U8KCgpID0+IHZvaWQpIHwgdm9pZD4+fSAqL1xuY29uc3Qgb25fbmF2aWdhdGVfY2FsbGJhY2tzID0gW107XG5cbi8qKiBAdHlwZSB7QXJyYXk8KG5hdmlnYXRpb246IGltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLkFmdGVyTmF2aWdhdGUpID0+IHZvaWQ+fSAqL1xubGV0IGFmdGVyX25hdmlnYXRlX2NhbGxiYWNrcyA9IFtdO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi90eXBlcy5qcycpLk5hdmlnYXRpb25TdGF0ZX0gKi9cbmxldCBjdXJyZW50ID0ge1xuXHRicmFuY2g6IFtdLFxuXHRlcnJvcjogbnVsbCxcblx0Ly8gQHRzLWlnbm9yZSAtIHdlIG5lZWQgdGhlIGluaXRpYWwgdmFsdWUgdG8gYmUgbnVsbFxuXHR1cmw6IG51bGxcbn07XG5cbi8qKiB0aGlzIGJlaW5nIHRydWUgbWVhbnMgd2UgU1NSJ2QgKi9cbmxldCBoeWRyYXRlZCA9IGZhbHNlO1xubGV0IHN0YXJ0ZWQgPSBmYWxzZTtcbmxldCBhdXRvc2Nyb2xsID0gdHJ1ZTtcbmxldCB1cGRhdGluZyA9IGZhbHNlO1xubGV0IG5hdmlnYXRpbmcgPSBmYWxzZTtcbmxldCBoYXNoX25hdmlnYXRpbmcgPSBmYWxzZTtcbi8qKiBUcnVlIGFzIHNvb24gYXMgdGhlcmUgaGFwcGVuZWQgb25lIGNsaWVudC1zaWRlIG5hdmlnYXRpb24gKGV4Y2x1ZGluZyB0aGUgU3ZlbHRlS2l0LWluaXRpYWxpemVkIGluaXRpYWwgb25lIHdoZW4gaW4gU1BBIG1vZGUpICovXG5sZXQgaGFzX25hdmlnYXRlZCA9IGZhbHNlO1xuXG5sZXQgZm9yY2VfaW52YWxpZGF0aW9uID0gZmFsc2U7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCdzdmVsdGUnKS5TdmVsdGVDb21wb25lbnR9ICovXG5sZXQgcm9vdDtcblxuLyoqIEB0eXBlIHtudW1iZXJ9IGtlZXBpbmcgdHJhY2sgb2YgdGhlIGhpc3RvcnkgaW5kZXggaW4gb3JkZXIgdG8gcHJldmVudCBwb3BzdGF0ZSBuYXZpZ2F0aW9uIGV2ZW50cyBpZiBuZWVkZWQgKi9cbmxldCBjdXJyZW50X2hpc3RvcnlfaW5kZXg7XG5cbi8qKiBAdHlwZSB7bnVtYmVyfSAqL1xubGV0IGN1cnJlbnRfbmF2aWdhdGlvbl9pbmRleDtcblxuLyoqIEB0eXBlIHtpbXBvcnQoJ0BzdmVsdGVqcy9raXQnKS5QYWdlfSAqL1xubGV0IHBhZ2U7XG5cbi8qKiBAdHlwZSB7e319ICovXG5sZXQgdG9rZW47XG5cbi8qKlxuICogQSBzZXQgb2YgdG9rZW5zIHdoaWNoIGFyZSBhc3NvY2lhdGVkIHRvIGN1cnJlbnQgcHJlbG9hZHMuXG4gKiBJZiBhIHByZWxvYWQgYmVjb21lcyBhIHJlYWwgbmF2aWdhdGlvbiwgaXQncyByZW1vdmVkIGZyb20gdGhlIHNldC5cbiAqIElmIGEgcHJlbG9hZCB0b2tlbiBpcyBpbiB0aGUgc2V0IGFuZCB0aGUgcHJlbG9hZCBlcnJvcnMsIHRoZSBlcnJvclxuICogaGFuZGxpbmcgbG9naWMgKGZvciBleGFtcGxlIHJlbG9hZGluZykgaXMgc2tpcHBlZC5cbiAqL1xuY29uc3QgcHJlbG9hZF90b2tlbnMgPSBuZXcgU2V0KCk7XG5cbi8qKiBAdHlwZSB7UHJvbWlzZTx2b2lkPiB8IG51bGx9ICovXG5sZXQgcGVuZGluZ19pbnZhbGlkYXRlO1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3R5cGVzLmpzJykuU3ZlbHRlS2l0QXBwfSBfYXBwXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBfdGFyZ2V0XG4gKiBAcGFyYW0ge1BhcmFtZXRlcnM8dHlwZW9mIF9oeWRyYXRlPlsxXX0gW2h5ZHJhdGVdXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdGFydChfYXBwLCBfdGFyZ2V0LCBoeWRyYXRlKSB7XG5cdGlmIChERVYgJiYgX3RhcmdldCA9PT0gZG9jdW1lbnQuYm9keSkge1xuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdCdQbGFjaW5nICVzdmVsdGVraXQuYm9keSUgZGlyZWN0bHkgaW5zaWRlIDxib2R5PiBpcyBub3QgcmVjb21tZW5kZWQsIGFzIHlvdXIgYXBwIG1heSBicmVhayBmb3IgdXNlcnMgd2hvIGhhdmUgY2VydGFpbiBicm93c2VyIGV4dGVuc2lvbnMgaW5zdGFsbGVkLlxcblxcbkNvbnNpZGVyIHdyYXBwaW5nIGl0IGluIGFuIGVsZW1lbnQ6XFxuXFxuPGRpdiBzdHlsZT1cImRpc3BsYXk6IGNvbnRlbnRzXCI+XFxuICAlc3ZlbHRla2l0LmJvZHklXFxuPC9kaXY+J1xuXHRcdCk7XG5cdH1cblxuXHQvLyBkZXRlY3QgYmFzaWMgYXV0aCBjcmVkZW50aWFscyBpbiB0aGUgY3VycmVudCBVUkxcblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL2tpdC9wdWxsLzExMTc5XG5cdC8vIGlmIHNvLCByZWZyZXNoIHRoZSBwYWdlIHdpdGhvdXQgY3JlZGVudGlhbHNcblx0aWYgKGRvY3VtZW50LlVSTCAhPT0gbG9jYXRpb24uaHJlZikge1xuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWFzc2lnblxuXHRcdGxvY2F0aW9uLmhyZWYgPSBsb2NhdGlvbi5ocmVmO1xuXHR9XG5cblx0YXBwID0gX2FwcDtcblx0cm91dGVzID0gcGFyc2UoX2FwcCk7XG5cdGNvbnRhaW5lciA9IF9fU1ZFTFRFS0lUX0VNQkVEREVEX18gPyBfdGFyZ2V0IDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXHR0YXJnZXQgPSBfdGFyZ2V0O1xuXG5cdC8vIHdlIGltcG9ydCB0aGUgcm9vdCBsYXlvdXQvZXJyb3Igbm9kZXMgZWFnZXJseSwgc28gdGhhdFxuXHQvLyBjb25uZWN0aXZpdHkgZXJyb3JzIGFmdGVyIGluaXRpYWxpc2F0aW9uIGRvbid0IG51a2UgdGhlIGFwcFxuXHRkZWZhdWx0X2xheW91dF9sb2FkZXIgPSBfYXBwLm5vZGVzWzBdO1xuXHRkZWZhdWx0X2Vycm9yX2xvYWRlciA9IF9hcHAubm9kZXNbMV07XG5cdGRlZmF1bHRfbGF5b3V0X2xvYWRlcigpO1xuXHRkZWZhdWx0X2Vycm9yX2xvYWRlcigpO1xuXG5cdGN1cnJlbnRfaGlzdG9yeV9pbmRleCA9IGhpc3Rvcnkuc3RhdGU/LltISVNUT1JZX0lOREVYXTtcblx0Y3VycmVudF9uYXZpZ2F0aW9uX2luZGV4ID0gaGlzdG9yeS5zdGF0ZT8uW05BVklHQVRJT05fSU5ERVhdO1xuXG5cdGlmICghY3VycmVudF9oaXN0b3J5X2luZGV4KSB7XG5cdFx0Ly8gd2UgdXNlIERhdGUubm93KCkgYXMgYW4gb2Zmc2V0IHNvIHRoYXQgY3Jvc3MtZG9jdW1lbnQgbmF2aWdhdGlvbnNcblx0XHQvLyB3aXRoaW4gdGhlIGFwcCBkb24ndCByZXN1bHQgaW4gZGF0YSBsb3NzXG5cdFx0Y3VycmVudF9oaXN0b3J5X2luZGV4ID0gY3VycmVudF9uYXZpZ2F0aW9uX2luZGV4ID0gRGF0ZS5ub3coKTtcblxuXHRcdC8vIGNyZWF0ZSBpbml0aWFsIGhpc3RvcnkgZW50cnksIHNvIHdlIGNhbiByZXR1cm4gaGVyZVxuXHRcdGhpc3RvcnkucmVwbGFjZVN0YXRlKFxuXHRcdFx0e1xuXHRcdFx0XHQuLi5oaXN0b3J5LnN0YXRlLFxuXHRcdFx0XHRbSElTVE9SWV9JTkRFWF06IGN1cnJlbnRfaGlzdG9yeV9pbmRleCxcblx0XHRcdFx0W05BVklHQVRJT05fSU5ERVhdOiBjdXJyZW50X25hdmlnYXRpb25faW5kZXhcblx0XHRcdH0sXG5cdFx0XHQnJ1xuXHRcdCk7XG5cdH1cblxuXHQvLyBpZiB3ZSByZWxvYWQgdGhlIHBhZ2UsIG9yIENtZC1TaGlmdC1UIGJhY2sgdG8gaXQsXG5cdC8vIHJlY292ZXIgc2Nyb2xsIHBvc2l0aW9uXG5cdGNvbnN0IHNjcm9sbCA9IHNjcm9sbF9wb3NpdGlvbnNbY3VycmVudF9oaXN0b3J5X2luZGV4XTtcblx0aWYgKHNjcm9sbCkge1xuXHRcdGhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSAnbWFudWFsJztcblx0XHRzY3JvbGxUbyhzY3JvbGwueCwgc2Nyb2xsLnkpO1xuXHR9XG5cblx0aWYgKGh5ZHJhdGUpIHtcblx0XHRhd2FpdCBfaHlkcmF0ZSh0YXJnZXQsIGh5ZHJhdGUpO1xuXHR9IGVsc2Uge1xuXHRcdGdvdG8obG9jYXRpb24uaHJlZiwgeyByZXBsYWNlU3RhdGU6IHRydWUgfSk7XG5cdH1cblxuXHRfc3RhcnRfcm91dGVyKCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9pbnZhbGlkYXRlKCkge1xuXHQvLyBBY2NlcHQgYWxsIGludmFsaWRhdGlvbnMgYXMgdGhleSBjb21lLCBkb24ndCBzd2FsbG93IGFueSB3aGlsZSBhbm90aGVyIGludmFsaWRhdGlvblxuXHQvLyBpcyBydW5uaW5nIGJlY2F1c2Ugc3Vic2VxdWVudCBpbnZhbGlkYXRpb25zIG1heSBtYWtlIGVhcmxpZXIgb25lcyBvdXRkYXRlZCxcblx0Ly8gYnV0IGJhdGNoIG11bHRpcGxlIHN5bmNocm9ub3VzIGludmFsaWRhdGlvbnMuXG5cdGF3YWl0IChwZW5kaW5nX2ludmFsaWRhdGUgfHw9IFByb21pc2UucmVzb2x2ZSgpKTtcblx0aWYgKCFwZW5kaW5nX2ludmFsaWRhdGUpIHJldHVybjtcblx0cGVuZGluZ19pbnZhbGlkYXRlID0gbnVsbDtcblxuXHRjb25zdCBpbnRlbnQgPSBnZXRfbmF2aWdhdGlvbl9pbnRlbnQoY3VycmVudC51cmwsIHRydWUpO1xuXG5cdC8vIENsZWFyIHByZWxvYWQsIGl0IG1pZ2h0IGJlIGFmZmVjdGVkIGJ5IHRoZSBpbnZhbGlkYXRpb24uXG5cdC8vIEFsc28gc29sdmVzIGFuIGVkZ2UgY2FzZSB3aGVyZSBhIHByZWxvYWQgaXMgdHJpZ2dlcmVkLCB0aGUgbmF2aWdhdGlvbiBmb3IgaXRcblx0Ly8gd2FzIHRoZW4gdHJpZ2dlcmVkIGFuZCBpcyBzdGlsbCBydW5uaW5nIHdoaWxlIHRoZSBpbnZhbGlkYXRpb24ga2lja3MgaW4sXG5cdC8vIGF0IHdoaWNoIHBvaW50IHRoZSBpbnZhbGlkYXRpb24gc2hvdWxkIHRha2Ugb3ZlciBhbmQgXCJ3aW5cIi5cblx0bG9hZF9jYWNoZSA9IG51bGw7XG5cblx0Y29uc3QgbmF2X3Rva2VuID0gKHRva2VuID0ge30pO1xuXHRjb25zdCBuYXZpZ2F0aW9uX3Jlc3VsdCA9IGludGVudCAmJiAoYXdhaXQgbG9hZF9yb3V0ZShpbnRlbnQpKTtcblx0aWYgKCFuYXZpZ2F0aW9uX3Jlc3VsdCB8fCBuYXZfdG9rZW4gIT09IHRva2VuKSByZXR1cm47XG5cblx0aWYgKG5hdmlnYXRpb25fcmVzdWx0LnR5cGUgPT09ICdyZWRpcmVjdCcpIHtcblx0XHRyZXR1cm4gX2dvdG8obmV3IFVSTChuYXZpZ2F0aW9uX3Jlc3VsdC5sb2NhdGlvbiwgY3VycmVudC51cmwpLmhyZWYsIHt9LCAxLCBuYXZfdG9rZW4pO1xuXHR9XG5cblx0aWYgKG5hdmlnYXRpb25fcmVzdWx0LnByb3BzLnBhZ2UpIHtcblx0XHRwYWdlID0gbmF2aWdhdGlvbl9yZXN1bHQucHJvcHMucGFnZTtcblx0fVxuXHRjdXJyZW50ID0gbmF2aWdhdGlvbl9yZXN1bHQuc3RhdGU7XG5cdHJlc2V0X2ludmFsaWRhdGlvbigpO1xuXHRyb290LiRzZXQobmF2aWdhdGlvbl9yZXN1bHQucHJvcHMpO1xufVxuXG5mdW5jdGlvbiByZXNldF9pbnZhbGlkYXRpb24oKSB7XG5cdGludmFsaWRhdGVkLmxlbmd0aCA9IDA7XG5cdGZvcmNlX2ludmFsaWRhdGlvbiA9IGZhbHNlO1xufVxuXG4vKiogQHBhcmFtIHtudW1iZXJ9IGluZGV4ICovXG5mdW5jdGlvbiBjYXB0dXJlX3NuYXBzaG90KGluZGV4KSB7XG5cdGlmIChjb21wb25lbnRzLnNvbWUoKGMpID0+IGM/LnNuYXBzaG90KSkge1xuXHRcdHNuYXBzaG90c1tpbmRleF0gPSBjb21wb25lbnRzLm1hcCgoYykgPT4gYz8uc25hcHNob3Q/LmNhcHR1cmUoKSk7XG5cdH1cbn1cblxuLyoqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAqL1xuZnVuY3Rpb24gcmVzdG9yZV9zbmFwc2hvdChpbmRleCkge1xuXHRzbmFwc2hvdHNbaW5kZXhdPy5mb3JFYWNoKCh2YWx1ZSwgaSkgPT4ge1xuXHRcdGNvbXBvbmVudHNbaV0/LnNuYXBzaG90Py5yZXN0b3JlKHZhbHVlKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIHBlcnNpc3Rfc3RhdGUoKSB7XG5cdHVwZGF0ZV9zY3JvbGxfcG9zaXRpb25zKGN1cnJlbnRfaGlzdG9yeV9pbmRleCk7XG5cdHN0b3JhZ2Uuc2V0KFNDUk9MTF9LRVksIHNjcm9sbF9wb3NpdGlvbnMpO1xuXG5cdGNhcHR1cmVfc25hcHNob3QoY3VycmVudF9uYXZpZ2F0aW9uX2luZGV4KTtcblx0c3RvcmFnZS5zZXQoU05BUFNIT1RfS0VZLCBzbmFwc2hvdHMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nIHwgVVJMfSB1cmxcbiAqIEBwYXJhbSB7eyByZXBsYWNlU3RhdGU/OiBib29sZWFuOyBub1Njcm9sbD86IGJvb2xlYW47IGtlZXBGb2N1cz86IGJvb2xlYW47IGludmFsaWRhdGVBbGw/OiBib29sZWFuOyBzdGF0ZT86IFJlY29yZDxzdHJpbmcsIGFueT4gfX0gb3B0aW9uc1xuICogQHBhcmFtIHtudW1iZXJ9IHJlZGlyZWN0X2NvdW50XG4gKiBAcGFyYW0ge3t9fSBbbmF2X3Rva2VuXVxuICovXG5hc3luYyBmdW5jdGlvbiBfZ290byh1cmwsIG9wdGlvbnMsIHJlZGlyZWN0X2NvdW50LCBuYXZfdG9rZW4pIHtcblx0cmV0dXJuIG5hdmlnYXRlKHtcblx0XHR0eXBlOiAnZ290bycsXG5cdFx0dXJsOiByZXNvbHZlX3VybCh1cmwpLFxuXHRcdGtlZXBmb2N1czogb3B0aW9ucy5rZWVwRm9jdXMsXG5cdFx0bm9zY3JvbGw6IG9wdGlvbnMubm9TY3JvbGwsXG5cdFx0cmVwbGFjZV9zdGF0ZTogb3B0aW9ucy5yZXBsYWNlU3RhdGUsXG5cdFx0c3RhdGU6IG9wdGlvbnMuc3RhdGUsXG5cdFx0cmVkaXJlY3RfY291bnQsXG5cdFx0bmF2X3Rva2VuLFxuXHRcdGFjY2VwdDogKCkgPT4ge1xuXHRcdFx0aWYgKG9wdGlvbnMuaW52YWxpZGF0ZUFsbCkge1xuXHRcdFx0XHRmb3JjZV9pbnZhbGlkYXRpb24gPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbi8qKiBAcGFyYW0ge2ltcG9ydCgnLi90eXBlcy5qcycpLk5hdmlnYXRpb25JbnRlbnR9IGludGVudCAqL1xuYXN5bmMgZnVuY3Rpb24gX3ByZWxvYWRfZGF0YShpbnRlbnQpIHtcblx0Ly8gUmV1c2UgdGhlIGV4aXN0aW5nIHBlbmRpbmcgcHJlbG9hZCBpZiBpdCdzIGZvciB0aGUgc2FtZSBuYXZpZ2F0aW9uLlxuXHQvLyBQcmV2ZW50cyBhbiBlZGdlIGNhc2Ugd2hlcmUgc2FtZSBwcmVsb2FkIGlzIHRyaWdnZXJlZCBtdWx0aXBsZSB0aW1lcyxcblx0Ly8gdGhlbiBhIGxhdGVyIG9uZSBpcyBiZWNvbWluZyB0aGUgcmVhbCBuYXZpZ2F0aW9uIGFuZCB0aGUgcHJlbG9hZCB0b2tlbnNcblx0Ly8gZ2V0IG91dCBvZiBzeW5jLlxuXHRpZiAoaW50ZW50LmlkICE9PSBsb2FkX2NhY2hlPy5pZCkge1xuXHRcdGNvbnN0IHByZWxvYWQgPSB7fTtcblx0XHRwcmVsb2FkX3Rva2Vucy5hZGQocHJlbG9hZCk7XG5cdFx0bG9hZF9jYWNoZSA9IHtcblx0XHRcdGlkOiBpbnRlbnQuaWQsXG5cdFx0XHR0b2tlbjogcHJlbG9hZCxcblx0XHRcdHByb21pc2U6IGxvYWRfcm91dGUoeyAuLi5pbnRlbnQsIHByZWxvYWQgfSkudGhlbigocmVzdWx0KSA9PiB7XG5cdFx0XHRcdHByZWxvYWRfdG9rZW5zLmRlbGV0ZShwcmVsb2FkKTtcblx0XHRcdFx0aWYgKHJlc3VsdC50eXBlID09PSAnbG9hZGVkJyAmJiByZXN1bHQuc3RhdGUuZXJyb3IpIHtcblx0XHRcdFx0XHQvLyBEb24ndCBjYWNoZSBlcnJvcnMsIGJlY2F1c2UgdGhleSBtaWdodCBiZSB0cmFuc2llbnRcblx0XHRcdFx0XHRsb2FkX2NhY2hlID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0fSlcblx0XHR9O1xuXHR9XG5cblx0cmV0dXJuIGxvYWRfY2FjaGUucHJvbWlzZTtcbn1cblxuLyoqIEBwYXJhbSB7c3RyaW5nfSBwYXRobmFtZSAqL1xuYXN5bmMgZnVuY3Rpb24gX3ByZWxvYWRfY29kZShwYXRobmFtZSkge1xuXHRjb25zdCByb3V0ZSA9IHJvdXRlcy5maW5kKChyb3V0ZSkgPT4gcm91dGUuZXhlYyhnZXRfdXJsX3BhdGgocGF0aG5hbWUpKSk7XG5cblx0aWYgKHJvdXRlKSB7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwoWy4uLnJvdXRlLmxheW91dHMsIHJvdXRlLmxlYWZdLm1hcCgobG9hZCkgPT4gbG9hZD8uWzFdKCkpKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3R5cGVzLmpzJykuTmF2aWdhdGlvbkZpbmlzaGVkfSByZXN1bHRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldFxuICogQHBhcmFtIHtib29sZWFufSBoeWRyYXRlXG4gKi9cbmZ1bmN0aW9uIGluaXRpYWxpemUocmVzdWx0LCB0YXJnZXQsIGh5ZHJhdGUpIHtcblx0aWYgKERFViAmJiByZXN1bHQuc3RhdGUuZXJyb3IgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigndml0ZS1lcnJvci1vdmVybGF5JykpIHJldHVybjtcblxuXHRjdXJyZW50ID0gcmVzdWx0LnN0YXRlO1xuXG5cdGNvbnN0IHN0eWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3R5bGVbZGF0YS1zdmVsdGVraXRdJyk7XG5cdGlmIChzdHlsZSkgc3R5bGUucmVtb3ZlKCk7XG5cblx0cGFnZSA9IC8qKiBAdHlwZSB7aW1wb3J0KCdAc3ZlbHRlanMva2l0JykuUGFnZX0gKi8gKHJlc3VsdC5wcm9wcy5wYWdlKTtcblxuXHRyb290ID0gbmV3IGFwcC5yb290KHtcblx0XHR0YXJnZXQsXG5cdFx0cHJvcHM6IHsgLi4ucmVzdWx0LnByb3BzLCBzdG9yZXMsIGNvbXBvbmVudHMgfSxcblx0XHRoeWRyYXRlXG5cdH0pO1xuXG5cdHJlc3RvcmVfc25hcHNob3QoY3VycmVudF9uYXZpZ2F0aW9uX2luZGV4KTtcblxuXHQvKiogQHR5cGUge2ltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLkFmdGVyTmF2aWdhdGV9ICovXG5cdGNvbnN0IG5hdmlnYXRpb24gPSB7XG5cdFx0ZnJvbTogbnVsbCxcblx0XHR0bzoge1xuXHRcdFx0cGFyYW1zOiBjdXJyZW50LnBhcmFtcyxcblx0XHRcdHJvdXRlOiB7IGlkOiBjdXJyZW50LnJvdXRlPy5pZCA/PyBudWxsIH0sXG5cdFx0XHR1cmw6IG5ldyBVUkwobG9jYXRpb24uaHJlZilcblx0XHR9LFxuXHRcdHdpbGxVbmxvYWQ6IGZhbHNlLFxuXHRcdHR5cGU6ICdlbnRlcicsXG5cdFx0Y29tcGxldGU6IFByb21pc2UucmVzb2x2ZSgpXG5cdH07XG5cblx0YWZ0ZXJfbmF2aWdhdGVfY2FsbGJhY2tzLmZvckVhY2goKGZuKSA9PiBmbihuYXZpZ2F0aW9uKSk7XG5cblx0c3RhcnRlZCA9IHRydWU7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7e1xuICogICB1cmw6IFVSTDtcbiAqICAgcGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICogICBicmFuY2g6IEFycmF5PGltcG9ydCgnLi90eXBlcy5qcycpLkJyYW5jaE5vZGUgfCB1bmRlZmluZWQ+O1xuICogICBzdGF0dXM6IG51bWJlcjtcbiAqICAgZXJyb3I6IEFwcC5FcnJvciB8IG51bGw7XG4gKiAgIHJvdXRlOiBpbXBvcnQoJ3R5cGVzJykuQ1NSUm91dGUgfCBudWxsO1xuICogICBmb3JtPzogUmVjb3JkPHN0cmluZywgYW55PiB8IG51bGw7XG4gKiB9fSBvcHRzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldF9uYXZpZ2F0aW9uX3Jlc3VsdF9mcm9tX2JyYW5jaCh7XG5cdHVybCxcblx0cGFyYW1zLFxuXHRicmFuY2gsXG5cdHN0YXR1cyxcblx0ZXJyb3IsXG5cdHJvdXRlLFxuXHRmb3JtXG59KSB7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCd0eXBlcycpLlRyYWlsaW5nU2xhc2h9ICovXG5cdGxldCBzbGFzaCA9ICduZXZlcic7XG5cblx0Ly8gaWYgYHBhdGhzLmJhc2UgPT09ICcvYS9iL2NgLCB0aGVuIHRoZSByb290IHJvdXRlIGlzIGFsd2F5cyBgL2EvYi9jL2AsIHJlZ2FyZGxlc3Mgb2Zcblx0Ly8gdGhlIGB0cmFpbGluZ1NsYXNoYCByb3V0ZSBvcHRpb24sIHNvIHRoYXQgcmVsYXRpdmUgcGF0aHMgdG8gSlMgYW5kIENTUyB3b3JrXG5cdGlmIChiYXNlICYmICh1cmwucGF0aG5hbWUgPT09IGJhc2UgfHwgdXJsLnBhdGhuYW1lID09PSBiYXNlICsgJy8nKSkge1xuXHRcdHNsYXNoID0gJ2Fsd2F5cyc7XG5cdH0gZWxzZSB7XG5cdFx0Zm9yIChjb25zdCBub2RlIG9mIGJyYW5jaCkge1xuXHRcdFx0aWYgKG5vZGU/LnNsYXNoICE9PSB1bmRlZmluZWQpIHNsYXNoID0gbm9kZS5zbGFzaDtcblx0XHR9XG5cdH1cblxuXHR1cmwucGF0aG5hbWUgPSBub3JtYWxpemVfcGF0aCh1cmwucGF0aG5hbWUsIHNsYXNoKTtcblxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcblx0dXJsLnNlYXJjaCA9IHVybC5zZWFyY2g7IC8vIHR1cm4gYC8/YCBpbnRvIGAvYFxuXG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL3R5cGVzLmpzJykuTmF2aWdhdGlvbkZpbmlzaGVkfSAqL1xuXHRjb25zdCByZXN1bHQgPSB7XG5cdFx0dHlwZTogJ2xvYWRlZCcsXG5cdFx0c3RhdGU6IHtcblx0XHRcdHVybCxcblx0XHRcdHBhcmFtcyxcblx0XHRcdGJyYW5jaCxcblx0XHRcdGVycm9yLFxuXHRcdFx0cm91dGVcblx0XHR9LFxuXHRcdHByb3BzOiB7XG5cdFx0XHQvLyBAdHMtaWdub3JlIFNvbWVob3cgaXQncyBnZXR0aW5nIFN2ZWx0ZUNvbXBvbmVudCBhbmQgU3ZlbHRlQ29tcG9uZW50RGV2IG1peGVkIHVwXG5cdFx0XHRjb25zdHJ1Y3RvcnM6IGNvbXBhY3QoYnJhbmNoKS5tYXAoKGJyYW5jaF9ub2RlKSA9PiBicmFuY2hfbm9kZS5ub2RlLmNvbXBvbmVudCksXG5cdFx0XHRwYWdlXG5cdFx0fVxuXHR9O1xuXG5cdGlmIChmb3JtICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXN1bHQucHJvcHMuZm9ybSA9IGZvcm07XG5cdH1cblxuXHRsZXQgZGF0YSA9IHt9O1xuXHRsZXQgZGF0YV9jaGFuZ2VkID0gIXBhZ2U7XG5cblx0bGV0IHAgPSAwO1xuXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5tYXgoYnJhbmNoLmxlbmd0aCwgY3VycmVudC5icmFuY2gubGVuZ3RoKTsgaSArPSAxKSB7XG5cdFx0Y29uc3Qgbm9kZSA9IGJyYW5jaFtpXTtcblx0XHRjb25zdCBwcmV2ID0gY3VycmVudC5icmFuY2hbaV07XG5cblx0XHRpZiAobm9kZT8uZGF0YSAhPT0gcHJldj8uZGF0YSkgZGF0YV9jaGFuZ2VkID0gdHJ1ZTtcblx0XHRpZiAoIW5vZGUpIGNvbnRpbnVlO1xuXG5cdFx0ZGF0YSA9IHsgLi4uZGF0YSwgLi4ubm9kZS5kYXRhIH07XG5cblx0XHQvLyBPbmx5IHNldCBwcm9wcyBpZiB0aGUgbm9kZSBhY3R1YWxseSB1cGRhdGVkLiBUaGlzIHByZXZlbnRzIG5lZWRsZXNzIHJlcmVuZGVycy5cblx0XHRpZiAoZGF0YV9jaGFuZ2VkKSB7XG5cdFx0XHRyZXN1bHQucHJvcHNbYGRhdGFfJHtwfWBdID0gZGF0YTtcblx0XHR9XG5cblx0XHRwICs9IDE7XG5cdH1cblxuXHRjb25zdCBwYWdlX2NoYW5nZWQgPVxuXHRcdCFjdXJyZW50LnVybCB8fFxuXHRcdHVybC5ocmVmICE9PSBjdXJyZW50LnVybC5ocmVmIHx8XG5cdFx0Y3VycmVudC5lcnJvciAhPT0gZXJyb3IgfHxcblx0XHQoZm9ybSAhPT0gdW5kZWZpbmVkICYmIGZvcm0gIT09IHBhZ2UuZm9ybSkgfHxcblx0XHRkYXRhX2NoYW5nZWQ7XG5cblx0aWYgKHBhZ2VfY2hhbmdlZCkge1xuXHRcdHJlc3VsdC5wcm9wcy5wYWdlID0ge1xuXHRcdFx0ZXJyb3IsXG5cdFx0XHRwYXJhbXMsXG5cdFx0XHRyb3V0ZToge1xuXHRcdFx0XHRpZDogcm91dGU/LmlkID8/IG51bGxcblx0XHRcdH0sXG5cdFx0XHRzdGF0ZToge30sXG5cdFx0XHRzdGF0dXMsXG5cdFx0XHR1cmw6IG5ldyBVUkwodXJsKSxcblx0XHRcdGZvcm06IGZvcm0gPz8gbnVsbCxcblx0XHRcdC8vIFRoZSB3aG9sZSBwYWdlIHN0b3JlIGlzIHVwZGF0ZWQsIGJ1dCB0aGlzIHdheSB0aGUgb2JqZWN0IHJlZmVyZW5jZSBzdGF5cyB0aGUgc2FtZVxuXHRcdFx0ZGF0YTogZGF0YV9jaGFuZ2VkID8gZGF0YSA6IHBhZ2UuZGF0YVxuXHRcdH07XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENhbGwgdGhlIGxvYWQgZnVuY3Rpb24gb2YgdGhlIGdpdmVuIG5vZGUsIGlmIGl0IGV4aXN0cy5cbiAqIElmIGBzZXJ2ZXJfZGF0YWAgaXMgcGFzc2VkLCB0aGlzIGlzIHRyZWF0ZWQgYXMgdGhlIGluaXRpYWwgcnVuIGFuZCB0aGUgcGFnZSBlbmRwb2ludCBpcyBub3QgcmVxdWVzdGVkLlxuICpcbiAqIEBwYXJhbSB7e1xuICogICBsb2FkZXI6IGltcG9ydCgndHlwZXMnKS5DU1JQYWdlTm9kZUxvYWRlcjtcbiAqIFx0IHBhcmVudDogKCkgPT4gUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBhbnk+PjtcbiAqICAgdXJsOiBVUkw7XG4gKiAgIHBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAqICAgcm91dGU6IHsgaWQ6IHN0cmluZyB8IG51bGwgfTtcbiAqIFx0IHNlcnZlcl9kYXRhX25vZGU6IGltcG9ydCgnLi90eXBlcy5qcycpLkRhdGFOb2RlIHwgbnVsbDtcbiAqIH19IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtQcm9taXNlPGltcG9ydCgnLi90eXBlcy5qcycpLkJyYW5jaE5vZGU+fVxuICovXG5hc3luYyBmdW5jdGlvbiBsb2FkX25vZGUoeyBsb2FkZXIsIHBhcmVudCwgdXJsLCBwYXJhbXMsIHJvdXRlLCBzZXJ2ZXJfZGF0YV9ub2RlIH0pIHtcblx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgbnVsbH0gKi9cblx0bGV0IGRhdGEgPSBudWxsO1xuXG5cdGxldCBpc190cmFja2luZyA9IHRydWU7XG5cblx0LyoqIEB0eXBlIHtpbXBvcnQoJ3R5cGVzJykuVXNlc30gKi9cblx0Y29uc3QgdXNlcyA9IHtcblx0XHRkZXBlbmRlbmNpZXM6IG5ldyBTZXQoKSxcblx0XHRwYXJhbXM6IG5ldyBTZXQoKSxcblx0XHRwYXJlbnQ6IGZhbHNlLFxuXHRcdHJvdXRlOiBmYWxzZSxcblx0XHR1cmw6IGZhbHNlLFxuXHRcdHNlYXJjaF9wYXJhbXM6IG5ldyBTZXQoKVxuXHR9O1xuXG5cdGNvbnN0IG5vZGUgPSBhd2FpdCBsb2FkZXIoKTtcblxuXHRpZiAoREVWKSB7XG5cdFx0dmFsaWRhdGVfcGFnZV9leHBvcnRzKG5vZGUudW5pdmVyc2FsKTtcblx0fVxuXG5cdGlmIChub2RlLnVuaXZlcnNhbD8ubG9hZCkge1xuXHRcdC8qKiBAcGFyYW0ge3N0cmluZ1tdfSBkZXBzICovXG5cdFx0ZnVuY3Rpb24gZGVwZW5kcyguLi5kZXBzKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGRlcCBvZiBkZXBzKSB7XG5cdFx0XHRcdGlmIChERVYpIHZhbGlkYXRlX2RlcGVuZHMoLyoqIEB0eXBlIHtzdHJpbmd9ICovIChyb3V0ZS5pZCksIGRlcCk7XG5cblx0XHRcdFx0Y29uc3QgeyBocmVmIH0gPSBuZXcgVVJMKGRlcCwgdXJsKTtcblx0XHRcdFx0dXNlcy5kZXBlbmRlbmNpZXMuYWRkKGhyZWYpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKiBAdHlwZSB7aW1wb3J0KCdAc3ZlbHRlanMva2l0JykuTG9hZEV2ZW50fSAqL1xuXHRcdGNvbnN0IGxvYWRfaW5wdXQgPSB7XG5cdFx0XHRyb3V0ZTogbmV3IFByb3h5KHJvdXRlLCB7XG5cdFx0XHRcdGdldDogKHRhcmdldCwga2V5KSA9PiB7XG5cdFx0XHRcdFx0aWYgKGlzX3RyYWNraW5nKSB7XG5cdFx0XHRcdFx0XHR1c2VzLnJvdXRlID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRhcmdldFsvKiogQHR5cGUgeydpZCd9ICovIChrZXkpXTtcblx0XHRcdFx0fVxuXHRcdFx0fSksXG5cdFx0XHRwYXJhbXM6IG5ldyBQcm94eShwYXJhbXMsIHtcblx0XHRcdFx0Z2V0OiAodGFyZ2V0LCBrZXkpID0+IHtcblx0XHRcdFx0XHRpZiAoaXNfdHJhY2tpbmcpIHtcblx0XHRcdFx0XHRcdHVzZXMucGFyYW1zLmFkZCgvKiogQHR5cGUge3N0cmluZ30gKi8gKGtleSkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGFyZ2V0Wy8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoa2V5KV07XG5cdFx0XHRcdH1cblx0XHRcdH0pLFxuXHRcdFx0ZGF0YTogc2VydmVyX2RhdGFfbm9kZT8uZGF0YSA/PyBudWxsLFxuXHRcdFx0dXJsOiBtYWtlX3RyYWNrYWJsZShcblx0XHRcdFx0dXJsLFxuXHRcdFx0XHQoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGlzX3RyYWNraW5nKSB7XG5cdFx0XHRcdFx0XHR1c2VzLnVybCA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQocGFyYW0pID0+IHtcblx0XHRcdFx0XHRpZiAoaXNfdHJhY2tpbmcpIHtcblx0XHRcdFx0XHRcdHVzZXMuc2VhcmNoX3BhcmFtcy5hZGQocGFyYW0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0KSxcblx0XHRcdGFzeW5jIGZldGNoKHJlc291cmNlLCBpbml0KSB7XG5cdFx0XHRcdC8qKiBAdHlwZSB7VVJMIHwgc3RyaW5nfSAqL1xuXHRcdFx0XHRsZXQgcmVxdWVzdGVkO1xuXG5cdFx0XHRcdGlmIChyZXNvdXJjZSBpbnN0YW5jZW9mIFJlcXVlc3QpIHtcblx0XHRcdFx0XHRyZXF1ZXN0ZWQgPSByZXNvdXJjZS51cmw7XG5cblx0XHRcdFx0XHQvLyB3ZSdyZSBub3QgYWxsb3dlZCB0byBtb2RpZnkgdGhlIHJlY2VpdmVkIGBSZXF1ZXN0YCBvYmplY3QsIHNvIGluIG9yZGVyXG5cdFx0XHRcdFx0Ly8gdG8gZml4dXAgcmVsYXRpdmUgdXJscyB3ZSBjcmVhdGUgYSBuZXcgZXF1aXZhbGVudCBgaW5pdGAgb2JqZWN0IGluc3RlYWRcblx0XHRcdFx0XHRpbml0ID0ge1xuXHRcdFx0XHRcdFx0Ly8gdGhlIHJlcXVlc3QgYm9keSBtdXN0IGJlIGNvbnN1bWVkIGluIG1lbW9yeSB1bnRpbCBicm93c2Vyc1xuXHRcdFx0XHRcdFx0Ly8gaW1wbGVtZW50IHN0cmVhbWluZyByZXF1ZXN0IGJvZGllcyBhbmQvb3IgdGhlIGJvZHkgZ2V0dGVyXG5cdFx0XHRcdFx0XHRib2R5OlxuXHRcdFx0XHRcdFx0XHRyZXNvdXJjZS5tZXRob2QgPT09ICdHRVQnIHx8IHJlc291cmNlLm1ldGhvZCA9PT0gJ0hFQUQnXG5cdFx0XHRcdFx0XHRcdFx0PyB1bmRlZmluZWRcblx0XHRcdFx0XHRcdFx0XHQ6IGF3YWl0IHJlc291cmNlLmJsb2IoKSxcblx0XHRcdFx0XHRcdGNhY2hlOiByZXNvdXJjZS5jYWNoZSxcblx0XHRcdFx0XHRcdGNyZWRlbnRpYWxzOiByZXNvdXJjZS5jcmVkZW50aWFscyxcblx0XHRcdFx0XHRcdGhlYWRlcnM6IHJlc291cmNlLmhlYWRlcnMsXG5cdFx0XHRcdFx0XHRpbnRlZ3JpdHk6IHJlc291cmNlLmludGVncml0eSxcblx0XHRcdFx0XHRcdGtlZXBhbGl2ZTogcmVzb3VyY2Uua2VlcGFsaXZlLFxuXHRcdFx0XHRcdFx0bWV0aG9kOiByZXNvdXJjZS5tZXRob2QsXG5cdFx0XHRcdFx0XHRtb2RlOiByZXNvdXJjZS5tb2RlLFxuXHRcdFx0XHRcdFx0cmVkaXJlY3Q6IHJlc291cmNlLnJlZGlyZWN0LFxuXHRcdFx0XHRcdFx0cmVmZXJyZXI6IHJlc291cmNlLnJlZmVycmVyLFxuXHRcdFx0XHRcdFx0cmVmZXJyZXJQb2xpY3k6IHJlc291cmNlLnJlZmVycmVyUG9saWN5LFxuXHRcdFx0XHRcdFx0c2lnbmFsOiByZXNvdXJjZS5zaWduYWwsXG5cdFx0XHRcdFx0XHQuLi5pbml0XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXF1ZXN0ZWQgPSByZXNvdXJjZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHdlIG11c3QgZml4dXAgcmVsYXRpdmUgdXJscyBzbyB0aGV5IGFyZSByZXNvbHZlZCBmcm9tIHRoZSB0YXJnZXQgcGFnZVxuXHRcdFx0XHRjb25zdCByZXNvbHZlZCA9IG5ldyBVUkwocmVxdWVzdGVkLCB1cmwpO1xuXHRcdFx0XHRpZiAoaXNfdHJhY2tpbmcpIHtcblx0XHRcdFx0XHRkZXBlbmRzKHJlc29sdmVkLmhyZWYpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gbWF0Y2ggc3NyIHNlcmlhbGl6ZWQgZGF0YSB1cmwsIHdoaWNoIGlzIGltcG9ydGFudCB0byBmaW5kIGNhY2hlZCByZXNwb25zZXNcblx0XHRcdFx0aWYgKHJlc29sdmVkLm9yaWdpbiA9PT0gdXJsLm9yaWdpbikge1xuXHRcdFx0XHRcdHJlcXVlc3RlZCA9IHJlc29sdmVkLmhyZWYuc2xpY2UodXJsLm9yaWdpbi5sZW5ndGgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gcHJlcmVuZGVyZWQgcGFnZXMgbWF5IGJlIHNlcnZlZCBmcm9tIGFueSBvcmlnaW4sIHNvIGBpbml0aWFsX2ZldGNoYCB1cmxzIHNob3VsZG4ndCBiZSByZXNvbHZlZFxuXHRcdFx0XHRyZXR1cm4gc3RhcnRlZFxuXHRcdFx0XHRcdD8gc3Vic2VxdWVudF9mZXRjaChyZXF1ZXN0ZWQsIHJlc29sdmVkLmhyZWYsIGluaXQpXG5cdFx0XHRcdFx0OiBpbml0aWFsX2ZldGNoKHJlcXVlc3RlZCwgaW5pdCk7XG5cdFx0XHR9LFxuXHRcdFx0c2V0SGVhZGVyczogKCkgPT4ge30sIC8vIG5vb3Bcblx0XHRcdGRlcGVuZHMsXG5cdFx0XHRwYXJlbnQoKSB7XG5cdFx0XHRcdGlmIChpc190cmFja2luZykge1xuXHRcdFx0XHRcdHVzZXMucGFyZW50ID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gcGFyZW50KCk7XG5cdFx0XHR9LFxuXHRcdFx0dW50cmFjayhmbikge1xuXHRcdFx0XHRpc190cmFja2luZyA9IGZhbHNlO1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHJldHVybiBmbigpO1xuXHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdGlzX3RyYWNraW5nID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRpZiAoREVWKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRsb2NrX2ZldGNoKCk7XG5cdFx0XHRcdGRhdGEgPSAoYXdhaXQgbm9kZS51bml2ZXJzYWwubG9hZC5jYWxsKG51bGwsIGxvYWRfaW5wdXQpKSA/PyBudWxsO1xuXHRcdFx0XHRpZiAoZGF0YSAhPSBudWxsICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdGBhIGxvYWQgZnVuY3Rpb24gcmVsYXRlZCB0byByb3V0ZSAnJHtyb3V0ZS5pZH0nIHJldHVybmVkICR7XG5cdFx0XHRcdFx0XHRcdHR5cGVvZiBkYXRhICE9PSAnb2JqZWN0J1xuXHRcdFx0XHRcdFx0XHRcdD8gYGEgJHt0eXBlb2YgZGF0YX1gXG5cdFx0XHRcdFx0XHRcdFx0OiBkYXRhIGluc3RhbmNlb2YgUmVzcG9uc2Vcblx0XHRcdFx0XHRcdFx0XHRcdD8gJ2EgUmVzcG9uc2Ugb2JqZWN0J1xuXHRcdFx0XHRcdFx0XHRcdFx0OiBBcnJheS5pc0FycmF5KGRhdGEpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdD8gJ2FuIGFycmF5J1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQ6ICdhIG5vbi1wbGFpbiBvYmplY3QnXG5cdFx0XHRcdFx0XHR9LCBidXQgbXVzdCByZXR1cm4gYSBwbGFpbiBvYmplY3QgYXQgdGhlIHRvcCBsZXZlbCAoaS5lLiBcXGByZXR1cm4gey4uLn1cXGApYFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdHVubG9ja19mZXRjaCgpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXRhID0gKGF3YWl0IG5vZGUudW5pdmVyc2FsLmxvYWQuY2FsbChudWxsLCBsb2FkX2lucHV0KSkgPz8gbnVsbDtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdG5vZGUsXG5cdFx0bG9hZGVyLFxuXHRcdHNlcnZlcjogc2VydmVyX2RhdGFfbm9kZSxcblx0XHR1bml2ZXJzYWw6IG5vZGUudW5pdmVyc2FsPy5sb2FkID8geyB0eXBlOiAnZGF0YScsIGRhdGEsIHVzZXMgfSA6IG51bGwsXG5cdFx0ZGF0YTogZGF0YSA/PyBzZXJ2ZXJfZGF0YV9ub2RlPy5kYXRhID8/IG51bGwsXG5cdFx0c2xhc2g6IG5vZGUudW5pdmVyc2FsPy50cmFpbGluZ1NsYXNoID8/IHNlcnZlcl9kYXRhX25vZGU/LnNsYXNoXG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtib29sZWFufSBwYXJlbnRfY2hhbmdlZFxuICogQHBhcmFtIHtib29sZWFufSByb3V0ZV9jaGFuZ2VkXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVybF9jaGFuZ2VkXG4gKiBAcGFyYW0ge1NldDxzdHJpbmc+fSBzZWFyY2hfcGFyYW1zX2NoYW5nZWRcbiAqIEBwYXJhbSB7aW1wb3J0KCd0eXBlcycpLlVzZXMgfCB1bmRlZmluZWR9IHVzZXNcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgc3RyaW5nPn0gcGFyYW1zXG4gKi9cbmZ1bmN0aW9uIGhhc19jaGFuZ2VkKFxuXHRwYXJlbnRfY2hhbmdlZCxcblx0cm91dGVfY2hhbmdlZCxcblx0dXJsX2NoYW5nZWQsXG5cdHNlYXJjaF9wYXJhbXNfY2hhbmdlZCxcblx0dXNlcyxcblx0cGFyYW1zXG4pIHtcblx0aWYgKGZvcmNlX2ludmFsaWRhdGlvbikgcmV0dXJuIHRydWU7XG5cblx0aWYgKCF1c2VzKSByZXR1cm4gZmFsc2U7XG5cblx0aWYgKHVzZXMucGFyZW50ICYmIHBhcmVudF9jaGFuZ2VkKSByZXR1cm4gdHJ1ZTtcblx0aWYgKHVzZXMucm91dGUgJiYgcm91dGVfY2hhbmdlZCkgcmV0dXJuIHRydWU7XG5cdGlmICh1c2VzLnVybCAmJiB1cmxfY2hhbmdlZCkgcmV0dXJuIHRydWU7XG5cblx0Zm9yIChjb25zdCB0cmFja2VkX3BhcmFtcyBvZiB1c2VzLnNlYXJjaF9wYXJhbXMpIHtcblx0XHRpZiAoc2VhcmNoX3BhcmFtc19jaGFuZ2VkLmhhcyh0cmFja2VkX3BhcmFtcykpIHJldHVybiB0cnVlO1xuXHR9XG5cblx0Zm9yIChjb25zdCBwYXJhbSBvZiB1c2VzLnBhcmFtcykge1xuXHRcdGlmIChwYXJhbXNbcGFyYW1dICE9PSBjdXJyZW50LnBhcmFtc1twYXJhbV0pIHJldHVybiB0cnVlO1xuXHR9XG5cblx0Zm9yIChjb25zdCBocmVmIG9mIHVzZXMuZGVwZW5kZW5jaWVzKSB7XG5cdFx0aWYgKGludmFsaWRhdGVkLnNvbWUoKGZuKSA9PiBmbihuZXcgVVJMKGhyZWYpKSkpIHJldHVybiB0cnVlO1xuXHR9XG5cblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCd0eXBlcycpLlNlcnZlckRhdGFOb2RlIHwgaW1wb3J0KCd0eXBlcycpLlNlcnZlckRhdGFTa2lwcGVkTm9kZSB8IG51bGx9IG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3R5cGVzLmpzJykuRGF0YU5vZGUgfCBudWxsfSBbcHJldmlvdXNdXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3R5cGVzLmpzJykuRGF0YU5vZGUgfCBudWxsfVxuICovXG5mdW5jdGlvbiBjcmVhdGVfZGF0YV9ub2RlKG5vZGUsIHByZXZpb3VzKSB7XG5cdGlmIChub2RlPy50eXBlID09PSAnZGF0YScpIHJldHVybiBub2RlO1xuXHRpZiAobm9kZT8udHlwZSA9PT0gJ3NraXAnKSByZXR1cm4gcHJldmlvdXMgPz8gbnVsbDtcblx0cmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7VVJMIHwgbnVsbH0gb2xkX3VybFxuICogQHBhcmFtIHtVUkx9IG5ld191cmxcbiAqL1xuZnVuY3Rpb24gZGlmZl9zZWFyY2hfcGFyYW1zKG9sZF91cmwsIG5ld191cmwpIHtcblx0aWYgKCFvbGRfdXJsKSByZXR1cm4gbmV3IFNldChuZXdfdXJsLnNlYXJjaFBhcmFtcy5rZXlzKCkpO1xuXG5cdGNvbnN0IGNoYW5nZWQgPSBuZXcgU2V0KFsuLi5vbGRfdXJsLnNlYXJjaFBhcmFtcy5rZXlzKCksIC4uLm5ld191cmwuc2VhcmNoUGFyYW1zLmtleXMoKV0pO1xuXG5cdGZvciAoY29uc3Qga2V5IG9mIGNoYW5nZWQpIHtcblx0XHRjb25zdCBvbGRfdmFsdWVzID0gb2xkX3VybC5zZWFyY2hQYXJhbXMuZ2V0QWxsKGtleSk7XG5cdFx0Y29uc3QgbmV3X3ZhbHVlcyA9IG5ld191cmwuc2VhcmNoUGFyYW1zLmdldEFsbChrZXkpO1xuXG5cdFx0aWYgKFxuXHRcdFx0b2xkX3ZhbHVlcy5ldmVyeSgodmFsdWUpID0+IG5ld192YWx1ZXMuaW5jbHVkZXModmFsdWUpKSAmJlxuXHRcdFx0bmV3X3ZhbHVlcy5ldmVyeSgodmFsdWUpID0+IG9sZF92YWx1ZXMuaW5jbHVkZXModmFsdWUpKVxuXHRcdCkge1xuXHRcdFx0Y2hhbmdlZC5kZWxldGUoa2V5KTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gY2hhbmdlZDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge09taXQ8aW1wb3J0KCcuL3R5cGVzLmpzJykuTmF2aWdhdGlvbkZpbmlzaGVkWydzdGF0ZSddLCAnYnJhbmNoJz4gJiB7IGVycm9yOiBBcHAuRXJyb3IgfX0gb3B0c1xuICogQHJldHVybnMge2ltcG9ydCgnLi90eXBlcy5qcycpLk5hdmlnYXRpb25GaW5pc2hlZH1cbiAqL1xuZnVuY3Rpb24gcHJlbG9hZF9lcnJvcih7IGVycm9yLCB1cmwsIHJvdXRlLCBwYXJhbXMgfSkge1xuXHRyZXR1cm4ge1xuXHRcdHR5cGU6ICdsb2FkZWQnLFxuXHRcdHN0YXRlOiB7XG5cdFx0XHRlcnJvcixcblx0XHRcdHVybCxcblx0XHRcdHJvdXRlLFxuXHRcdFx0cGFyYW1zLFxuXHRcdFx0YnJhbmNoOiBbXVxuXHRcdH0sXG5cdFx0cHJvcHM6IHsgcGFnZSwgY29uc3RydWN0b3JzOiBbXSB9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vdHlwZXMuanMnKS5OYXZpZ2F0aW9uSW50ZW50ICYgeyBwcmVsb2FkPzoge30gfX0gaW50ZW50XG4gKiBAcmV0dXJucyB7UHJvbWlzZTxpbXBvcnQoJy4vdHlwZXMuanMnKS5OYXZpZ2F0aW9uUmVzdWx0Pn1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gbG9hZF9yb3V0ZSh7IGlkLCBpbnZhbGlkYXRpbmcsIHVybCwgcGFyYW1zLCByb3V0ZSwgcHJlbG9hZCB9KSB7XG5cdGlmIChsb2FkX2NhY2hlPy5pZCA9PT0gaWQpIHtcblx0XHQvLyB0aGUgcHJlbG9hZCBiZWNvbWVzIHRoZSByZWFsIG5hdmlnYXRpb25cblx0XHRwcmVsb2FkX3Rva2Vucy5kZWxldGUobG9hZF9jYWNoZS50b2tlbik7XG5cdFx0cmV0dXJuIGxvYWRfY2FjaGUucHJvbWlzZTtcblx0fVxuXG5cdGNvbnN0IHsgZXJyb3JzLCBsYXlvdXRzLCBsZWFmIH0gPSByb3V0ZTtcblxuXHRjb25zdCBsb2FkZXJzID0gWy4uLmxheW91dHMsIGxlYWZdO1xuXG5cdC8vIHByZWxvYWQgbW9kdWxlcyB0byBhdm9pZCB3YXRlcmZhbGwsIGJ1dCBoYW5kbGUgcmVqZWN0aW9uc1xuXHQvLyBzbyB0aGV5IGRvbid0IGdldCByZXBvcnRlZCB0byBTZW50cnkgZXQgYWwgKHdlIGRvbid0IG5lZWRcblx0Ly8gdG8gYWN0IG9uIHRoZSBmYWlsdXJlcyBhdCB0aGlzIHBvaW50KVxuXHRlcnJvcnMuZm9yRWFjaCgobG9hZGVyKSA9PiBsb2FkZXI/LigpLmNhdGNoKCgpID0+IHt9KSk7XG5cdGxvYWRlcnMuZm9yRWFjaCgobG9hZGVyKSA9PiBsb2FkZXI/LlsxXSgpLmNhdGNoKCgpID0+IHt9KSk7XG5cblx0LyoqIEB0eXBlIHtpbXBvcnQoJ3R5cGVzJykuU2VydmVyTm9kZXNSZXNwb25zZSB8IGltcG9ydCgndHlwZXMnKS5TZXJ2ZXJSZWRpcmVjdE5vZGUgfCBudWxsfSAqL1xuXHRsZXQgc2VydmVyX2RhdGEgPSBudWxsO1xuXHRjb25zdCB1cmxfY2hhbmdlZCA9IGN1cnJlbnQudXJsID8gaWQgIT09IGN1cnJlbnQudXJsLnBhdGhuYW1lICsgY3VycmVudC51cmwuc2VhcmNoIDogZmFsc2U7XG5cdGNvbnN0IHJvdXRlX2NoYW5nZWQgPSBjdXJyZW50LnJvdXRlID8gcm91dGUuaWQgIT09IGN1cnJlbnQucm91dGUuaWQgOiBmYWxzZTtcblx0Y29uc3Qgc2VhcmNoX3BhcmFtc19jaGFuZ2VkID0gZGlmZl9zZWFyY2hfcGFyYW1zKGN1cnJlbnQudXJsLCB1cmwpO1xuXG5cdGxldCBwYXJlbnRfaW52YWxpZCA9IGZhbHNlO1xuXHRjb25zdCBpbnZhbGlkX3NlcnZlcl9ub2RlcyA9IGxvYWRlcnMubWFwKChsb2FkZXIsIGkpID0+IHtcblx0XHRjb25zdCBwcmV2aW91cyA9IGN1cnJlbnQuYnJhbmNoW2ldO1xuXG5cdFx0Y29uc3QgaW52YWxpZCA9XG5cdFx0XHQhIWxvYWRlcj8uWzBdICYmXG5cdFx0XHQocHJldmlvdXM/LmxvYWRlciAhPT0gbG9hZGVyWzFdIHx8XG5cdFx0XHRcdGhhc19jaGFuZ2VkKFxuXHRcdFx0XHRcdHBhcmVudF9pbnZhbGlkLFxuXHRcdFx0XHRcdHJvdXRlX2NoYW5nZWQsXG5cdFx0XHRcdFx0dXJsX2NoYW5nZWQsXG5cdFx0XHRcdFx0c2VhcmNoX3BhcmFtc19jaGFuZ2VkLFxuXHRcdFx0XHRcdHByZXZpb3VzLnNlcnZlcj8udXNlcyxcblx0XHRcdFx0XHRwYXJhbXNcblx0XHRcdFx0KSk7XG5cblx0XHRpZiAoaW52YWxpZCkge1xuXHRcdFx0Ly8gRm9yIHRoZSBuZXh0IG9uZVxuXHRcdFx0cGFyZW50X2ludmFsaWQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBpbnZhbGlkO1xuXHR9KTtcblxuXHRpZiAoaW52YWxpZF9zZXJ2ZXJfbm9kZXMuc29tZShCb29sZWFuKSkge1xuXHRcdHRyeSB7XG5cdFx0XHRzZXJ2ZXJfZGF0YSA9IGF3YWl0IGxvYWRfZGF0YSh1cmwsIGludmFsaWRfc2VydmVyX25vZGVzKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc3QgaGFuZGxlZF9lcnJvciA9IGF3YWl0IGhhbmRsZV9lcnJvcihlcnJvciwgeyB1cmwsIHBhcmFtcywgcm91dGU6IHsgaWQgfSB9KTtcblxuXHRcdFx0aWYgKHByZWxvYWRfdG9rZW5zLmhhcyhwcmVsb2FkKSkge1xuXHRcdFx0XHRyZXR1cm4gcHJlbG9hZF9lcnJvcih7IGVycm9yOiBoYW5kbGVkX2Vycm9yLCB1cmwsIHBhcmFtcywgcm91dGUgfSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBsb2FkX3Jvb3RfZXJyb3JfcGFnZSh7XG5cdFx0XHRcdHN0YXR1czogZ2V0X3N0YXR1cyhlcnJvciksXG5cdFx0XHRcdGVycm9yOiBoYW5kbGVkX2Vycm9yLFxuXHRcdFx0XHR1cmwsXG5cdFx0XHRcdHJvdXRlXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAoc2VydmVyX2RhdGEudHlwZSA9PT0gJ3JlZGlyZWN0Jykge1xuXHRcdFx0cmV0dXJuIHNlcnZlcl9kYXRhO1xuXHRcdH1cblx0fVxuXG5cdGNvbnN0IHNlcnZlcl9kYXRhX25vZGVzID0gc2VydmVyX2RhdGE/Lm5vZGVzO1xuXG5cdGxldCBwYXJlbnRfY2hhbmdlZCA9IGZhbHNlO1xuXG5cdGNvbnN0IGJyYW5jaF9wcm9taXNlcyA9IGxvYWRlcnMubWFwKGFzeW5jIChsb2FkZXIsIGkpID0+IHtcblx0XHRpZiAoIWxvYWRlcikgcmV0dXJuO1xuXG5cdFx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vdHlwZXMuanMnKS5CcmFuY2hOb2RlIHwgdW5kZWZpbmVkfSAqL1xuXHRcdGNvbnN0IHByZXZpb3VzID0gY3VycmVudC5icmFuY2hbaV07XG5cblx0XHRjb25zdCBzZXJ2ZXJfZGF0YV9ub2RlID0gc2VydmVyX2RhdGFfbm9kZXM/LltpXTtcblxuXHRcdC8vIHJlLXVzZSBkYXRhIGZyb20gcHJldmlvdXMgbG9hZCBpZiBpdCdzIHN0aWxsIHZhbGlkXG5cdFx0Y29uc3QgdmFsaWQgPVxuXHRcdFx0KCFzZXJ2ZXJfZGF0YV9ub2RlIHx8IHNlcnZlcl9kYXRhX25vZGUudHlwZSA9PT0gJ3NraXAnKSAmJlxuXHRcdFx0bG9hZGVyWzFdID09PSBwcmV2aW91cz8ubG9hZGVyICYmXG5cdFx0XHQhaGFzX2NoYW5nZWQoXG5cdFx0XHRcdHBhcmVudF9jaGFuZ2VkLFxuXHRcdFx0XHRyb3V0ZV9jaGFuZ2VkLFxuXHRcdFx0XHR1cmxfY2hhbmdlZCxcblx0XHRcdFx0c2VhcmNoX3BhcmFtc19jaGFuZ2VkLFxuXHRcdFx0XHRwcmV2aW91cy51bml2ZXJzYWw/LnVzZXMsXG5cdFx0XHRcdHBhcmFtc1xuXHRcdFx0KTtcblx0XHRpZiAodmFsaWQpIHJldHVybiBwcmV2aW91cztcblxuXHRcdHBhcmVudF9jaGFuZ2VkID0gdHJ1ZTtcblxuXHRcdGlmIChzZXJ2ZXJfZGF0YV9ub2RlPy50eXBlID09PSAnZXJyb3InKSB7XG5cdFx0XHQvLyByZXRocm93IGFuZCBjYXRjaCBiZWxvd1xuXHRcdFx0dGhyb3cgc2VydmVyX2RhdGFfbm9kZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbG9hZF9ub2RlKHtcblx0XHRcdGxvYWRlcjogbG9hZGVyWzFdLFxuXHRcdFx0dXJsLFxuXHRcdFx0cGFyYW1zLFxuXHRcdFx0cm91dGUsXG5cdFx0XHRwYXJlbnQ6IGFzeW5jICgpID0+IHtcblx0XHRcdFx0Y29uc3QgZGF0YSA9IHt9O1xuXHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGk7IGogKz0gMSkge1xuXHRcdFx0XHRcdE9iamVjdC5hc3NpZ24oZGF0YSwgKGF3YWl0IGJyYW5jaF9wcm9taXNlc1tqXSk/LmRhdGEpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0fSxcblx0XHRcdHNlcnZlcl9kYXRhX25vZGU6IGNyZWF0ZV9kYXRhX25vZGUoXG5cdFx0XHRcdC8vIHNlcnZlcl9kYXRhX25vZGUgaXMgdW5kZWZpbmVkIGlmIGl0IHdhc24ndCByZWxvYWRlZCBmcm9tIHRoZSBzZXJ2ZXI7XG5cdFx0XHRcdC8vIGFuZCBpZiBjdXJyZW50IGxvYWRlciB1c2VzIHNlcnZlciBkYXRhLCB3ZSB3YW50IHRvIHJldXNlIHByZXZpb3VzIGRhdGEuXG5cdFx0XHRcdHNlcnZlcl9kYXRhX25vZGUgPT09IHVuZGVmaW5lZCAmJiBsb2FkZXJbMF0gPyB7IHR5cGU6ICdza2lwJyB9IDogc2VydmVyX2RhdGFfbm9kZSA/PyBudWxsLFxuXHRcdFx0XHRsb2FkZXJbMF0gPyBwcmV2aW91cz8uc2VydmVyIDogdW5kZWZpbmVkXG5cdFx0XHQpXG5cdFx0fSk7XG5cdH0pO1xuXG5cdC8vIGlmIHdlIGRvbid0IGRvIHRoaXMsIHJlamVjdGlvbnMgd2lsbCBiZSB1bmhhbmRsZWRcblx0Zm9yIChjb25zdCBwIG9mIGJyYW5jaF9wcm9taXNlcykgcC5jYXRjaCgoKSA9PiB7fSk7XG5cblx0LyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoJy4vdHlwZXMuanMnKS5CcmFuY2hOb2RlIHwgdW5kZWZpbmVkPn0gKi9cblx0Y29uc3QgYnJhbmNoID0gW107XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsb2FkZXJzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0aWYgKGxvYWRlcnNbaV0pIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGJyYW5jaC5wdXNoKGF3YWl0IGJyYW5jaF9wcm9taXNlc1tpXSk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0aWYgKGVyciBpbnN0YW5jZW9mIFJlZGlyZWN0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdHR5cGU6ICdyZWRpcmVjdCcsXG5cdFx0XHRcdFx0XHRsb2NhdGlvbjogZXJyLmxvY2F0aW9uXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChwcmVsb2FkX3Rva2Vucy5oYXMocHJlbG9hZCkpIHtcblx0XHRcdFx0XHRyZXR1cm4gcHJlbG9hZF9lcnJvcih7XG5cdFx0XHRcdFx0XHRlcnJvcjogYXdhaXQgaGFuZGxlX2Vycm9yKGVyciwgeyBwYXJhbXMsIHVybCwgcm91dGU6IHsgaWQ6IHJvdXRlLmlkIH0gfSksXG5cdFx0XHRcdFx0XHR1cmwsXG5cdFx0XHRcdFx0XHRwYXJhbXMsXG5cdFx0XHRcdFx0XHRyb3V0ZVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGV0IHN0YXR1cyA9IGdldF9zdGF0dXMoZXJyKTtcblx0XHRcdFx0LyoqIEB0eXBlIHtBcHAuRXJyb3J9ICovXG5cdFx0XHRcdGxldCBlcnJvcjtcblxuXHRcdFx0XHRpZiAoc2VydmVyX2RhdGFfbm9kZXM/LmluY2x1ZGVzKC8qKiBAdHlwZSB7aW1wb3J0KCd0eXBlcycpLlNlcnZlckVycm9yTm9kZX0gKi8gKGVycikpKSB7XG5cdFx0XHRcdFx0Ly8gdGhpcyBpcyB0aGUgc2VydmVyIGVycm9yIHJldGhyb3duIGFib3ZlLCByZWNvbnN0cnVjdCBidXQgZG9uJ3QgaW52b2tlXG5cdFx0XHRcdFx0Ly8gdGhlIGNsaWVudCBlcnJvciBoYW5kbGVyOyBpdCBzaG91bGQndmUgYWxyZWFkeSBiZWVuIGhhbmRsZWQgb24gdGhlIHNlcnZlclxuXHRcdFx0XHRcdHN0YXR1cyA9IC8qKiBAdHlwZSB7aW1wb3J0KCd0eXBlcycpLlNlcnZlckVycm9yTm9kZX0gKi8gKGVycikuc3RhdHVzID8/IHN0YXR1cztcblx0XHRcdFx0XHRlcnJvciA9IC8qKiBAdHlwZSB7aW1wb3J0KCd0eXBlcycpLlNlcnZlckVycm9yTm9kZX0gKi8gKGVycikuZXJyb3I7XG5cdFx0XHRcdH0gZWxzZSBpZiAoZXJyIGluc3RhbmNlb2YgSHR0cEVycm9yKSB7XG5cdFx0XHRcdFx0ZXJyb3IgPSBlcnIuYm9keTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBSZWZlcmVuY2VkIG5vZGUgY291bGQgaGF2ZSBiZWVuIHJlbW92ZWQgZHVlIHRvIHJlZGVwbG95LCBjaGVja1xuXHRcdFx0XHRcdGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBzdG9yZXMudXBkYXRlZC5jaGVjaygpO1xuXHRcdFx0XHRcdGlmICh1cGRhdGVkKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gYXdhaXQgbmF0aXZlX25hdmlnYXRpb24odXJsKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlcnJvciA9IGF3YWl0IGhhbmRsZV9lcnJvcihlcnIsIHsgcGFyYW1zLCB1cmwsIHJvdXRlOiB7IGlkOiByb3V0ZS5pZCB9IH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgZXJyb3JfbG9hZCA9IGF3YWl0IGxvYWRfbmVhcmVzdF9lcnJvcl9wYWdlKGksIGJyYW5jaCwgZXJyb3JzKTtcblx0XHRcdFx0aWYgKGVycm9yX2xvYWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gYXdhaXQgZ2V0X25hdmlnYXRpb25fcmVzdWx0X2Zyb21fYnJhbmNoKHtcblx0XHRcdFx0XHRcdHVybCxcblx0XHRcdFx0XHRcdHBhcmFtcyxcblx0XHRcdFx0XHRcdGJyYW5jaDogYnJhbmNoLnNsaWNlKDAsIGVycm9yX2xvYWQuaWR4KS5jb25jYXQoZXJyb3JfbG9hZC5ub2RlKSxcblx0XHRcdFx0XHRcdHN0YXR1cyxcblx0XHRcdFx0XHRcdGVycm9yLFxuXHRcdFx0XHRcdFx0cm91dGVcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gYXdhaXQgc2VydmVyX2ZhbGxiYWNrKHVybCwgeyBpZDogcm91dGUuaWQgfSwgZXJyb3IsIHN0YXR1cyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcHVzaCBhbiBlbXB0eSBzbG90IHNvIHdlIGNhbiByZXdpbmQgcGFzdCBnYXBzIHRvIHRoZVxuXHRcdFx0Ly8gbGF5b3V0IHRoYXQgY29ycmVzcG9uZHMgd2l0aCBhbiArZXJyb3Iuc3ZlbHRlIHBhZ2Vcblx0XHRcdGJyYW5jaC5wdXNoKHVuZGVmaW5lZCk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGF3YWl0IGdldF9uYXZpZ2F0aW9uX3Jlc3VsdF9mcm9tX2JyYW5jaCh7XG5cdFx0dXJsLFxuXHRcdHBhcmFtcyxcblx0XHRicmFuY2gsXG5cdFx0c3RhdHVzOiAyMDAsXG5cdFx0ZXJyb3I6IG51bGwsXG5cdFx0cm91dGUsXG5cdFx0Ly8gUmVzZXQgYGZvcm1gIG9uIG5hdmlnYXRpb24sIGJ1dCBub3QgaW52YWxpZGF0aW9uXG5cdFx0Zm9ybTogaW52YWxpZGF0aW5nID8gdW5kZWZpbmVkIDogbnVsbFxuXHR9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gaSBTdGFydCBpbmRleCB0byBiYWNrdHJhY2sgZnJvbVxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4vdHlwZXMuanMnKS5CcmFuY2hOb2RlIHwgdW5kZWZpbmVkPn0gYnJhbmNoIEJyYW5jaCB0byBiYWNrdHJhY2tcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCd0eXBlcycpLkNTUlBhZ2VOb2RlTG9hZGVyIHwgdW5kZWZpbmVkPn0gZXJyb3JzIEFsbCBlcnJvciBwYWdlcyBmb3IgdGhpcyBicmFuY2hcbiAqIEByZXR1cm5zIHtQcm9taXNlPHtpZHg6IG51bWJlcjsgbm9kZTogaW1wb3J0KCcuL3R5cGVzLmpzJykuQnJhbmNoTm9kZX0gfCB1bmRlZmluZWQ+fVxuICovXG5hc3luYyBmdW5jdGlvbiBsb2FkX25lYXJlc3RfZXJyb3JfcGFnZShpLCBicmFuY2gsIGVycm9ycykge1xuXHR3aGlsZSAoaS0tKSB7XG5cdFx0aWYgKGVycm9yc1tpXSkge1xuXHRcdFx0bGV0IGogPSBpO1xuXHRcdFx0d2hpbGUgKCFicmFuY2hbal0pIGogLT0gMTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0aWR4OiBqICsgMSxcblx0XHRcdFx0XHRub2RlOiB7XG5cdFx0XHRcdFx0XHRub2RlOiBhd2FpdCAvKiogQHR5cGUge2ltcG9ydCgndHlwZXMnKS5DU1JQYWdlTm9kZUxvYWRlciB9ICovIChlcnJvcnNbaV0pKCksXG5cdFx0XHRcdFx0XHRsb2FkZXI6IC8qKiBAdHlwZSB7aW1wb3J0KCd0eXBlcycpLkNTUlBhZ2VOb2RlTG9hZGVyIH0gKi8gKGVycm9yc1tpXSksXG5cdFx0XHRcdFx0XHRkYXRhOiB7fSxcblx0XHRcdFx0XHRcdHNlcnZlcjogbnVsbCxcblx0XHRcdFx0XHRcdHVuaXZlcnNhbDogbnVsbFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHt7XG4gKiAgIHN0YXR1czogbnVtYmVyO1xuICogICBlcnJvcjogQXBwLkVycm9yO1xuICogICB1cmw6IFVSTDtcbiAqICAgcm91dGU6IHsgaWQ6IHN0cmluZyB8IG51bGwgfVxuICogfX0gb3B0c1xuICogQHJldHVybnMge1Byb21pc2U8aW1wb3J0KCcuL3R5cGVzLmpzJykuTmF2aWdhdGlvbkZpbmlzaGVkPn1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gbG9hZF9yb290X2Vycm9yX3BhZ2UoeyBzdGF0dXMsIGVycm9yLCB1cmwsIHJvdXRlIH0pIHtcblx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+fSAqL1xuXHRjb25zdCBwYXJhbXMgPSB7fTsgLy8gZXJyb3IgcGFnZSBkb2VzIG5vdCBoYXZlIHBhcmFtc1xuXG5cdC8qKiBAdHlwZSB7aW1wb3J0KCd0eXBlcycpLlNlcnZlckRhdGFOb2RlIHwgbnVsbH0gKi9cblx0bGV0IHNlcnZlcl9kYXRhX25vZGUgPSBudWxsO1xuXG5cdGNvbnN0IGRlZmF1bHRfbGF5b3V0X2hhc19zZXJ2ZXJfbG9hZCA9IGFwcC5zZXJ2ZXJfbG9hZHNbMF0gPT09IDA7XG5cblx0aWYgKGRlZmF1bHRfbGF5b3V0X2hhc19zZXJ2ZXJfbG9hZCkge1xuXHRcdC8vIFRPRE8gcG9zdC1odHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMva2l0L2Rpc2N1c3Npb25zLzYxMjQgd2UgY2FuIHVzZVxuXHRcdC8vIGV4aXN0aW5nIHJvb3QgbGF5b3V0IGRhdGFcblx0XHR0cnkge1xuXHRcdFx0Y29uc3Qgc2VydmVyX2RhdGEgPSBhd2FpdCBsb2FkX2RhdGEodXJsLCBbdHJ1ZV0pO1xuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdHNlcnZlcl9kYXRhLnR5cGUgIT09ICdkYXRhJyB8fFxuXHRcdFx0XHQoc2VydmVyX2RhdGEubm9kZXNbMF0gJiYgc2VydmVyX2RhdGEubm9kZXNbMF0udHlwZSAhPT0gJ2RhdGEnKVxuXHRcdFx0KSB7XG5cdFx0XHRcdHRocm93IDA7XG5cdFx0XHR9XG5cblx0XHRcdHNlcnZlcl9kYXRhX25vZGUgPSBzZXJ2ZXJfZGF0YS5ub2Rlc1swXSA/PyBudWxsO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0Ly8gYXQgdGhpcyBwb2ludCB3ZSBoYXZlIG5vIGNob2ljZSBidXQgdG8gZmFsbCBiYWNrIHRvIHRoZSBzZXJ2ZXIsIGlmIGl0IHdvdWxkbid0XG5cdFx0XHQvLyBicmluZyB1cyByaWdodCBiYWNrIGhlcmUsIHR1cm5pbmcgdGhpcyBpbnRvIGFuIGVuZGxlc3MgbG9vcFxuXHRcdFx0aWYgKHVybC5vcmlnaW4gIT09IG9yaWdpbiB8fCB1cmwucGF0aG5hbWUgIT09IGxvY2F0aW9uLnBhdGhuYW1lIHx8IGh5ZHJhdGVkKSB7XG5cdFx0XHRcdGF3YWl0IG5hdGl2ZV9uYXZpZ2F0aW9uKHVybCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Y29uc3Qgcm9vdF9sYXlvdXQgPSBhd2FpdCBsb2FkX25vZGUoe1xuXHRcdGxvYWRlcjogZGVmYXVsdF9sYXlvdXRfbG9hZGVyLFxuXHRcdHVybCxcblx0XHRwYXJhbXMsXG5cdFx0cm91dGUsXG5cdFx0cGFyZW50OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoe30pLFxuXHRcdHNlcnZlcl9kYXRhX25vZGU6IGNyZWF0ZV9kYXRhX25vZGUoc2VydmVyX2RhdGFfbm9kZSlcblx0fSk7XG5cblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vdHlwZXMuanMnKS5CcmFuY2hOb2RlfSAqL1xuXHRjb25zdCByb290X2Vycm9yID0ge1xuXHRcdG5vZGU6IGF3YWl0IGRlZmF1bHRfZXJyb3JfbG9hZGVyKCksXG5cdFx0bG9hZGVyOiBkZWZhdWx0X2Vycm9yX2xvYWRlcixcblx0XHR1bml2ZXJzYWw6IG51bGwsXG5cdFx0c2VydmVyOiBudWxsLFxuXHRcdGRhdGE6IG51bGxcblx0fTtcblxuXHRyZXR1cm4gYXdhaXQgZ2V0X25hdmlnYXRpb25fcmVzdWx0X2Zyb21fYnJhbmNoKHtcblx0XHR1cmwsXG5cdFx0cGFyYW1zLFxuXHRcdGJyYW5jaDogW3Jvb3RfbGF5b3V0LCByb290X2Vycm9yXSxcblx0XHRzdGF0dXMsXG5cdFx0ZXJyb3IsXG5cdFx0cm91dGU6IG51bGxcblx0fSk7XG59XG5cbi8qKlxuICogUmVzb2x2ZSB0aGUgZnVsbCBpbmZvICh3aGljaCByb3V0ZSwgcGFyYW1zLCBldGMuKSBmb3IgYSBjbGllbnQtc2lkZSBuYXZpZ2F0aW9uIGZyb20gdGhlIFVSTCxcbiAqIHRha2luZyB0aGUgcmVyb3V0ZSBob29rIGludG8gYWNjb3VudC4gSWYgdGhpcyBpc24ndCBhIGNsaWVudC1zaWRlLW5hdmlnYXRpb24gKG9yIHRoZSBVUkwgaXMgdW5kZWZpbmVkKSxcbiAqIHJldHVybnMgdW5kZWZpbmVkLlxuICogQHBhcmFtIHtVUkwgfCB1bmRlZmluZWR9IHVybFxuICogQHBhcmFtIHtib29sZWFufSBpbnZhbGlkYXRpbmdcbiAqL1xuZnVuY3Rpb24gZ2V0X25hdmlnYXRpb25faW50ZW50KHVybCwgaW52YWxpZGF0aW5nKSB7XG5cdGlmICghdXJsKSByZXR1cm4gdW5kZWZpbmVkO1xuXHRpZiAoaXNfZXh0ZXJuYWxfdXJsKHVybCwgYmFzZSkpIHJldHVybjtcblxuXHQvLyByZXJvdXRlIGNvdWxkIGFsdGVyIHRoZSBnaXZlbiBVUkwsIHNvIHdlIHBhc3MgYSBjb3B5XG5cdGxldCByZXJvdXRlZDtcblx0dHJ5IHtcblx0XHRyZXJvdXRlZCA9IGFwcC5ob29rcy5yZXJvdXRlKHsgdXJsOiBuZXcgVVJMKHVybCkgfSkgPz8gdXJsLnBhdGhuYW1lO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKERFVikge1xuXHRcdFx0Ly8gaW4gZGV2ZWxvcG1lbnQsIHByaW50IHRoZSBlcnJvci4uLlxuXHRcdFx0Y29uc29sZS5lcnJvcihlKTtcblxuXHRcdFx0Ly8gLi4uYW5kIHBhdXNlIGV4ZWN1dGlvbiwgc2luY2Ugb3RoZXJ3aXNlIHdlIHdpbGwgaW1tZWRpYXRlbHkgcmVsb2FkIHRoZSBwYWdlXG5cdFx0XHRkZWJ1Z2dlcjsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHRcdH1cblxuXHRcdC8vIGZhbGwgYmFjayB0byBuYXRpdmUgbmF2aWdhdGlvblxuXHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdH1cblxuXHRjb25zdCBwYXRoID0gZ2V0X3VybF9wYXRoKHJlcm91dGVkKTtcblxuXHRmb3IgKGNvbnN0IHJvdXRlIG9mIHJvdXRlcykge1xuXHRcdGNvbnN0IHBhcmFtcyA9IHJvdXRlLmV4ZWMocGF0aCk7XG5cblx0XHRpZiAocGFyYW1zKSB7XG5cdFx0XHRjb25zdCBpZCA9IHVybC5wYXRobmFtZSArIHVybC5zZWFyY2g7XG5cdFx0XHQvKiogQHR5cGUge2ltcG9ydCgnLi90eXBlcy5qcycpLk5hdmlnYXRpb25JbnRlbnR9ICovXG5cdFx0XHRjb25zdCBpbnRlbnQgPSB7XG5cdFx0XHRcdGlkLFxuXHRcdFx0XHRpbnZhbGlkYXRpbmcsXG5cdFx0XHRcdHJvdXRlLFxuXHRcdFx0XHRwYXJhbXM6IGRlY29kZV9wYXJhbXMocGFyYW1zKSxcblx0XHRcdFx0dXJsXG5cdFx0XHR9O1xuXHRcdFx0cmV0dXJuIGludGVudDtcblx0XHR9XG5cdH1cbn1cblxuLyoqIEBwYXJhbSB7c3RyaW5nfSBwYXRobmFtZSAqL1xuZnVuY3Rpb24gZ2V0X3VybF9wYXRoKHBhdGhuYW1lKSB7XG5cdHJldHVybiBkZWNvZGVfcGF0aG5hbWUocGF0aG5hbWUuc2xpY2UoYmFzZS5sZW5ndGgpIHx8ICcvJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHt7XG4gKiAgIHVybDogVVJMO1xuICogICB0eXBlOiBpbXBvcnQoJ0BzdmVsdGVqcy9raXQnKS5OYXZpZ2F0aW9uW1widHlwZVwiXTtcbiAqICAgaW50ZW50PzogaW1wb3J0KCcuL3R5cGVzLmpzJykuTmF2aWdhdGlvbkludGVudDtcbiAqICAgZGVsdGE/OiBudW1iZXI7XG4gKiB9fSBvcHRzXG4gKi9cbmZ1bmN0aW9uIF9iZWZvcmVfbmF2aWdhdGUoeyB1cmwsIHR5cGUsIGludGVudCwgZGVsdGEgfSkge1xuXHRsZXQgc2hvdWxkX2Jsb2NrID0gZmFsc2U7XG5cblx0Y29uc3QgbmF2ID0gY3JlYXRlX25hdmlnYXRpb24oY3VycmVudCwgaW50ZW50LCB1cmwsIHR5cGUpO1xuXG5cdGlmIChkZWx0YSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0bmF2Lm5hdmlnYXRpb24uZGVsdGEgPSBkZWx0YTtcblx0fVxuXG5cdGNvbnN0IGNhbmNlbGxhYmxlID0ge1xuXHRcdC4uLm5hdi5uYXZpZ2F0aW9uLFxuXHRcdGNhbmNlbDogKCkgPT4ge1xuXHRcdFx0c2hvdWxkX2Jsb2NrID0gdHJ1ZTtcblx0XHRcdG5hdi5yZWplY3QobmV3IEVycm9yKCduYXZpZ2F0aW9uIGNhbmNlbGxlZCcpKTtcblx0XHR9XG5cdH07XG5cblx0aWYgKCFuYXZpZ2F0aW5nKSB7XG5cdFx0Ly8gRG9uJ3QgcnVuIHRoZSBldmVudCBkdXJpbmcgcmVkaXJlY3RzXG5cdFx0YmVmb3JlX25hdmlnYXRlX2NhbGxiYWNrcy5mb3JFYWNoKChmbikgPT4gZm4oY2FuY2VsbGFibGUpKTtcblx0fVxuXG5cdHJldHVybiBzaG91bGRfYmxvY2sgPyBudWxsIDogbmF2O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7e1xuICogICB0eXBlOiBpbXBvcnQoJ0BzdmVsdGVqcy9raXQnKS5OYXZpZ2F0aW9uW1widHlwZVwiXTtcbiAqICAgdXJsOiBVUkw7XG4gKiAgIHBvcHBlZD86IHtcbiAqICAgICBzdGF0ZTogUmVjb3JkPHN0cmluZywgYW55PjtcbiAqICAgICBzY3JvbGw6IHsgeDogbnVtYmVyLCB5OiBudW1iZXIgfTtcbiAqICAgICBkZWx0YTogbnVtYmVyO1xuICogICB9O1xuICogICBrZWVwZm9jdXM/OiBib29sZWFuO1xuICogICBub3Njcm9sbD86IGJvb2xlYW47XG4gKiAgIHJlcGxhY2Vfc3RhdGU/OiBib29sZWFuO1xuICogICBzdGF0ZT86IFJlY29yZDxzdHJpbmcsIGFueT47XG4gKiAgIHJlZGlyZWN0X2NvdW50PzogbnVtYmVyO1xuICogICBuYXZfdG9rZW4/OiB7fTtcbiAqICAgYWNjZXB0PzogKCkgPT4gdm9pZDtcbiAqICAgYmxvY2s/OiAoKSA9PiB2b2lkO1xuICogfX0gb3B0c1xuICovXG5hc3luYyBmdW5jdGlvbiBuYXZpZ2F0ZSh7XG5cdHR5cGUsXG5cdHVybCxcblx0cG9wcGVkLFxuXHRrZWVwZm9jdXMsXG5cdG5vc2Nyb2xsLFxuXHRyZXBsYWNlX3N0YXRlLFxuXHRzdGF0ZSA9IHt9LFxuXHRyZWRpcmVjdF9jb3VudCA9IDAsXG5cdG5hdl90b2tlbiA9IHt9LFxuXHRhY2NlcHQgPSBub29wLFxuXHRibG9jayA9IG5vb3Bcbn0pIHtcblx0Y29uc3QgaW50ZW50ID0gZ2V0X25hdmlnYXRpb25faW50ZW50KHVybCwgZmFsc2UpO1xuXHRjb25zdCBuYXYgPSBfYmVmb3JlX25hdmlnYXRlKHsgdXJsLCB0eXBlLCBkZWx0YTogcG9wcGVkPy5kZWx0YSwgaW50ZW50IH0pO1xuXG5cdGlmICghbmF2KSB7XG5cdFx0YmxvY2soKTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBzdG9yZSB0aGlzIGJlZm9yZSBjYWxsaW5nIGBhY2NlcHQoKWAsIHdoaWNoIG1heSBjaGFuZ2UgdGhlIGluZGV4XG5cdGNvbnN0IHByZXZpb3VzX2hpc3RvcnlfaW5kZXggPSBjdXJyZW50X2hpc3RvcnlfaW5kZXg7XG5cdGNvbnN0IHByZXZpb3VzX25hdmlnYXRpb25faW5kZXggPSBjdXJyZW50X25hdmlnYXRpb25faW5kZXg7XG5cblx0YWNjZXB0KCk7XG5cblx0bmF2aWdhdGluZyA9IHRydWU7XG5cblx0aWYgKHN0YXJ0ZWQpIHtcblx0XHRzdG9yZXMubmF2aWdhdGluZy5zZXQobmF2Lm5hdmlnYXRpb24pO1xuXHR9XG5cblx0dG9rZW4gPSBuYXZfdG9rZW47XG5cdGxldCBuYXZpZ2F0aW9uX3Jlc3VsdCA9IGludGVudCAmJiAoYXdhaXQgbG9hZF9yb3V0ZShpbnRlbnQpKTtcblxuXHRpZiAoIW5hdmlnYXRpb25fcmVzdWx0KSB7XG5cdFx0aWYgKGlzX2V4dGVybmFsX3VybCh1cmwsIGJhc2UpKSB7XG5cdFx0XHRyZXR1cm4gYXdhaXQgbmF0aXZlX25hdmlnYXRpb24odXJsKTtcblx0XHR9XG5cdFx0bmF2aWdhdGlvbl9yZXN1bHQgPSBhd2FpdCBzZXJ2ZXJfZmFsbGJhY2soXG5cdFx0XHR1cmwsXG5cdFx0XHR7IGlkOiBudWxsIH0sXG5cdFx0XHRhd2FpdCBoYW5kbGVfZXJyb3IobmV3IFN2ZWx0ZUtpdEVycm9yKDQwNCwgJ05vdCBGb3VuZCcsIGBOb3QgZm91bmQ6ICR7dXJsLnBhdGhuYW1lfWApLCB7XG5cdFx0XHRcdHVybCxcblx0XHRcdFx0cGFyYW1zOiB7fSxcblx0XHRcdFx0cm91dGU6IHsgaWQ6IG51bGwgfVxuXHRcdFx0fSksXG5cdFx0XHQ0MDRcblx0XHQpO1xuXHR9XG5cblx0Ly8gaWYgdGhpcyBpcyBhbiBpbnRlcm5hbCBuYXZpZ2F0aW9uIGludGVudCwgdXNlIHRoZSBub3JtYWxpemVkXG5cdC8vIFVSTCBmb3IgdGhlIHJlc3Qgb2YgdGhlIGZ1bmN0aW9uXG5cdHVybCA9IGludGVudD8udXJsIHx8IHVybDtcblxuXHQvLyBhYm9ydCBpZiB1c2VyIG5hdmlnYXRlZCBkdXJpbmcgdXBkYXRlXG5cdGlmICh0b2tlbiAhPT0gbmF2X3Rva2VuKSB7XG5cdFx0bmF2LnJlamVjdChuZXcgRXJyb3IoJ25hdmlnYXRpb24gYWJvcnRlZCcpKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAobmF2aWdhdGlvbl9yZXN1bHQudHlwZSA9PT0gJ3JlZGlyZWN0Jykge1xuXHRcdC8vIHdoYXR3ZyBmZXRjaCBzcGVjIGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNodHRwLXJlZGlyZWN0LWZldGNoIHNheXMgdG8gZXJyb3IgYWZ0ZXIgMjAgcmVkaXJlY3RzXG5cdFx0aWYgKHJlZGlyZWN0X2NvdW50ID49IDIwKSB7XG5cdFx0XHRuYXZpZ2F0aW9uX3Jlc3VsdCA9IGF3YWl0IGxvYWRfcm9vdF9lcnJvcl9wYWdlKHtcblx0XHRcdFx0c3RhdHVzOiA1MDAsXG5cdFx0XHRcdGVycm9yOiBhd2FpdCBoYW5kbGVfZXJyb3IobmV3IEVycm9yKCdSZWRpcmVjdCBsb29wJyksIHtcblx0XHRcdFx0XHR1cmwsXG5cdFx0XHRcdFx0cGFyYW1zOiB7fSxcblx0XHRcdFx0XHRyb3V0ZTogeyBpZDogbnVsbCB9XG5cdFx0XHRcdH0pLFxuXHRcdFx0XHR1cmwsXG5cdFx0XHRcdHJvdXRlOiB7IGlkOiBudWxsIH1cblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRfZ290byhuZXcgVVJMKG5hdmlnYXRpb25fcmVzdWx0LmxvY2F0aW9uLCB1cmwpLmhyZWYsIHt9LCByZWRpcmVjdF9jb3VudCArIDEsIG5hdl90b2tlbik7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAobmF2aWdhdGlvbl9yZXN1bHQucHJvcHMucGFnZS5zdGF0dXMpID49IDQwMCkge1xuXHRcdGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBzdG9yZXMudXBkYXRlZC5jaGVjaygpO1xuXHRcdGlmICh1cGRhdGVkKSB7XG5cdFx0XHRhd2FpdCBuYXRpdmVfbmF2aWdhdGlvbih1cmwpO1xuXHRcdH1cblx0fVxuXG5cdC8vIHJlc2V0IGludmFsaWRhdGlvbiBvbmx5IGFmdGVyIGEgZmluaXNoZWQgbmF2aWdhdGlvbi4gSWYgdGhlcmUgYXJlIHJlZGlyZWN0cyBvclxuXHQvLyBhZGRpdGlvbmFsIGludmFsaWRhdGlvbnMsIHRoZXkgc2hvdWxkIGdldCB0aGUgc2FtZSBpbnZhbGlkYXRpb24gdHJlYXRtZW50XG5cdHJlc2V0X2ludmFsaWRhdGlvbigpO1xuXG5cdHVwZGF0aW5nID0gdHJ1ZTtcblxuXHR1cGRhdGVfc2Nyb2xsX3Bvc2l0aW9ucyhwcmV2aW91c19oaXN0b3J5X2luZGV4KTtcblx0Y2FwdHVyZV9zbmFwc2hvdChwcmV2aW91c19uYXZpZ2F0aW9uX2luZGV4KTtcblxuXHQvLyBlbnN1cmUgdGhlIHVybCBwYXRobmFtZSBtYXRjaGVzIHRoZSBwYWdlJ3MgdHJhaWxpbmcgc2xhc2ggb3B0aW9uXG5cdGlmIChuYXZpZ2F0aW9uX3Jlc3VsdC5wcm9wcy5wYWdlLnVybC5wYXRobmFtZSAhPT0gdXJsLnBhdGhuYW1lKSB7XG5cdFx0dXJsLnBhdGhuYW1lID0gbmF2aWdhdGlvbl9yZXN1bHQucHJvcHMucGFnZS51cmwucGF0aG5hbWU7XG5cdH1cblxuXHRzdGF0ZSA9IHBvcHBlZCA/IHBvcHBlZC5zdGF0ZSA6IHN0YXRlO1xuXG5cdGlmICghcG9wcGVkKSB7XG5cdFx0Ly8gdGhpcyBpcyBhIG5ldyBuYXZpZ2F0aW9uLCByYXRoZXIgdGhhbiBhIHBvcHN0YXRlXG5cdFx0Y29uc3QgY2hhbmdlID0gcmVwbGFjZV9zdGF0ZSA/IDAgOiAxO1xuXG5cdFx0Y29uc3QgZW50cnkgPSB7XG5cdFx0XHRbSElTVE9SWV9JTkRFWF06IChjdXJyZW50X2hpc3RvcnlfaW5kZXggKz0gY2hhbmdlKSxcblx0XHRcdFtOQVZJR0FUSU9OX0lOREVYXTogKGN1cnJlbnRfbmF2aWdhdGlvbl9pbmRleCArPSBjaGFuZ2UpLFxuXHRcdFx0W1NUQVRFU19LRVldOiBzdGF0ZVxuXHRcdH07XG5cblx0XHRjb25zdCBmbiA9IHJlcGxhY2Vfc3RhdGUgPyBoaXN0b3J5LnJlcGxhY2VTdGF0ZSA6IGhpc3RvcnkucHVzaFN0YXRlO1xuXHRcdGZuLmNhbGwoaGlzdG9yeSwgZW50cnksICcnLCB1cmwpO1xuXG5cdFx0aWYgKCFyZXBsYWNlX3N0YXRlKSB7XG5cdFx0XHRjbGVhcl9vbndhcmRfaGlzdG9yeShjdXJyZW50X2hpc3RvcnlfaW5kZXgsIGN1cnJlbnRfbmF2aWdhdGlvbl9pbmRleCk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gcmVzZXQgcHJlbG9hZCBzeW5jaHJvbm91c2x5IGFmdGVyIHRoZSBoaXN0b3J5IHN0YXRlIGhhcyBiZWVuIHNldCB0byBhdm9pZCByYWNlIGNvbmRpdGlvbnNcblx0bG9hZF9jYWNoZSA9IG51bGw7XG5cblx0bmF2aWdhdGlvbl9yZXN1bHQucHJvcHMucGFnZS5zdGF0ZSA9IHN0YXRlO1xuXG5cdGlmIChzdGFydGVkKSB7XG5cdFx0Y3VycmVudCA9IG5hdmlnYXRpb25fcmVzdWx0LnN0YXRlO1xuXG5cdFx0Ly8gcmVzZXQgdXJsIGJlZm9yZSB1cGRhdGluZyBwYWdlIHN0b3JlXG5cdFx0aWYgKG5hdmlnYXRpb25fcmVzdWx0LnByb3BzLnBhZ2UpIHtcblx0XHRcdG5hdmlnYXRpb25fcmVzdWx0LnByb3BzLnBhZ2UudXJsID0gdXJsO1xuXHRcdH1cblxuXHRcdGNvbnN0IGFmdGVyX25hdmlnYXRlID0gKFxuXHRcdFx0YXdhaXQgUHJvbWlzZS5hbGwoXG5cdFx0XHRcdG9uX25hdmlnYXRlX2NhbGxiYWNrcy5tYXAoKGZuKSA9PlxuXHRcdFx0XHRcdGZuKC8qKiBAdHlwZSB7aW1wb3J0KCdAc3ZlbHRlanMva2l0JykuT25OYXZpZ2F0ZX0gKi8gKG5hdi5uYXZpZ2F0aW9uKSlcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCkuZmlsdGVyKC8qKiBAcmV0dXJucyB7dmFsdWUgaXMgKCkgPT4gdm9pZH0gKi8gKHZhbHVlKSA9PiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpO1xuXG5cdFx0aWYgKGFmdGVyX25hdmlnYXRlLmxlbmd0aCA+IDApIHtcblx0XHRcdGZ1bmN0aW9uIGNsZWFudXAoKSB7XG5cdFx0XHRcdGFmdGVyX25hdmlnYXRlX2NhbGxiYWNrcyA9IGFmdGVyX25hdmlnYXRlX2NhbGxiYWNrcy5maWx0ZXIoXG5cdFx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRcdChmbikgPT4gIWFmdGVyX25hdmlnYXRlLmluY2x1ZGVzKGZuKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRhZnRlcl9uYXZpZ2F0ZS5wdXNoKGNsZWFudXApO1xuXHRcdFx0YWZ0ZXJfbmF2aWdhdGVfY2FsbGJhY2tzLnB1c2goLi4uYWZ0ZXJfbmF2aWdhdGUpO1xuXHRcdH1cblxuXHRcdHJvb3QuJHNldChuYXZpZ2F0aW9uX3Jlc3VsdC5wcm9wcyk7XG5cdFx0aGFzX25hdmlnYXRlZCA9IHRydWU7XG5cdH0gZWxzZSB7XG5cdFx0aW5pdGlhbGl6ZShuYXZpZ2F0aW9uX3Jlc3VsdCwgdGFyZ2V0LCBmYWxzZSk7XG5cdH1cblxuXHRjb25zdCB7IGFjdGl2ZUVsZW1lbnQgfSA9IGRvY3VtZW50O1xuXG5cdC8vIG5lZWQgdG8gcmVuZGVyIHRoZSBET00gYmVmb3JlIHdlIGNhbiBzY3JvbGwgdG8gdGhlIHJlbmRlcmVkIGVsZW1lbnRzIGFuZCBkbyBmb2N1cyBtYW5hZ2VtZW50XG5cdGF3YWl0IHRpY2soKTtcblxuXHQvLyB3ZSByZXNldCBzY3JvbGwgYmVmb3JlIGRlYWxpbmcgd2l0aCBmb2N1cywgdG8gYXZvaWQgYSBmbGFzaCBvZiB1bnNjcm9sbGVkIGNvbnRlbnRcblx0Y29uc3Qgc2Nyb2xsID0gcG9wcGVkID8gcG9wcGVkLnNjcm9sbCA6IG5vc2Nyb2xsID8gc2Nyb2xsX3N0YXRlKCkgOiBudWxsO1xuXG5cdGlmIChhdXRvc2Nyb2xsKSB7XG5cdFx0Y29uc3QgZGVlcF9saW5rZWQgPSB1cmwuaGFzaCAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkZWNvZGVVUklDb21wb25lbnQodXJsLmhhc2guc2xpY2UoMSkpKTtcblx0XHRpZiAoc2Nyb2xsKSB7XG5cdFx0XHRzY3JvbGxUbyhzY3JvbGwueCwgc2Nyb2xsLnkpO1xuXHRcdH0gZWxzZSBpZiAoZGVlcF9saW5rZWQpIHtcblx0XHRcdC8vIEhlcmUgd2UgdXNlIGBzY3JvbGxJbnRvVmlld2Agb24gdGhlIGVsZW1lbnQgaW5zdGVhZCBvZiBgc2Nyb2xsVG9gXG5cdFx0XHQvLyBiZWNhdXNlIGl0IG5hdGl2ZWx5IHN1cHBvcnRzIHRoZSBgc2Nyb2xsLW1hcmdpbmAgYW5kIGBzY3JvbGwtYmVoYXZpb3JgXG5cdFx0XHQvLyBDU1MgcHJvcGVydGllcy5cblx0XHRcdGRlZXBfbGlua2VkLnNjcm9sbEludG9WaWV3KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNjcm9sbFRvKDAsIDApO1xuXHRcdH1cblx0fVxuXG5cdGNvbnN0IGNoYW5nZWRfZm9jdXMgPVxuXHRcdC8vIHJlc2V0IGZvY3VzIG9ubHkgaWYgYW55IG1hbnVhbCBmb2N1cyBtYW5hZ2VtZW50IGRpZG4ndCBvdmVycmlkZSBpdFxuXHRcdGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGFjdGl2ZUVsZW1lbnQgJiZcblx0XHQvLyBhbHNvIHJlZm9jdXMgd2hlbiBhY3RpdmVFbGVtZW50IGlzIGJvZHkgYWxyZWFkeSBiZWNhdXNlIHRoZVxuXHRcdC8vIGZvY3VzIGV2ZW50IG1pZ2h0IG5vdCBoYXZlIGJlZW4gZmlyZWQgb24gaXQgeWV0XG5cdFx0ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gZG9jdW1lbnQuYm9keTtcblxuXHRpZiAoIWtlZXBmb2N1cyAmJiAhY2hhbmdlZF9mb2N1cykge1xuXHRcdHJlc2V0X2ZvY3VzKCk7XG5cdH1cblxuXHRhdXRvc2Nyb2xsID0gdHJ1ZTtcblxuXHRpZiAobmF2aWdhdGlvbl9yZXN1bHQucHJvcHMucGFnZSkge1xuXHRcdHBhZ2UgPSBuYXZpZ2F0aW9uX3Jlc3VsdC5wcm9wcy5wYWdlO1xuXHR9XG5cblx0bmF2aWdhdGluZyA9IGZhbHNlO1xuXG5cdGlmICh0eXBlID09PSAncG9wc3RhdGUnKSB7XG5cdFx0cmVzdG9yZV9zbmFwc2hvdChjdXJyZW50X25hdmlnYXRpb25faW5kZXgpO1xuXHR9XG5cblx0bmF2LmZ1bGZpbCh1bmRlZmluZWQpO1xuXG5cdGFmdGVyX25hdmlnYXRlX2NhbGxiYWNrcy5mb3JFYWNoKChmbikgPT5cblx0XHRmbigvKiogQHR5cGUge2ltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLkFmdGVyTmF2aWdhdGV9ICovIChuYXYubmF2aWdhdGlvbikpXG5cdCk7XG5cblx0c3RvcmVzLm5hdmlnYXRpbmcuc2V0KG51bGwpO1xuXG5cdHVwZGF0aW5nID0gZmFsc2U7XG59XG5cbi8qKlxuICogRG9lcyBhIGZ1bGwgcGFnZSByZWxvYWQgaWYgaXQgd291bGRuJ3QgcmVzdWx0IGluIGFuIGVuZGxlc3MgbG9vcCBpbiB0aGUgU1BBIGNhc2VcbiAqIEBwYXJhbSB7VVJMfSB1cmxcbiAqIEBwYXJhbSB7eyBpZDogc3RyaW5nIHwgbnVsbCB9fSByb3V0ZVxuICogQHBhcmFtIHtBcHAuRXJyb3J9IGVycm9yXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhdHVzXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxpbXBvcnQoJy4vdHlwZXMuanMnKS5OYXZpZ2F0aW9uRmluaXNoZWQ+fVxuICovXG5hc3luYyBmdW5jdGlvbiBzZXJ2ZXJfZmFsbGJhY2sodXJsLCByb3V0ZSwgZXJyb3IsIHN0YXR1cykge1xuXHRpZiAodXJsLm9yaWdpbiA9PT0gb3JpZ2luICYmIHVybC5wYXRobmFtZSA9PT0gbG9jYXRpb24ucGF0aG5hbWUgJiYgIWh5ZHJhdGVkKSB7XG5cdFx0Ly8gV2Ugd291bGQgcmVsb2FkIHRoZSBzYW1lIHBhZ2Ugd2UncmUgY3VycmVudGx5IG9uLCB3aGljaCBpc24ndCBoeWRyYXRlZCxcblx0XHQvLyB3aGljaCBtZWFucyBubyBTU1IsIHdoaWNoIG1lYW5zIHdlIHdvdWxkIGVuZCB1cCBpbiBhbiBlbmRsZXNzIGxvb3Bcblx0XHRyZXR1cm4gYXdhaXQgbG9hZF9yb290X2Vycm9yX3BhZ2Uoe1xuXHRcdFx0c3RhdHVzLFxuXHRcdFx0ZXJyb3IsXG5cdFx0XHR1cmwsXG5cdFx0XHRyb3V0ZVxuXHRcdH0pO1xuXHR9XG5cblx0aWYgKERFViAmJiBzdGF0dXMgIT09IDQwNCkge1xuXHRcdGNvbnNvbGUuZXJyb3IoXG5cdFx0XHQnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgbG9hZGluZyB0aGUgcGFnZS4gVGhpcyB3aWxsIGNhdXNlIGEgZnVsbCBwYWdlIHJlbG9hZC4gKFRoaXMgbWVzc2FnZSB3aWxsIG9ubHkgYXBwZWFyIGR1cmluZyBkZXZlbG9wbWVudC4pJ1xuXHRcdCk7XG5cblx0XHRkZWJ1Z2dlcjsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHR9XG5cblx0cmV0dXJuIGF3YWl0IG5hdGl2ZV9uYXZpZ2F0aW9uKHVybCk7XG59XG5cbmlmIChpbXBvcnQubWV0YS5ob3QpIHtcblx0aW1wb3J0Lm1ldGEuaG90Lm9uKCd2aXRlOmJlZm9yZVVwZGF0ZScsICgpID0+IHtcblx0XHRpZiAoY3VycmVudC5lcnJvcikgbG9jYXRpb24ucmVsb2FkKCk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBzZXR1cF9wcmVsb2FkKCkge1xuXHQvKiogQHR5cGUge05vZGVKUy5UaW1lb3V0fSAqL1xuXHRsZXQgbW91c2Vtb3ZlX3RpbWVvdXQ7XG5cblx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChldmVudCkgPT4ge1xuXHRcdGNvbnN0IHRhcmdldCA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKGV2ZW50LnRhcmdldCk7XG5cblx0XHRjbGVhclRpbWVvdXQobW91c2Vtb3ZlX3RpbWVvdXQpO1xuXHRcdG1vdXNlbW92ZV90aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRwcmVsb2FkKHRhcmdldCwgMik7XG5cdFx0fSwgMjApO1xuXHR9KTtcblxuXHQvKiogQHBhcmFtIHtFdmVudH0gZXZlbnQgKi9cblx0ZnVuY3Rpb24gdGFwKGV2ZW50KSB7XG5cdFx0cHJlbG9hZCgvKiogQHR5cGUge0VsZW1lbnR9ICovIChldmVudC5jb21wb3NlZFBhdGgoKVswXSksIDEpO1xuXHR9XG5cblx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRhcCk7XG5cdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGFwLCB7IHBhc3NpdmU6IHRydWUgfSk7XG5cblx0Y29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG5cdFx0KGVudHJpZXMpID0+IHtcblx0XHRcdGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuXHRcdFx0XHRpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcblx0XHRcdFx0XHRfcHJlbG9hZF9jb2RlKC8qKiBAdHlwZSB7SFRNTEFuY2hvckVsZW1lbnR9ICovIChlbnRyeS50YXJnZXQpLmhyZWYpO1xuXHRcdFx0XHRcdG9ic2VydmVyLnVub2JzZXJ2ZShlbnRyeS50YXJnZXQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHR7IHRocmVzaG9sZDogMCB9XG5cdCk7XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuXHQgKiBAcGFyYW0ge251bWJlcn0gcHJpb3JpdHlcblx0ICovXG5cdGZ1bmN0aW9uIHByZWxvYWQoZWxlbWVudCwgcHJpb3JpdHkpIHtcblx0XHRjb25zdCBhID0gZmluZF9hbmNob3IoZWxlbWVudCwgY29udGFpbmVyKTtcblx0XHRpZiAoIWEpIHJldHVybjtcblxuXHRcdGNvbnN0IHsgdXJsLCBleHRlcm5hbCwgZG93bmxvYWQgfSA9IGdldF9saW5rX2luZm8oYSwgYmFzZSk7XG5cdFx0aWYgKGV4dGVybmFsIHx8IGRvd25sb2FkKSByZXR1cm47XG5cblx0XHRjb25zdCBvcHRpb25zID0gZ2V0X3JvdXRlcl9vcHRpb25zKGEpO1xuXG5cdFx0aWYgKCFvcHRpb25zLnJlbG9hZCkge1xuXHRcdFx0aWYgKHByaW9yaXR5IDw9IG9wdGlvbnMucHJlbG9hZF9kYXRhKSB7XG5cdFx0XHRcdGNvbnN0IGludGVudCA9IGdldF9uYXZpZ2F0aW9uX2ludGVudCh1cmwsIGZhbHNlKTtcblx0XHRcdFx0aWYgKGludGVudCkge1xuXHRcdFx0XHRcdGlmIChERVYpIHtcblx0XHRcdFx0XHRcdF9wcmVsb2FkX2RhdGEoaW50ZW50KS50aGVuKChyZXN1bHQpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKHJlc3VsdC50eXBlID09PSAnbG9hZGVkJyAmJiByZXN1bHQuc3RhdGUuZXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0XHRcdFx0XHRgUHJlbG9hZGluZyBkYXRhIGZvciAke2ludGVudC51cmwucGF0aG5hbWV9IGZhaWxlZCB3aXRoIHRoZSBmb2xsb3dpbmcgZXJyb3I6ICR7cmVzdWx0LnN0YXRlLmVycm9yLm1lc3NhZ2V9XFxuYCArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdJZiB0aGlzIGVycm9yIGlzIHRyYW5zaWVudCwgeW91IGNhbiBpZ25vcmUgaXQuIE90aGVyd2lzZSwgY29uc2lkZXIgZGlzYWJsaW5nIHByZWxvYWRpbmcgZm9yIHRoaXMgcm91dGUuICcgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQnVGhpcyByb3V0ZSB3YXMgcHJlbG9hZGVkIGR1ZSB0byBhIGRhdGEtc3ZlbHRla2l0LXByZWxvYWQtZGF0YSBhdHRyaWJ1dGUuICcgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQnU2VlIGh0dHBzOi8va2l0LnN2ZWx0ZS5kZXYvZG9jcy9saW5rLW9wdGlvbnMgZm9yIG1vcmUgaW5mbydcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0X3ByZWxvYWRfZGF0YShpbnRlbnQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChwcmlvcml0eSA8PSBvcHRpb25zLnByZWxvYWRfY29kZSkge1xuXHRcdFx0XHRfcHJlbG9hZF9jb2RlKC8qKiBAdHlwZSB7VVJMfSAqLyAodXJsKS5wYXRobmFtZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gYWZ0ZXJfbmF2aWdhdGUoKSB7XG5cdFx0b2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuXG5cdFx0Zm9yIChjb25zdCBhIG9mIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdhJykpIHtcblx0XHRcdGNvbnN0IHsgdXJsLCBleHRlcm5hbCwgZG93bmxvYWQgfSA9IGdldF9saW5rX2luZm8oYSwgYmFzZSk7XG5cdFx0XHRpZiAoZXh0ZXJuYWwgfHwgZG93bmxvYWQpIGNvbnRpbnVlO1xuXG5cdFx0XHRjb25zdCBvcHRpb25zID0gZ2V0X3JvdXRlcl9vcHRpb25zKGEpO1xuXHRcdFx0aWYgKG9wdGlvbnMucmVsb2FkKSBjb250aW51ZTtcblxuXHRcdFx0aWYgKG9wdGlvbnMucHJlbG9hZF9jb2RlID09PSBQUkVMT0FEX1BSSU9SSVRJRVMudmlld3BvcnQpIHtcblx0XHRcdFx0b2JzZXJ2ZXIub2JzZXJ2ZShhKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG9wdGlvbnMucHJlbG9hZF9jb2RlID09PSBQUkVMT0FEX1BSSU9SSVRJRVMuZWFnZXIpIHtcblx0XHRcdFx0X3ByZWxvYWRfY29kZSgvKiogQHR5cGUge1VSTH0gKi8gKHVybCkucGF0aG5hbWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGFmdGVyX25hdmlnYXRlX2NhbGxiYWNrcy5wdXNoKGFmdGVyX25hdmlnYXRlKTtcblx0YWZ0ZXJfbmF2aWdhdGUoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3Vua25vd259IGVycm9yXG4gKiBAcGFyYW0ge2ltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLk5hdmlnYXRpb25FdmVudH0gZXZlbnRcbiAqIEByZXR1cm5zIHtpbXBvcnQoJ3R5cGVzJykuTWF5YmVQcm9taXNlPEFwcC5FcnJvcj59XG4gKi9cbmZ1bmN0aW9uIGhhbmRsZV9lcnJvcihlcnJvciwgZXZlbnQpIHtcblx0aWYgKGVycm9yIGluc3RhbmNlb2YgSHR0cEVycm9yKSB7XG5cdFx0cmV0dXJuIGVycm9yLmJvZHk7XG5cdH1cblxuXHRpZiAoREVWKSB7XG5cdFx0ZXJyb3JlZCA9IHRydWU7XG5cdFx0Y29uc29sZS53YXJuKCdUaGUgbmV4dCBITVIgdXBkYXRlIHdpbGwgY2F1c2UgdGhlIHBhZ2UgdG8gcmVsb2FkJyk7XG5cdH1cblxuXHRjb25zdCBzdGF0dXMgPSBnZXRfc3RhdHVzKGVycm9yKTtcblx0Y29uc3QgbWVzc2FnZSA9IGdldF9tZXNzYWdlKGVycm9yKTtcblxuXHRyZXR1cm4gKFxuXHRcdGFwcC5ob29rcy5oYW5kbGVFcnJvcih7IGVycm9yLCBldmVudCwgc3RhdHVzLCBtZXNzYWdlIH0pID8/IC8qKiBAdHlwZSB7YW55fSAqLyAoeyBtZXNzYWdlIH0pXG5cdCk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtGdW5jdGlvbn0gVFxuICogQHBhcmFtIHtUW119IGNhbGxiYWNrc1xuICogQHBhcmFtIHtUfSBjYWxsYmFja1xuICovXG5mdW5jdGlvbiBhZGRfbmF2aWdhdGlvbl9jYWxsYmFjayhjYWxsYmFja3MsIGNhbGxiYWNrKSB7XG5cdG9uTW91bnQoKCkgPT4ge1xuXHRcdGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblxuXHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRjb25zdCBpID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuXHRcdFx0Y2FsbGJhY2tzLnNwbGljZShpLCAxKTtcblx0XHR9O1xuXHR9KTtcbn1cblxuLyoqXG4gKiBBIGxpZmVjeWNsZSBmdW5jdGlvbiB0aGF0IHJ1bnMgdGhlIHN1cHBsaWVkIGBjYWxsYmFja2Agd2hlbiB0aGUgY3VycmVudCBjb21wb25lbnQgbW91bnRzLCBhbmQgYWxzbyB3aGVuZXZlciB3ZSBuYXZpZ2F0ZSB0byBhIG5ldyBVUkwuXG4gKlxuICogYGFmdGVyTmF2aWdhdGVgIG11c3QgYmUgY2FsbGVkIGR1cmluZyBhIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbi4gSXQgcmVtYWlucyBhY3RpdmUgYXMgbG9uZyBhcyB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWQuXG4gKiBAcGFyYW0geyhuYXZpZ2F0aW9uOiBpbXBvcnQoJ0BzdmVsdGVqcy9raXQnKS5BZnRlck5hdmlnYXRlKSA9PiB2b2lkfSBjYWxsYmFja1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZnRlck5hdmlnYXRlKGNhbGxiYWNrKSB7XG5cdGFkZF9uYXZpZ2F0aW9uX2NhbGxiYWNrKGFmdGVyX25hdmlnYXRlX2NhbGxiYWNrcywgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqIEEgbmF2aWdhdGlvbiBpbnRlcmNlcHRvciB0aGF0IHRyaWdnZXJzIGJlZm9yZSB3ZSBuYXZpZ2F0ZSB0byBhIG5ldyBVUkwsIHdoZXRoZXIgYnkgY2xpY2tpbmcgYSBsaW5rLCBjYWxsaW5nIGBnb3RvKC4uLilgLCBvciB1c2luZyB0aGUgYnJvd3NlciBiYWNrL2ZvcndhcmQgY29udHJvbHMuXG4gKlxuICogQ2FsbGluZyBgY2FuY2VsKClgIHdpbGwgcHJldmVudCB0aGUgbmF2aWdhdGlvbiBmcm9tIGNvbXBsZXRpbmcuIElmIGBuYXZpZ2F0aW9uLnR5cGUgPT09ICdsZWF2ZSdgIOKAlCBtZWFuaW5nIHRoZSB1c2VyIGlzIG5hdmlnYXRpbmcgYXdheSBmcm9tIHRoZSBhcHAgKG9yIGNsb3NpbmcgdGhlIHRhYikg4oCUIGNhbGxpbmcgYGNhbmNlbGAgd2lsbCB0cmlnZ2VyIHRoZSBuYXRpdmUgYnJvd3NlciB1bmxvYWQgY29uZmlybWF0aW9uIGRpYWxvZy4gSW4gdGhpcyBjYXNlLCB0aGUgbmF2aWdhdGlvbiBtYXkgb3IgbWF5IG5vdCBiZSBjYW5jZWxsZWQgZGVwZW5kaW5nIG9uIHRoZSB1c2VyJ3MgcmVzcG9uc2UuXG4gKlxuICogV2hlbiBhIG5hdmlnYXRpb24gaXNuJ3QgdG8gYSBTdmVsdGVLaXQtb3duZWQgcm91dGUgKGFuZCB0aGVyZWZvcmUgY29udHJvbGxlZCBieSBTdmVsdGVLaXQncyBjbGllbnQtc2lkZSByb3V0ZXIpLCBgbmF2aWdhdGlvbi50by5yb3V0ZS5pZGAgd2lsbCBiZSBgbnVsbGAuXG4gKlxuICogSWYgdGhlIG5hdmlnYXRpb24gd2lsbCAoaWYgbm90IGNhbmNlbGxlZCkgY2F1c2UgdGhlIGRvY3VtZW50IHRvIHVubG9hZCDigJQgaW4gb3RoZXIgd29yZHMgYCdsZWF2ZSdgIG5hdmlnYXRpb25zIGFuZCBgJ2xpbmsnYCBuYXZpZ2F0aW9ucyB3aGVyZSBgbmF2aWdhdGlvbi50by5yb3V0ZSA9PT0gbnVsbGAg4oCUIGBuYXZpZ2F0aW9uLndpbGxVbmxvYWRgIGlzIGB0cnVlYC5cbiAqXG4gKiBgYmVmb3JlTmF2aWdhdGVgIG11c3QgYmUgY2FsbGVkIGR1cmluZyBhIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbi4gSXQgcmVtYWlucyBhY3RpdmUgYXMgbG9uZyBhcyB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWQuXG4gKiBAcGFyYW0geyhuYXZpZ2F0aW9uOiBpbXBvcnQoJ0BzdmVsdGVqcy9raXQnKS5CZWZvcmVOYXZpZ2F0ZSkgPT4gdm9pZH0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmVmb3JlTmF2aWdhdGUoY2FsbGJhY2spIHtcblx0YWRkX25hdmlnYXRpb25fY2FsbGJhY2soYmVmb3JlX25hdmlnYXRlX2NhbGxiYWNrcywgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqIEEgbGlmZWN5Y2xlIGZ1bmN0aW9uIHRoYXQgcnVucyB0aGUgc3VwcGxpZWQgYGNhbGxiYWNrYCBpbW1lZGlhdGVseSBiZWZvcmUgd2UgbmF2aWdhdGUgdG8gYSBuZXcgVVJMIGV4Y2VwdCBkdXJpbmcgZnVsbC1wYWdlIG5hdmlnYXRpb25zLlxuICpcbiAqIElmIHlvdSByZXR1cm4gYSBgUHJvbWlzZWAsIFN2ZWx0ZUtpdCB3aWxsIHdhaXQgZm9yIGl0IHRvIHJlc29sdmUgYmVmb3JlIGNvbXBsZXRpbmcgdGhlIG5hdmlnYXRpb24uIFRoaXMgYWxsb3dzIHlvdSB0byDigJQgZm9yIGV4YW1wbGUg4oCUIHVzZSBgZG9jdW1lbnQuc3RhcnRWaWV3VHJhbnNpdGlvbmAuIEF2b2lkIHByb21pc2VzIHRoYXQgYXJlIHNsb3cgdG8gcmVzb2x2ZSwgc2luY2UgbmF2aWdhdGlvbiB3aWxsIGFwcGVhciBzdGFsbGVkIHRvIHRoZSB1c2VyLlxuICpcbiAqIElmIGEgZnVuY3Rpb24gKG9yIGEgYFByb21pc2VgIHRoYXQgcmVzb2x2ZXMgdG8gYSBmdW5jdGlvbikgaXMgcmV0dXJuZWQgZnJvbSB0aGUgY2FsbGJhY2ssIGl0IHdpbGwgYmUgY2FsbGVkIG9uY2UgdGhlIERPTSBoYXMgdXBkYXRlZC5cbiAqXG4gKiBgb25OYXZpZ2F0ZWAgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIGEgY29tcG9uZW50IGluaXRpYWxpemF0aW9uLiBJdCByZW1haW5zIGFjdGl2ZSBhcyBsb25nIGFzIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZC5cbiAqIEBwYXJhbSB7KG5hdmlnYXRpb246IGltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLk9uTmF2aWdhdGUpID0+IGltcG9ydCgndHlwZXMnKS5NYXliZVByb21pc2U8KCgpID0+IHZvaWQpIHwgdm9pZD59IGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uTmF2aWdhdGUoY2FsbGJhY2spIHtcblx0YWRkX25hdmlnYXRpb25fY2FsbGJhY2sob25fbmF2aWdhdGVfY2FsbGJhY2tzLCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICogSWYgY2FsbGVkIHdoZW4gdGhlIHBhZ2UgaXMgYmVpbmcgdXBkYXRlZCBmb2xsb3dpbmcgYSBuYXZpZ2F0aW9uIChpbiBgb25Nb3VudGAgb3IgYGFmdGVyTmF2aWdhdGVgIG9yIGFuIGFjdGlvbiwgZm9yIGV4YW1wbGUpLCB0aGlzIGRpc2FibGVzIFN2ZWx0ZUtpdCdzIGJ1aWx0LWluIHNjcm9sbCBoYW5kbGluZy5cbiAqIFRoaXMgaXMgZ2VuZXJhbGx5IGRpc2NvdXJhZ2VkLCBzaW5jZSBpdCBicmVha3MgdXNlciBleHBlY3RhdGlvbnMuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVTY3JvbGxIYW5kbGluZygpIHtcblx0aWYgKCFCUk9XU0VSKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsbCBkaXNhYmxlU2Nyb2xsSGFuZGxpbmcoKSBvbiB0aGUgc2VydmVyJyk7XG5cdH1cblxuXHRpZiAoREVWICYmIHN0YXJ0ZWQgJiYgIXVwZGF0aW5nKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdDYW4gb25seSBkaXNhYmxlIHNjcm9sbCBoYW5kbGluZyBkdXJpbmcgbmF2aWdhdGlvbicpO1xuXHR9XG5cblx0aWYgKHVwZGF0aW5nIHx8ICFzdGFydGVkKSB7XG5cdFx0YXV0b3Njcm9sbCA9IGZhbHNlO1xuXHR9XG59XG5cbi8qKlxuICogUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIFN2ZWx0ZUtpdCBuYXZpZ2F0ZXMgKG9yIGZhaWxzIHRvIG5hdmlnYXRlLCBpbiB3aGljaCBjYXNlIHRoZSBwcm9taXNlIHJlamVjdHMpIHRvIHRoZSBzcGVjaWZpZWQgYHVybGAuXG4gKiBGb3IgZXh0ZXJuYWwgVVJMcywgdXNlIGB3aW5kb3cubG9jYXRpb24gPSB1cmxgIGluc3RlYWQgb2YgY2FsbGluZyBgZ290byh1cmwpYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZyB8IFVSTH0gdXJsIFdoZXJlIHRvIG5hdmlnYXRlIHRvLiBOb3RlIHRoYXQgaWYgeW91J3ZlIHNldCBbYGNvbmZpZy5raXQucGF0aHMuYmFzZWBdKGh0dHBzOi8va2l0LnN2ZWx0ZS5kZXYvZG9jcy9jb25maWd1cmF0aW9uI3BhdGhzKSBhbmQgdGhlIFVSTCBpcyByb290LXJlbGF0aXZlLCB5b3UgbmVlZCB0byBwcmVwZW5kIHRoZSBiYXNlIHBhdGggaWYgeW91IHdhbnQgdG8gbmF2aWdhdGUgd2l0aGluIHRoZSBhcHAuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdHNdIE9wdGlvbnMgcmVsYXRlZCB0byB0aGUgbmF2aWdhdGlvblxuICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5yZXBsYWNlU3RhdGVdIElmIGB0cnVlYCwgd2lsbCByZXBsYWNlIHRoZSBjdXJyZW50IGBoaXN0b3J5YCBlbnRyeSByYXRoZXIgdGhhbiBjcmVhdGluZyBhIG5ldyBvbmUgd2l0aCBgcHVzaFN0YXRlYFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5ub1Njcm9sbF0gSWYgYHRydWVgLCB0aGUgYnJvd3NlciB3aWxsIG1haW50YWluIGl0cyBzY3JvbGwgcG9zaXRpb24gcmF0aGVyIHRoYW4gc2Nyb2xsaW5nIHRvIHRoZSB0b3Agb2YgdGhlIHBhZ2UgYWZ0ZXIgbmF2aWdhdGlvblxuICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5rZWVwRm9jdXNdIElmIGB0cnVlYCwgdGhlIGN1cnJlbnRseSBmb2N1c2VkIGVsZW1lbnQgd2lsbCByZXRhaW4gZm9jdXMgYWZ0ZXIgbmF2aWdhdGlvbi4gT3RoZXJ3aXNlLCBmb2N1cyB3aWxsIGJlIHJlc2V0IHRvIHRoZSBib2R5XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmludmFsaWRhdGVBbGxdIElmIGB0cnVlYCwgYWxsIGBsb2FkYCBmdW5jdGlvbnMgb2YgdGhlIHBhZ2Ugd2lsbCBiZSByZXJ1bi4gU2VlIGh0dHBzOi8va2l0LnN2ZWx0ZS5kZXYvZG9jcy9sb2FkI3JlcnVubmluZy1sb2FkLWZ1bmN0aW9ucyBmb3IgbW9yZSBpbmZvIG9uIGludmFsaWRhdGlvbi5cbiAqIEBwYXJhbSB7QXBwLlBhZ2VTdGF0ZX0gW29wdHMuc3RhdGVdIEFuIG9wdGlvbmFsIG9iamVjdCB0aGF0IHdpbGwgYmUgYXZhaWxhYmxlIG9uIHRoZSBgJHBhZ2Uuc3RhdGVgIHN0b3JlXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdvdG8odXJsLCBvcHRzID0ge30pIHtcblx0aWYgKCFCUk9XU0VSKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsbCBnb3RvKC4uLikgb24gdGhlIHNlcnZlcicpO1xuXHR9XG5cblx0dXJsID0gcmVzb2x2ZV91cmwodXJsKTtcblxuXHRpZiAodXJsLm9yaWdpbiAhPT0gb3JpZ2luKSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KFxuXHRcdFx0bmV3IEVycm9yKFxuXHRcdFx0XHRERVZcblx0XHRcdFx0XHQ/IGBDYW5ub3QgdXNlIFxcYGdvdG9cXGAgd2l0aCBhbiBleHRlcm5hbCBVUkwuIFVzZSBcXGB3aW5kb3cubG9jYXRpb24gPSBcIiR7dXJsfVwiXFxgIGluc3RlYWRgXG5cdFx0XHRcdFx0OiAnZ290bzogaW52YWxpZCBVUkwnXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxuXG5cdHJldHVybiBfZ290byh1cmwsIG9wdHMsIDApO1xufVxuXG4vKipcbiAqIENhdXNlcyBhbnkgYGxvYWRgIGZ1bmN0aW9ucyBiZWxvbmdpbmcgdG8gdGhlIGN1cnJlbnRseSBhY3RpdmUgcGFnZSB0byByZS1ydW4gaWYgdGhleSBkZXBlbmQgb24gdGhlIGB1cmxgIGluIHF1ZXN0aW9uLCB2aWEgYGZldGNoYCBvciBgZGVwZW5kc2AuIFJldHVybnMgYSBgUHJvbWlzZWAgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBwYWdlIGlzIHN1YnNlcXVlbnRseSB1cGRhdGVkLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBnaXZlbiBhcyBhIGBzdHJpbmdgIG9yIGBVUkxgLCBpdCBtdXN0IHJlc29sdmUgdG8gdGhlIHNhbWUgVVJMIHRoYXQgd2FzIHBhc3NlZCB0byBgZmV0Y2hgIG9yIGBkZXBlbmRzYCAoaW5jbHVkaW5nIHF1ZXJ5IHBhcmFtZXRlcnMpLlxuICogVG8gY3JlYXRlIGEgY3VzdG9tIGlkZW50aWZpZXIsIHVzZSBhIHN0cmluZyBiZWdpbm5pbmcgd2l0aCBgW2Etel0rOmAgKGUuZy4gYGN1c3RvbTpzdGF0ZWApIOKAlCB0aGlzIGlzIGEgdmFsaWQgVVJMLlxuICpcbiAqIFRoZSBgZnVuY3Rpb25gIGFyZ3VtZW50IGNhbiBiZSB1c2VkIGRlZmluZSBhIGN1c3RvbSBwcmVkaWNhdGUuIEl0IHJlY2VpdmVzIHRoZSBmdWxsIGBVUkxgIGFuZCBjYXVzZXMgYGxvYWRgIHRvIHJlcnVuIGlmIGB0cnVlYCBpcyByZXR1cm5lZC5cbiAqIFRoaXMgY2FuIGJlIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byBpbnZhbGlkYXRlIGJhc2VkIG9uIGEgcGF0dGVybiBpbnN0ZWFkIG9mIGEgZXhhY3QgbWF0Y2guXG4gKlxuICogYGBgdHNcbiAqIC8vIEV4YW1wbGU6IE1hdGNoICcvcGF0aCcgcmVnYXJkbGVzcyBvZiB0aGUgcXVlcnkgcGFyYW1ldGVyc1xuICogaW1wb3J0IHsgaW52YWxpZGF0ZSB9IGZyb20gJyRhcHAvbmF2aWdhdGlvbic7XG4gKlxuICogaW52YWxpZGF0ZSgodXJsKSA9PiB1cmwucGF0aG5hbWUgPT09ICcvcGF0aCcpO1xuICogYGBgXG4gKiBAcGFyYW0ge3N0cmluZyB8IFVSTCB8ICgodXJsOiBVUkwpID0+IGJvb2xlYW4pfSByZXNvdXJjZSBUaGUgaW52YWxpZGF0ZWQgVVJMXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmFsaWRhdGUocmVzb3VyY2UpIHtcblx0aWYgKCFCUk9XU0VSKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsbCBpbnZhbGlkYXRlKC4uLikgb24gdGhlIHNlcnZlcicpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiByZXNvdXJjZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdGludmFsaWRhdGVkLnB1c2gocmVzb3VyY2UpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnN0IHsgaHJlZiB9ID0gbmV3IFVSTChyZXNvdXJjZSwgbG9jYXRpb24uaHJlZik7XG5cdFx0aW52YWxpZGF0ZWQucHVzaCgodXJsKSA9PiB1cmwuaHJlZiA9PT0gaHJlZik7XG5cdH1cblxuXHRyZXR1cm4gX2ludmFsaWRhdGUoKTtcbn1cblxuLyoqXG4gKiBDYXVzZXMgYWxsIGBsb2FkYCBmdW5jdGlvbnMgYmVsb25naW5nIHRvIHRoZSBjdXJyZW50bHkgYWN0aXZlIHBhZ2UgdG8gcmUtcnVuLiBSZXR1cm5zIGEgYFByb21pc2VgIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgcGFnZSBpcyBzdWJzZXF1ZW50bHkgdXBkYXRlZC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52YWxpZGF0ZUFsbCgpIHtcblx0aWYgKCFCUk9XU0VSKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsbCBpbnZhbGlkYXRlQWxsKCkgb24gdGhlIHNlcnZlcicpO1xuXHR9XG5cblx0Zm9yY2VfaW52YWxpZGF0aW9uID0gdHJ1ZTtcblx0cmV0dXJuIF9pbnZhbGlkYXRlKCk7XG59XG5cbi8qKlxuICogUHJvZ3JhbW1hdGljYWxseSBwcmVsb2FkcyB0aGUgZ2l2ZW4gcGFnZSwgd2hpY2ggbWVhbnNcbiAqICAxLiBlbnN1cmluZyB0aGF0IHRoZSBjb2RlIGZvciB0aGUgcGFnZSBpcyBsb2FkZWQsIGFuZFxuICogIDIuIGNhbGxpbmcgdGhlIHBhZ2UncyBsb2FkIGZ1bmN0aW9uIHdpdGggdGhlIGFwcHJvcHJpYXRlIG9wdGlvbnMuXG4gKlxuICogVGhpcyBpcyB0aGUgc2FtZSBiZWhhdmlvdXIgdGhhdCBTdmVsdGVLaXQgdHJpZ2dlcnMgd2hlbiB0aGUgdXNlciB0YXBzIG9yIG1vdXNlcyBvdmVyIGFuIGA8YT5gIGVsZW1lbnQgd2l0aCBgZGF0YS1zdmVsdGVraXQtcHJlbG9hZC1kYXRhYC5cbiAqIElmIHRoZSBuZXh0IG5hdmlnYXRpb24gaXMgdG8gYGhyZWZgLCB0aGUgdmFsdWVzIHJldHVybmVkIGZyb20gbG9hZCB3aWxsIGJlIHVzZWQsIG1ha2luZyBuYXZpZ2F0aW9uIGluc3RhbnRhbmVvdXMuXG4gKiBSZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHJlc3VsdCBvZiBydW5uaW5nIHRoZSBuZXcgcm91dGUncyBgbG9hZGAgZnVuY3Rpb25zIG9uY2UgdGhlIHByZWxvYWQgaXMgY29tcGxldGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGhyZWYgUGFnZSB0byBwcmVsb2FkXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx7IHR5cGU6ICdsb2FkZWQnOyBzdGF0dXM6IG51bWJlcjsgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiB9IHwgeyB0eXBlOiAncmVkaXJlY3QnOyBsb2NhdGlvbjogc3RyaW5nIH0+fVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJlbG9hZERhdGEoaHJlZikge1xuXHRpZiAoIUJST1dTRVIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxsIHByZWxvYWREYXRhKC4uLikgb24gdGhlIHNlcnZlcicpO1xuXHR9XG5cblx0Y29uc3QgdXJsID0gcmVzb2x2ZV91cmwoaHJlZik7XG5cdGNvbnN0IGludGVudCA9IGdldF9uYXZpZ2F0aW9uX2ludGVudCh1cmwsIGZhbHNlKTtcblxuXHRpZiAoIWludGVudCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihgQXR0ZW1wdGVkIHRvIHByZWxvYWQgYSBVUkwgdGhhdCBkb2VzIG5vdCBiZWxvbmcgdG8gdGhpcyBhcHA6ICR7dXJsfWApO1xuXHR9XG5cblx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgX3ByZWxvYWRfZGF0YShpbnRlbnQpO1xuXHRpZiAocmVzdWx0LnR5cGUgPT09ICdyZWRpcmVjdCcpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dHlwZTogcmVzdWx0LnR5cGUsXG5cdFx0XHRsb2NhdGlvbjogcmVzdWx0LmxvY2F0aW9uXG5cdFx0fTtcblx0fVxuXG5cdGNvbnN0IHsgc3RhdHVzLCBkYXRhIH0gPSByZXN1bHQucHJvcHMucGFnZSA/PyBwYWdlO1xuXHRyZXR1cm4geyB0eXBlOiByZXN1bHQudHlwZSwgc3RhdHVzLCBkYXRhIH07XG59XG5cbi8qKlxuICogUHJvZ3JhbW1hdGljYWxseSBpbXBvcnRzIHRoZSBjb2RlIGZvciByb3V0ZXMgdGhhdCBoYXZlbid0IHlldCBiZWVuIGZldGNoZWQuXG4gKiBUeXBpY2FsbHksIHlvdSBtaWdodCBjYWxsIHRoaXMgdG8gc3BlZWQgdXAgc3Vic2VxdWVudCBuYXZpZ2F0aW9uLlxuICpcbiAqIFlvdSBjYW4gc3BlY2lmeSByb3V0ZXMgYnkgYW55IG1hdGNoaW5nIHBhdGhuYW1lIHN1Y2ggYXMgYC9hYm91dGAgKHRvIG1hdGNoIGBzcmMvcm91dGVzL2Fib3V0LytwYWdlLnN2ZWx0ZWApIG9yIGAvYmxvZy8qYCAodG8gbWF0Y2ggYHNyYy9yb3V0ZXMvYmxvZy9bc2x1Z10vK3BhZ2Uuc3ZlbHRlYCkuXG4gKlxuICogVW5saWtlIGBwcmVsb2FkRGF0YWAsIHRoaXMgd29uJ3QgY2FsbCBgbG9hZGAgZnVuY3Rpb25zLlxuICogUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBtb2R1bGVzIGhhdmUgYmVlbiBpbXBvcnRlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aG5hbWVcbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlbG9hZENvZGUocGF0aG5hbWUpIHtcblx0aWYgKCFCUk9XU0VSKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsbCBwcmVsb2FkQ29kZSguLi4pIG9uIHRoZSBzZXJ2ZXInKTtcblx0fVxuXG5cdGlmIChERVYpIHtcblx0XHRpZiAoIXBhdGhuYW1lLnN0YXJ0c1dpdGgoYmFzZSkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YHBhdGhuYW1lcyBwYXNzZWQgdG8gcHJlbG9hZENvZGUgbXVzdCBzdGFydCB3aXRoIFxcYHBhdGhzLmJhc2VcXGAgKGkuZS4gXCIke2Jhc2V9JHtwYXRobmFtZX1cIiByYXRoZXIgdGhhbiBcIiR7cGF0aG5hbWV9XCIpYFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRpZiAoIXJvdXRlcy5maW5kKChyb3V0ZSkgPT4gcm91dGUuZXhlYyhnZXRfdXJsX3BhdGgocGF0aG5hbWUpKSkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgJyR7cGF0aG5hbWV9JyBkaWQgbm90IG1hdGNoIGFueSByb3V0ZXNgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gX3ByZWxvYWRfY29kZShwYXRobmFtZSk7XG59XG5cbi8qKlxuICogUHJvZ3JhbW1hdGljYWxseSBjcmVhdGUgYSBuZXcgaGlzdG9yeSBlbnRyeSB3aXRoIHRoZSBnaXZlbiBgJHBhZ2Uuc3RhdGVgLiBUbyB1c2UgdGhlIGN1cnJlbnQgVVJMLCB5b3UgY2FuIHBhc3MgYCcnYCBhcyB0aGUgZmlyc3QgYXJndW1lbnQuIFVzZWQgZm9yIFtzaGFsbG93IHJvdXRpbmddKGh0dHBzOi8va2l0LnN2ZWx0ZS5kZXYvZG9jcy9zaGFsbG93LXJvdXRpbmcpLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nIHwgVVJMfSB1cmxcbiAqIEBwYXJhbSB7QXBwLlBhZ2VTdGF0ZX0gc3RhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHVzaFN0YXRlKHVybCwgc3RhdGUpIHtcblx0aWYgKCFCUk9XU0VSKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsbCBwdXNoU3RhdGUoLi4uKSBvbiB0aGUgc2VydmVyJyk7XG5cdH1cblxuXHRpZiAoREVWKSB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIHVzZSBgZGV2YWx1ZS5zdHJpbmdpZnlgIGFzIGEgY29udmVuaWVudCB3YXkgdG8gZW5zdXJlIHdlIGV4Y2x1ZGUgdmFsdWVzIHRoYXQgY2FuJ3QgYmUgcHJvcGVybHkgcmVoeWRyYXRlZCwgc3VjaCBhcyBjdXN0b20gY2xhc3MgaW5zdGFuY2VzXG5cdFx0XHRkZXZhbHVlLnN0cmluZ2lmeShzdGF0ZSk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRcdHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IHNlcmlhbGl6ZSBzdGF0ZSR7ZXJyb3IucGF0aH1gKTtcblx0XHR9XG5cdH1cblxuXHR1cGRhdGVfc2Nyb2xsX3Bvc2l0aW9ucyhjdXJyZW50X2hpc3RvcnlfaW5kZXgpO1xuXG5cdGNvbnN0IG9wdHMgPSB7XG5cdFx0W0hJU1RPUllfSU5ERVhdOiAoY3VycmVudF9oaXN0b3J5X2luZGV4ICs9IDEpLFxuXHRcdFtOQVZJR0FUSU9OX0lOREVYXTogY3VycmVudF9uYXZpZ2F0aW9uX2luZGV4LFxuXHRcdFtQQUdFX1VSTF9LRVldOiBwYWdlLnVybC5ocmVmLFxuXHRcdFtTVEFURVNfS0VZXTogc3RhdGVcblx0fTtcblxuXHRoaXN0b3J5LnB1c2hTdGF0ZShvcHRzLCAnJywgcmVzb2x2ZV91cmwodXJsKSk7XG5cdGhhc19uYXZpZ2F0ZWQgPSB0cnVlO1xuXG5cdHBhZ2UgPSB7IC4uLnBhZ2UsIHN0YXRlIH07XG5cdHJvb3QuJHNldCh7IHBhZ2UgfSk7XG5cblx0Y2xlYXJfb253YXJkX2hpc3RvcnkoY3VycmVudF9oaXN0b3J5X2luZGV4LCBjdXJyZW50X25hdmlnYXRpb25faW5kZXgpO1xufVxuXG4vKipcbiAqIFByb2dyYW1tYXRpY2FsbHkgcmVwbGFjZSB0aGUgY3VycmVudCBoaXN0b3J5IGVudHJ5IHdpdGggdGhlIGdpdmVuIGAkcGFnZS5zdGF0ZWAuIFRvIHVzZSB0aGUgY3VycmVudCBVUkwsIHlvdSBjYW4gcGFzcyBgJydgIGFzIHRoZSBmaXJzdCBhcmd1bWVudC4gVXNlZCBmb3IgW3NoYWxsb3cgcm91dGluZ10oaHR0cHM6Ly9raXQuc3ZlbHRlLmRldi9kb2NzL3NoYWxsb3ctcm91dGluZykuXG4gKlxuICogQHBhcmFtIHtzdHJpbmcgfCBVUkx9IHVybFxuICogQHBhcmFtIHtBcHAuUGFnZVN0YXRlfSBzdGF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlU3RhdGUodXJsLCBzdGF0ZSkge1xuXHRpZiAoIUJST1dTRVIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxsIHJlcGxhY2VTdGF0ZSguLi4pIG9uIHRoZSBzZXJ2ZXInKTtcblx0fVxuXG5cdGlmIChERVYpIHtcblx0XHR0cnkge1xuXHRcdFx0Ly8gdXNlIGBkZXZhbHVlLnN0cmluZ2lmeWAgYXMgYSBjb252ZW5pZW50IHdheSB0byBlbnN1cmUgd2UgZXhjbHVkZSB2YWx1ZXMgdGhhdCBjYW4ndCBiZSBwcm9wZXJseSByZWh5ZHJhdGVkLCBzdWNoIGFzIGN1c3RvbSBjbGFzcyBpbnN0YW5jZXNcblx0XHRcdGRldmFsdWUuc3RyaW5naWZ5KHN0YXRlKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3Qgc2VyaWFsaXplIHN0YXRlJHtlcnJvci5wYXRofWApO1xuXHRcdH1cblx0fVxuXG5cdGNvbnN0IG9wdHMgPSB7XG5cdFx0W0hJU1RPUllfSU5ERVhdOiBjdXJyZW50X2hpc3RvcnlfaW5kZXgsXG5cdFx0W05BVklHQVRJT05fSU5ERVhdOiBjdXJyZW50X25hdmlnYXRpb25faW5kZXgsXG5cdFx0W1BBR0VfVVJMX0tFWV06IHBhZ2UudXJsLmhyZWYsXG5cdFx0W1NUQVRFU19LRVldOiBzdGF0ZVxuXHR9O1xuXG5cdGhpc3RvcnkucmVwbGFjZVN0YXRlKG9wdHMsICcnLCByZXNvbHZlX3VybCh1cmwpKTtcblxuXHRwYWdlID0geyAuLi5wYWdlLCBzdGF0ZSB9O1xuXHRyb290LiRzZXQoeyBwYWdlIH0pO1xufVxuXG4vKipcbiAqIFRoaXMgYWN0aW9uIHVwZGF0ZXMgdGhlIGBmb3JtYCBwcm9wZXJ0eSBvZiB0aGUgY3VycmVudCBwYWdlIHdpdGggdGhlIGdpdmVuIGRhdGEgYW5kIHVwZGF0ZXMgYCRwYWdlLnN0YXR1c2AuXG4gKiBJbiBjYXNlIG9mIGFuIGVycm9yLCBpdCByZWRpcmVjdHMgdG8gdGhlIG5lYXJlc3QgZXJyb3IgcGFnZS5cbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCB1bmRlZmluZWR9IFN1Y2Nlc3NcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCB1bmRlZmluZWR9IEZhaWx1cmVcbiAqIEBwYXJhbSB7aW1wb3J0KCdAc3ZlbHRlanMva2l0JykuQWN0aW9uUmVzdWx0PFN1Y2Nlc3MsIEZhaWx1cmU+fSByZXN1bHRcbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXBwbHlBY3Rpb24ocmVzdWx0KSB7XG5cdGlmICghQlJPV1NFUikge1xuXHRcdHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGwgYXBwbHlBY3Rpb24oLi4uKSBvbiB0aGUgc2VydmVyJyk7XG5cdH1cblxuXHRpZiAocmVzdWx0LnR5cGUgPT09ICdlcnJvcicpIHtcblx0XHRjb25zdCB1cmwgPSBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpO1xuXG5cdFx0Y29uc3QgeyBicmFuY2gsIHJvdXRlIH0gPSBjdXJyZW50O1xuXHRcdGlmICghcm91dGUpIHJldHVybjtcblxuXHRcdGNvbnN0IGVycm9yX2xvYWQgPSBhd2FpdCBsb2FkX25lYXJlc3RfZXJyb3JfcGFnZShjdXJyZW50LmJyYW5jaC5sZW5ndGgsIGJyYW5jaCwgcm91dGUuZXJyb3JzKTtcblx0XHRpZiAoZXJyb3JfbG9hZCkge1xuXHRcdFx0Y29uc3QgbmF2aWdhdGlvbl9yZXN1bHQgPSBhd2FpdCBnZXRfbmF2aWdhdGlvbl9yZXN1bHRfZnJvbV9icmFuY2goe1xuXHRcdFx0XHR1cmwsXG5cdFx0XHRcdHBhcmFtczogY3VycmVudC5wYXJhbXMsXG5cdFx0XHRcdGJyYW5jaDogYnJhbmNoLnNsaWNlKDAsIGVycm9yX2xvYWQuaWR4KS5jb25jYXQoZXJyb3JfbG9hZC5ub2RlKSxcblx0XHRcdFx0c3RhdHVzOiByZXN1bHQuc3RhdHVzID8/IDUwMCxcblx0XHRcdFx0ZXJyb3I6IHJlc3VsdC5lcnJvcixcblx0XHRcdFx0cm91dGVcblx0XHRcdH0pO1xuXG5cdFx0XHRjdXJyZW50ID0gbmF2aWdhdGlvbl9yZXN1bHQuc3RhdGU7XG5cblx0XHRcdHJvb3QuJHNldChuYXZpZ2F0aW9uX3Jlc3VsdC5wcm9wcyk7XG5cblx0XHRcdHRpY2soKS50aGVuKHJlc2V0X2ZvY3VzKTtcblx0XHR9XG5cdH0gZWxzZSBpZiAocmVzdWx0LnR5cGUgPT09ICdyZWRpcmVjdCcpIHtcblx0XHRfZ290byhyZXN1bHQubG9jYXRpb24sIHsgaW52YWxpZGF0ZUFsbDogdHJ1ZSB9LCAwKTtcblx0fSBlbHNlIHtcblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIGFueT59ICovXG5cdFx0cm9vdC4kc2V0KHtcblx0XHRcdC8vIHRoaXMgYnJpbmdzIFN2ZWx0ZSdzIHZpZXcgb2YgdGhlIHdvcmxkIGluIGxpbmUgd2l0aCBTdmVsdGVLaXQnc1xuXHRcdFx0Ly8gYWZ0ZXIgdXNlOmVuaGFuY2UgcmVzZXQgdGhlIGZvcm0uLi4uXG5cdFx0XHRmb3JtOiBudWxsLFxuXHRcdFx0cGFnZTogeyAuLi5wYWdlLCBmb3JtOiByZXN1bHQuZGF0YSwgc3RhdHVzOiByZXN1bHQuc3RhdHVzIH1cblx0XHR9KTtcblxuXHRcdC8vIC4uLnNvIHRoYXQgc2V0dGluZyB0aGUgYGZvcm1gIHByb3AgdGFrZXMgZWZmZWN0IGFuZCBpc24ndCBpZ25vcmVkXG5cdFx0YXdhaXQgdGljaygpO1xuXHRcdHJvb3QuJHNldCh7IGZvcm06IHJlc3VsdC5kYXRhIH0pO1xuXG5cdFx0aWYgKHJlc3VsdC50eXBlID09PSAnc3VjY2VzcycpIHtcblx0XHRcdHJlc2V0X2ZvY3VzKCk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIF9zdGFydF9yb3V0ZXIoKSB7XG5cdGhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSAnbWFudWFsJztcblxuXHQvLyBBZG9wdGVkIGZyb20gTnV4dC5qc1xuXHQvLyBSZXNldCBzY3JvbGxSZXN0b3JhdGlvbiB0byBhdXRvIHdoZW4gbGVhdmluZyBwYWdlLCBhbGxvd2luZyBwYWdlIHJlbG9hZFxuXHQvLyBhbmQgYmFjay1uYXZpZ2F0aW9uIGZyb20gb3RoZXIgcGFnZXMgdG8gdXNlIHRoZSBicm93c2VyIHRvIHJlc3RvcmUgdGhlXG5cdC8vIHNjcm9sbGluZyBwb3NpdGlvbi5cblx0YWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgKGUpID0+IHtcblx0XHRsZXQgc2hvdWxkX2Jsb2NrID0gZmFsc2U7XG5cblx0XHRwZXJzaXN0X3N0YXRlKCk7XG5cblx0XHRpZiAoIW5hdmlnYXRpbmcpIHtcblx0XHRcdGNvbnN0IG5hdiA9IGNyZWF0ZV9uYXZpZ2F0aW9uKGN1cnJlbnQsIHVuZGVmaW5lZCwgbnVsbCwgJ2xlYXZlJyk7XG5cblx0XHRcdC8vIElmIHdlJ3JlIG5hdmlnYXRpbmcsIGJlZm9yZU5hdmlnYXRlIHdhcyBhbHJlYWR5IGNhbGxlZC4gSWYgd2UgZW5kIHVwIGluIGhlcmUgZHVyaW5nIG5hdmlnYXRpb24sXG5cdFx0XHQvLyBpdCdzIGR1ZSB0byBhbiBleHRlcm5hbCBvciBmdWxsLXBhZ2UtcmVsb2FkIGxpbmssIGZvciB3aGljaCB3ZSBkb24ndCB3YW50IHRvIGNhbGwgdGhlIGhvb2sgYWdhaW4uXG5cdFx0XHQvKiogQHR5cGUge2ltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLkJlZm9yZU5hdmlnYXRlfSAqL1xuXHRcdFx0Y29uc3QgbmF2aWdhdGlvbiA9IHtcblx0XHRcdFx0Li4ubmF2Lm5hdmlnYXRpb24sXG5cdFx0XHRcdGNhbmNlbDogKCkgPT4ge1xuXHRcdFx0XHRcdHNob3VsZF9ibG9jayA9IHRydWU7XG5cdFx0XHRcdFx0bmF2LnJlamVjdChuZXcgRXJyb3IoJ25hdmlnYXRpb24gY2FuY2VsbGVkJykpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHRiZWZvcmVfbmF2aWdhdGVfY2FsbGJhY2tzLmZvckVhY2goKGZuKSA9PiBmbihuYXZpZ2F0aW9uKSk7XG5cdFx0fVxuXG5cdFx0aWYgKHNob3VsZF9ibG9jaykge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0ZS5yZXR1cm5WYWx1ZSA9ICcnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRoaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uID0gJ2F1dG8nO1xuXHRcdH1cblx0fSk7XG5cblx0YWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsICgpID0+IHtcblx0XHRpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAnaGlkZGVuJykge1xuXHRcdFx0cGVyc2lzdF9zdGF0ZSgpO1xuXHRcdH1cblx0fSk7XG5cblx0Ly8gQHRzLWV4cGVjdC1lcnJvciB0aGlzIGlzbid0IHN1cHBvcnRlZCBldmVyeXdoZXJlIHlldFxuXHRpZiAoIW5hdmlnYXRvci5jb25uZWN0aW9uPy5zYXZlRGF0YSkge1xuXHRcdHNldHVwX3ByZWxvYWQoKTtcblx0fVxuXG5cdC8qKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50ICovXG5cdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuXHRcdC8vIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vdmlzaW9ubWVkaWEvcGFnZS5qc1xuXHRcdC8vIE1JVCBsaWNlbnNlIGh0dHBzOi8vZ2l0aHViLmNvbS92aXNpb25tZWRpYS9wYWdlLmpzI2xpY2Vuc2Vcblx0XHRpZiAoZXZlbnQuYnV0dG9uIHx8IGV2ZW50LndoaWNoICE9PSAxKSByZXR1cm47XG5cdFx0aWYgKGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5zaGlmdEtleSB8fCBldmVudC5hbHRLZXkpIHJldHVybjtcblx0XHRpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuO1xuXG5cdFx0Y29uc3QgYSA9IGZpbmRfYW5jaG9yKC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKGV2ZW50LmNvbXBvc2VkUGF0aCgpWzBdKSwgY29udGFpbmVyKTtcblx0XHRpZiAoIWEpIHJldHVybjtcblxuXHRcdGNvbnN0IHsgdXJsLCBleHRlcm5hbCwgdGFyZ2V0LCBkb3dubG9hZCB9ID0gZ2V0X2xpbmtfaW5mbyhhLCBiYXNlKTtcblx0XHRpZiAoIXVybCkgcmV0dXJuO1xuXG5cdFx0Ly8gYmFpbCBvdXQgYmVmb3JlIGBiZWZvcmVOYXZpZ2F0ZWAgaWYgbGluayBvcGVucyBpbiBhIGRpZmZlcmVudCB0YWJcblx0XHRpZiAodGFyZ2V0ID09PSAnX3BhcmVudCcgfHwgdGFyZ2V0ID09PSAnX3RvcCcpIHtcblx0XHRcdGlmICh3aW5kb3cucGFyZW50ICE9PSB3aW5kb3cpIHJldHVybjtcblx0XHR9IGVsc2UgaWYgKHRhcmdldCAmJiB0YXJnZXQgIT09ICdfc2VsZicpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBvcHRpb25zID0gZ2V0X3JvdXRlcl9vcHRpb25zKGEpO1xuXHRcdGNvbnN0IGlzX3N2Z19hX2VsZW1lbnQgPSBhIGluc3RhbmNlb2YgU1ZHQUVsZW1lbnQ7XG5cblx0XHQvLyBJZ25vcmUgVVJMIHByb3RvY29scyB0aGF0IGRpZmZlciB0byB0aGUgY3VycmVudCBvbmUgYW5kIGFyZSBub3QgaHR0cChzKSAoZS5nLiBgbWFpbHRvOmAsIGB0ZWw6YCwgYG15YXBwOmAsIGV0Yy4pXG5cdFx0Ly8gVGhpcyBtYXkgYmUgd3Jvbmcgd2hlbiB0aGUgcHJvdG9jb2wgaXMgeDogYW5kIHRoZSBsaW5rIGdvZXMgdG8geTouLiB3aGljaCBzaG91bGQgYmUgdHJlYXRlZCBhcyBhbiBleHRlcm5hbFxuXHRcdC8vIG5hdmlnYXRpb24sIGJ1dCBpdCdzIG5vdCBjbGVhciBob3cgdG8gaGFuZGxlIHRoYXQgY2FzZSBhbmQgaXQncyBub3QgbGlrZWx5IHRvIGNvbWUgdXAgaW4gcHJhY3RpY2UuXG5cdFx0Ly8gTUVNTzogV2l0aG91dCB0aGlzIGNvbmRpdGlvbiwgZmlyZWZveCB3aWxsIG9wZW4gbWFpbGVyIHR3aWNlLlxuXHRcdC8vIFNlZTpcblx0XHQvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9raXQvaXNzdWVzLzQwNDVcblx0XHQvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9raXQvaXNzdWVzLzU3MjVcblx0XHQvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9raXQvaXNzdWVzLzY0OTZcblx0XHRpZiAoXG5cdFx0XHQhaXNfc3ZnX2FfZWxlbWVudCAmJlxuXHRcdFx0dXJsLnByb3RvY29sICE9PSBsb2NhdGlvbi5wcm90b2NvbCAmJlxuXHRcdFx0ISh1cmwucHJvdG9jb2wgPT09ICdodHRwczonIHx8IHVybC5wcm90b2NvbCA9PT0gJ2h0dHA6Jylcblx0XHQpXG5cdFx0XHRyZXR1cm47XG5cblx0XHRpZiAoZG93bmxvYWQpIHJldHVybjtcblxuXHRcdC8vIElnbm9yZSB0aGUgZm9sbG93aW5nIGJ1dCBmaXJlIGJlZm9yZU5hdmlnYXRlXG5cdFx0aWYgKGV4dGVybmFsIHx8IG9wdGlvbnMucmVsb2FkKSB7XG5cdFx0XHRpZiAoX2JlZm9yZV9uYXZpZ2F0ZSh7IHVybCwgdHlwZTogJ2xpbmsnIH0pKSB7XG5cdFx0XHRcdC8vIHNldCBgbmF2aWdhdGluZ2AgdG8gYHRydWVgIHRvIHByZXZlbnQgYGJlZm9yZU5hdmlnYXRlYCBjYWxsYmFja3Ncblx0XHRcdFx0Ly8gYmVpbmcgY2FsbGVkIHdoZW4gdGhlIHBhZ2UgdW5sb2Fkc1xuXHRcdFx0XHRuYXZpZ2F0aW5nID0gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBpZiBuZXcgdXJsIG9ubHkgZGlmZmVycyBieSBoYXNoIGFuZCB1c2UgdGhlIGJyb3dzZXIgZGVmYXVsdCBiZWhhdmlvciBpbiB0aGF0IGNhc2Vcblx0XHQvLyBUaGlzIHdpbGwgZW5zdXJlIHRoZSBgaGFzaGNoYW5nZWAgZXZlbnQgaXMgZmlyZWRcblx0XHQvLyBSZW1vdmluZyB0aGUgaGFzaCBkb2VzIGEgZnVsbCBwYWdlIG5hdmlnYXRpb24gaW4gdGhlIGJyb3dzZXIsIHNvIG1ha2Ugc3VyZSBhIGhhc2ggaXMgcHJlc2VudFxuXHRcdGNvbnN0IFtub25oYXNoLCBoYXNoXSA9IHVybC5ocmVmLnNwbGl0KCcjJyk7XG5cdFx0aWYgKGhhc2ggIT09IHVuZGVmaW5lZCAmJiBub25oYXNoID09PSBzdHJpcF9oYXNoKGxvY2F0aW9uKSkge1xuXHRcdFx0Ly8gSWYgd2UgYXJlIHRyeWluZyB0byBuYXZpZ2F0ZSB0byB0aGUgc2FtZSBoYXNoLCB3ZSBzaG91bGQgb25seVxuXHRcdFx0Ly8gYXR0ZW1wdCB0byBzY3JvbGwgdG8gdGhhdCBlbGVtZW50IGFuZCBhdm9pZCBhbnkgaGlzdG9yeSBjaGFuZ2VzLlxuXHRcdFx0Ly8gT3RoZXJ3aXNlLCB0aGlzIGNhbiBjYXVzZSBGaXJlZm94IHRvIGluY29ycmVjdGx5IGFzc2lnbiBhIG51bGxcblx0XHRcdC8vIGhpc3Rvcnkgc3RhdGUgdmFsdWUgd2l0aG91dCBhbnkgc2lnbmFsIHRoYXQgd2UgY2FuIGRldGVjdC5cblx0XHRcdGNvbnN0IFssIGN1cnJlbnRfaGFzaF0gPSBjdXJyZW50LnVybC5ocmVmLnNwbGl0KCcjJyk7XG5cdFx0XHRpZiAoY3VycmVudF9oYXNoID09PSBoYXNoKSB7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0Ly8gV2UncmUgYWxyZWFkeSBvbiAvIyBhbmQgY2xpY2sgb24gYSBsaW5rIHRoYXQgZ29lcyB0byAvIywgb3Igd2UncmUgb25cblx0XHRcdFx0Ly8gLyN0b3AgYW5kIGNsaWNrIG9uIGEgbGluayB0aGF0IGdvZXMgdG8gLyN0b3AuIEluIHRob3NlIGNhc2VzIGp1c3QgZ28gdG9cblx0XHRcdFx0Ly8gdGhlIHRvcCBvZiB0aGUgcGFnZSwgYW5kIGF2b2lkIGEgaGlzdG9yeSBjaGFuZ2UuXG5cdFx0XHRcdGlmIChoYXNoID09PSAnJyB8fCAoaGFzaCA9PT0gJ3RvcCcgJiYgYS5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3AnKSA9PT0gbnVsbCkpIHtcblx0XHRcdFx0XHR3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IDAgfSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YS5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhhc2gpPy5zY3JvbGxJbnRvVmlldygpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Ly8gc2V0IHRoaXMgZmxhZyB0byBkaXN0aW5ndWlzaCBiZXR3ZWVuIG5hdmlnYXRpb25zIHRyaWdnZXJlZCBieVxuXHRcdFx0Ly8gY2xpY2tpbmcgYSBoYXNoIGxpbmsgYW5kIHRob3NlIHRyaWdnZXJlZCBieSBwb3BzdGF0ZVxuXHRcdFx0aGFzaF9uYXZpZ2F0aW5nID0gdHJ1ZTtcblxuXHRcdFx0dXBkYXRlX3Njcm9sbF9wb3NpdGlvbnMoY3VycmVudF9oaXN0b3J5X2luZGV4KTtcblxuXHRcdFx0dXBkYXRlX3VybCh1cmwpO1xuXG5cdFx0XHRpZiAoIW9wdGlvbnMucmVwbGFjZV9zdGF0ZSkgcmV0dXJuO1xuXG5cdFx0XHQvLyBoYXNoY2hhbmdlIGV2ZW50IHNob3VsZG4ndCBvY2N1ciBpZiB0aGUgcm91dGVyIGlzIHJlcGxhY2luZyBzdGF0ZS5cblx0XHRcdGhhc2hfbmF2aWdhdGluZyA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRuYXZpZ2F0ZSh7XG5cdFx0XHR0eXBlOiAnbGluaycsXG5cdFx0XHR1cmwsXG5cdFx0XHRrZWVwZm9jdXM6IG9wdGlvbnMua2VlcGZvY3VzLFxuXHRcdFx0bm9zY3JvbGw6IG9wdGlvbnMubm9zY3JvbGwsXG5cdFx0XHRyZXBsYWNlX3N0YXRlOiBvcHRpb25zLnJlcGxhY2Vfc3RhdGUgPz8gdXJsLmhyZWYgPT09IGxvY2F0aW9uLmhyZWZcblx0XHR9KTtcblx0fSk7XG5cblx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xuXHRcdGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47XG5cblx0XHRjb25zdCBmb3JtID0gLyoqIEB0eXBlIHtIVE1MRm9ybUVsZW1lbnR9ICovIChcblx0XHRcdEhUTUxGb3JtRWxlbWVudC5wcm90b3R5cGUuY2xvbmVOb2RlLmNhbGwoZXZlbnQudGFyZ2V0KVxuXHRcdCk7XG5cblx0XHRjb25zdCBzdWJtaXR0ZXIgPSAvKiogQHR5cGUge0hUTUxCdXR0b25FbGVtZW50IHwgSFRNTElucHV0RWxlbWVudCB8IG51bGx9ICovIChldmVudC5zdWJtaXR0ZXIpO1xuXG5cdFx0Y29uc3QgbWV0aG9kID0gc3VibWl0dGVyPy5mb3JtTWV0aG9kIHx8IGZvcm0ubWV0aG9kO1xuXG5cdFx0aWYgKG1ldGhvZCAhPT0gJ2dldCcpIHJldHVybjtcblxuXHRcdGNvbnN0IHVybCA9IG5ldyBVUkwoXG5cdFx0XHQoc3VibWl0dGVyPy5oYXNBdHRyaWJ1dGUoJ2Zvcm1hY3Rpb24nKSAmJiBzdWJtaXR0ZXI/LmZvcm1BY3Rpb24pIHx8IGZvcm0uYWN0aW9uXG5cdFx0KTtcblxuXHRcdGlmIChpc19leHRlcm5hbF91cmwodXJsLCBiYXNlKSkgcmV0dXJuO1xuXG5cdFx0Y29uc3QgZXZlbnRfZm9ybSA9IC8qKiBAdHlwZSB7SFRNTEZvcm1FbGVtZW50fSAqLyAoZXZlbnQudGFyZ2V0KTtcblxuXHRcdGNvbnN0IG9wdGlvbnMgPSBnZXRfcm91dGVyX29wdGlvbnMoZXZlbnRfZm9ybSk7XG5cdFx0aWYgKG9wdGlvbnMucmVsb2FkKSByZXR1cm47XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG5cdFx0Y29uc3QgZGF0YSA9IG5ldyBGb3JtRGF0YShldmVudF9mb3JtKTtcblxuXHRcdGNvbnN0IHN1Ym1pdHRlcl9uYW1lID0gc3VibWl0dGVyPy5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcblx0XHRpZiAoc3VibWl0dGVyX25hbWUpIHtcblx0XHRcdGRhdGEuYXBwZW5kKHN1Ym1pdHRlcl9uYW1lLCBzdWJtaXR0ZXI/LmdldEF0dHJpYnV0ZSgndmFsdWUnKSA/PyAnJyk7XG5cdFx0fVxuXG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciBgVVJMU2VhcmNoUGFyYW1zKGZkKWAgaXMga29zaGVyLCBidXQgdHlwZXNjcmlwdCBkb2Vzbid0IGtub3cgdGhhdFxuXHRcdHVybC5zZWFyY2ggPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGRhdGEpLnRvU3RyaW5nKCk7XG5cblx0XHRuYXZpZ2F0ZSh7XG5cdFx0XHR0eXBlOiAnZm9ybScsXG5cdFx0XHR1cmwsXG5cdFx0XHRrZWVwZm9jdXM6IG9wdGlvbnMua2VlcGZvY3VzLFxuXHRcdFx0bm9zY3JvbGw6IG9wdGlvbnMubm9zY3JvbGwsXG5cdFx0XHRyZXBsYWNlX3N0YXRlOiBvcHRpb25zLnJlcGxhY2Vfc3RhdGUgPz8gdXJsLmhyZWYgPT09IGxvY2F0aW9uLmhyZWZcblx0XHR9KTtcblx0fSk7XG5cblx0YWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBhc3luYyAoZXZlbnQpID0+IHtcblx0XHRpZiAoZXZlbnQuc3RhdGU/LltISVNUT1JZX0lOREVYXSkge1xuXHRcdFx0Y29uc3QgaGlzdG9yeV9pbmRleCA9IGV2ZW50LnN0YXRlW0hJU1RPUllfSU5ERVhdO1xuXHRcdFx0dG9rZW4gPSB7fTtcblxuXHRcdFx0Ly8gaWYgYSBwb3BzdGF0ZS1kcml2ZW4gbmF2aWdhdGlvbiBpcyBjYW5jZWxsZWQsIHdlIG5lZWQgdG8gY291bnRlcmFjdCBpdFxuXHRcdFx0Ly8gd2l0aCBoaXN0b3J5LmdvLCB3aGljaCBtZWFucyB3ZSBlbmQgdXAgYmFjayBoZXJlLCBoZW5jZSB0aGlzIGNoZWNrXG5cdFx0XHRpZiAoaGlzdG9yeV9pbmRleCA9PT0gY3VycmVudF9oaXN0b3J5X2luZGV4KSByZXR1cm47XG5cblx0XHRcdGNvbnN0IHNjcm9sbCA9IHNjcm9sbF9wb3NpdGlvbnNbaGlzdG9yeV9pbmRleF07XG5cdFx0XHRjb25zdCBzdGF0ZSA9IGV2ZW50LnN0YXRlW1NUQVRFU19LRVldID8/IHt9O1xuXHRcdFx0Y29uc3QgdXJsID0gbmV3IFVSTChldmVudC5zdGF0ZVtQQUdFX1VSTF9LRVldID8/IGxvY2F0aW9uLmhyZWYpO1xuXHRcdFx0Y29uc3QgbmF2aWdhdGlvbl9pbmRleCA9IGV2ZW50LnN0YXRlW05BVklHQVRJT05fSU5ERVhdO1xuXHRcdFx0Y29uc3QgaXNfaGFzaF9jaGFuZ2UgPSBzdHJpcF9oYXNoKGxvY2F0aW9uKSA9PT0gc3RyaXBfaGFzaChjdXJyZW50LnVybCk7XG5cdFx0XHRjb25zdCBzaGFsbG93ID1cblx0XHRcdFx0bmF2aWdhdGlvbl9pbmRleCA9PT0gY3VycmVudF9uYXZpZ2F0aW9uX2luZGV4ICYmIChoYXNfbmF2aWdhdGVkIHx8IGlzX2hhc2hfY2hhbmdlKTtcblxuXHRcdFx0aWYgKHNoYWxsb3cpIHtcblx0XHRcdFx0Ly8gV2UgZG9uJ3QgbmVlZCB0byBuYXZpZ2F0ZSwgd2UganVzdCBuZWVkIHRvIHVwZGF0ZSBzY3JvbGwgYW5kL29yIHN0YXRlLlxuXHRcdFx0XHQvLyBUaGlzIGhhcHBlbnMgd2l0aCBoYXNoIGxpbmtzIGFuZCBgcHVzaFN0YXRlYC9gcmVwbGFjZVN0YXRlYC4gVGhlXG5cdFx0XHRcdC8vIGV4Y2VwdGlvbiBpcyBpZiB3ZSBoYXZlbid0IG5hdmlnYXRlZCB5ZXQsIHNpbmNlIHdlIGNvdWxkIGhhdmVcblx0XHRcdFx0Ly8gZ290IGhlcmUgYWZ0ZXIgYSBtb2RhbCBuYXZpZ2F0aW9uIHRoZW4gYSByZWxvYWRcblx0XHRcdFx0dXBkYXRlX3VybCh1cmwpO1xuXG5cdFx0XHRcdHNjcm9sbF9wb3NpdGlvbnNbY3VycmVudF9oaXN0b3J5X2luZGV4XSA9IHNjcm9sbF9zdGF0ZSgpO1xuXHRcdFx0XHRpZiAoc2Nyb2xsKSBzY3JvbGxUbyhzY3JvbGwueCwgc2Nyb2xsLnkpO1xuXG5cdFx0XHRcdGlmIChzdGF0ZSAhPT0gcGFnZS5zdGF0ZSkge1xuXHRcdFx0XHRcdHBhZ2UgPSB7IC4uLnBhZ2UsIHN0YXRlIH07XG5cdFx0XHRcdFx0cm9vdC4kc2V0KHsgcGFnZSB9KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGN1cnJlbnRfaGlzdG9yeV9pbmRleCA9IGhpc3RvcnlfaW5kZXg7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgZGVsdGEgPSBoaXN0b3J5X2luZGV4IC0gY3VycmVudF9oaXN0b3J5X2luZGV4O1xuXG5cdFx0XHRhd2FpdCBuYXZpZ2F0ZSh7XG5cdFx0XHRcdHR5cGU6ICdwb3BzdGF0ZScsXG5cdFx0XHRcdHVybCxcblx0XHRcdFx0cG9wcGVkOiB7XG5cdFx0XHRcdFx0c3RhdGUsXG5cdFx0XHRcdFx0c2Nyb2xsLFxuXHRcdFx0XHRcdGRlbHRhXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGFjY2VwdDogKCkgPT4ge1xuXHRcdFx0XHRcdGN1cnJlbnRfaGlzdG9yeV9pbmRleCA9IGhpc3RvcnlfaW5kZXg7XG5cdFx0XHRcdFx0Y3VycmVudF9uYXZpZ2F0aW9uX2luZGV4ID0gbmF2aWdhdGlvbl9pbmRleDtcblx0XHRcdFx0fSxcblx0XHRcdFx0YmxvY2s6ICgpID0+IHtcblx0XHRcdFx0XHRoaXN0b3J5LmdvKC1kZWx0YSk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdG5hdl90b2tlbjogdG9rZW5cblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBzaW5jZSBwb3BzdGF0ZSBldmVudCBpcyBhbHNvIGVtaXR0ZWQgd2hlbiBhbiBhbmNob3IgcmVmZXJlbmNpbmcgdGhlIHNhbWVcblx0XHRcdC8vIGRvY3VtZW50IGlzIGNsaWNrZWQsIHdlIGhhdmUgdG8gY2hlY2sgdGhhdCB0aGUgcm91dGVyIGlzbid0IGFscmVhZHkgaGFuZGxpbmdcblx0XHRcdC8vIHRoZSBuYXZpZ2F0aW9uLiBvdGhlcndpc2Ugd2Ugd291bGQgYmUgdXBkYXRpbmcgdGhlIHBhZ2Ugc3RvcmUgdHdpY2UuXG5cdFx0XHRpZiAoIWhhc2hfbmF2aWdhdGluZykge1xuXHRcdFx0XHRjb25zdCB1cmwgPSBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpO1xuXHRcdFx0XHR1cGRhdGVfdXJsKHVybCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHRhZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgKCkgPT4ge1xuXHRcdC8vIGlmIHRoZSBoYXNoY2hhbmdlIGhhcHBlbmVkIGFzIGEgcmVzdWx0IG9mIGNsaWNraW5nIG9uIGEgbGluayxcblx0XHQvLyB3ZSBuZWVkIHRvIHVwZGF0ZSBoaXN0b3J5LCBvdGhlcndpc2Ugd2UgaGF2ZSB0byBsZWF2ZSBpdCBhbG9uZVxuXHRcdGlmIChoYXNoX25hdmlnYXRpbmcpIHtcblx0XHRcdGhhc2hfbmF2aWdhdGluZyA9IGZhbHNlO1xuXHRcdFx0aGlzdG9yeS5yZXBsYWNlU3RhdGUoXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQuLi5oaXN0b3J5LnN0YXRlLFxuXHRcdFx0XHRcdFtISVNUT1JZX0lOREVYXTogKytjdXJyZW50X2hpc3RvcnlfaW5kZXgsXG5cdFx0XHRcdFx0W05BVklHQVRJT05fSU5ERVhdOiBjdXJyZW50X25hdmlnYXRpb25faW5kZXhcblx0XHRcdFx0fSxcblx0XHRcdFx0JycsXG5cdFx0XHRcdGxvY2F0aW9uLmhyZWZcblx0XHRcdCk7XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBmaXggbGlua1tyZWw9aWNvbl0sIGJlY2F1c2UgYnJvd3NlcnMgd2lsbCBvY2Nhc2lvbmFsbHkgdHJ5IHRvIGxvYWQgcmVsYXRpdmVcblx0Ly8gVVJMcyBhZnRlciBhIHB1c2hTdGF0ZS9yZXBsYWNlU3RhdGUsIHJlc3VsdGluZyBpbiBhIDQwNCDigJQgc2VlXG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9raXQvaXNzdWVzLzM3NDgjaXNzdWVjb21tZW50LTExMjU5ODA4OTdcblx0Zm9yIChjb25zdCBsaW5rIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpbmsnKSkge1xuXHRcdGlmIChsaW5rLnJlbCA9PT0gJ2ljb24nKSBsaW5rLmhyZWYgPSBsaW5rLmhyZWY7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0fVxuXG5cdGFkZEV2ZW50TGlzdGVuZXIoJ3BhZ2VzaG93JywgKGV2ZW50KSA9PiB7XG5cdFx0Ly8gSWYgdGhlIHVzZXIgbmF2aWdhdGVzIHRvIGFub3RoZXIgc2l0ZSBhbmQgdGhlbiB1c2VzIHRoZSBiYWNrIGJ1dHRvbiBhbmRcblx0XHQvLyBiZmNhY2hlIGhpdHMsIHdlIG5lZWQgdG8gc2V0IG5hdmlnYXRpbmcgdG8gbnVsbCwgdGhlIHNpdGUgZG9lc24ndCBrbm93XG5cdFx0Ly8gdGhlIG5hdmlnYXRpb24gYXdheSBmcm9tIGl0IHdhcyBzdWNjZXNzZnVsLlxuXHRcdC8vIEluZm8gYWJvdXQgYmZjYWNoZSBoZXJlOiBodHRwczovL3dlYi5kZXYvYmZjYWNoZVxuXHRcdGlmIChldmVudC5wZXJzaXN0ZWQpIHtcblx0XHRcdHN0b3Jlcy5uYXZpZ2F0aW5nLnNldChudWxsKTtcblx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1VSTH0gdXJsXG5cdCAqL1xuXHRmdW5jdGlvbiB1cGRhdGVfdXJsKHVybCkge1xuXHRcdGN1cnJlbnQudXJsID0gdXJsO1xuXHRcdHN0b3Jlcy5wYWdlLnNldCh7IC4uLnBhZ2UsIHVybCB9KTtcblx0XHRzdG9yZXMucGFnZS5ub3RpZnkoKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldFxuICogQHBhcmFtIHt7XG4gKiAgIHN0YXR1czogbnVtYmVyO1xuICogICBlcnJvcjogQXBwLkVycm9yIHwgbnVsbDtcbiAqICAgbm9kZV9pZHM6IG51bWJlcltdO1xuICogICBwYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gKiAgIHJvdXRlOiB7IGlkOiBzdHJpbmcgfCBudWxsIH07XG4gKiAgIGRhdGE6IEFycmF5PGltcG9ydCgndHlwZXMnKS5TZXJ2ZXJEYXRhTm9kZSB8IG51bGw+O1xuICogICBmb3JtOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgbnVsbDtcbiAqIH19IG9wdHNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gX2h5ZHJhdGUoXG5cdHRhcmdldCxcblx0eyBzdGF0dXMgPSAyMDAsIGVycm9yLCBub2RlX2lkcywgcGFyYW1zLCByb3V0ZSwgZGF0YTogc2VydmVyX2RhdGFfbm9kZXMsIGZvcm0gfVxuKSB7XG5cdGh5ZHJhdGVkID0gdHJ1ZTtcblxuXHRjb25zdCB1cmwgPSBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpO1xuXG5cdGlmICghX19TVkVMVEVLSVRfRU1CRURERURfXykge1xuXHRcdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMva2l0L3B1bGwvNDkzNSNpc3N1ZWNvbW1lbnQtMTMyODA5MzM1OCBmb3Igb25lIG1vdGl2YXRpb25cblx0XHQvLyBvZiBkZXRlcm1pbmluZyB0aGUgcGFyYW1zIG9uIHRoZSBjbGllbnQgc2lkZS5cblx0XHQoeyBwYXJhbXMgPSB7fSwgcm91dGUgPSB7IGlkOiBudWxsIH0gfSA9IGdldF9uYXZpZ2F0aW9uX2ludGVudCh1cmwsIGZhbHNlKSB8fCB7fSk7XG5cdH1cblxuXHQvKiogQHR5cGUge2ltcG9ydCgnLi90eXBlcy5qcycpLk5hdmlnYXRpb25GaW5pc2hlZCB8IHVuZGVmaW5lZH0gKi9cblx0bGV0IHJlc3VsdDtcblxuXHR0cnkge1xuXHRcdGNvbnN0IGJyYW5jaF9wcm9taXNlcyA9IG5vZGVfaWRzLm1hcChhc3luYyAobiwgaSkgPT4ge1xuXHRcdFx0Y29uc3Qgc2VydmVyX2RhdGFfbm9kZSA9IHNlcnZlcl9kYXRhX25vZGVzW2ldO1xuXHRcdFx0Ly8gVHlwZSBpc24ndCBjb21wbGV0ZWx5IGFjY3VyYXRlLCB3ZSBzdGlsbCBuZWVkIHRvIGRlc2VyaWFsaXplIHVzZXNcblx0XHRcdGlmIChzZXJ2ZXJfZGF0YV9ub2RlPy51c2VzKSB7XG5cdFx0XHRcdHNlcnZlcl9kYXRhX25vZGUudXNlcyA9IGRlc2VyaWFsaXplX3VzZXMoc2VydmVyX2RhdGFfbm9kZS51c2VzKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGxvYWRfbm9kZSh7XG5cdFx0XHRcdGxvYWRlcjogYXBwLm5vZGVzW25dLFxuXHRcdFx0XHR1cmwsXG5cdFx0XHRcdHBhcmFtcyxcblx0XHRcdFx0cm91dGUsXG5cdFx0XHRcdHBhcmVudDogYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGRhdGEgPSB7fTtcblx0XHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGk7IGogKz0gMSkge1xuXHRcdFx0XHRcdFx0T2JqZWN0LmFzc2lnbihkYXRhLCAoYXdhaXQgYnJhbmNoX3Byb21pc2VzW2pdKS5kYXRhKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHNlcnZlcl9kYXRhX25vZGU6IGNyZWF0ZV9kYXRhX25vZGUoc2VydmVyX2RhdGFfbm9kZSlcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0LyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoJy4vdHlwZXMuanMnKS5CcmFuY2hOb2RlIHwgdW5kZWZpbmVkPn0gKi9cblx0XHRjb25zdCBicmFuY2ggPSBhd2FpdCBQcm9taXNlLmFsbChicmFuY2hfcHJvbWlzZXMpO1xuXG5cdFx0Y29uc3QgcGFyc2VkX3JvdXRlID0gcm91dGVzLmZpbmQoKHsgaWQgfSkgPT4gaWQgPT09IHJvdXRlLmlkKTtcblxuXHRcdC8vIHNlcnZlci1zaWRlIHdpbGwgaGF2ZSBjb21wYWN0ZWQgdGhlIGJyYW5jaCwgcmVpbnN0YXRlIGVtcHR5IHNsb3RzXG5cdFx0Ly8gc28gdGhhdCBlcnJvciBib3VuZGFyaWVzIGNhbiBiZSBsaW5lZCB1cCBjb3JyZWN0bHlcblx0XHRpZiAocGFyc2VkX3JvdXRlKSB7XG5cdFx0XHRjb25zdCBsYXlvdXRzID0gcGFyc2VkX3JvdXRlLmxheW91dHM7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxheW91dHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKCFsYXlvdXRzW2ldKSB7XG5cdFx0XHRcdFx0YnJhbmNoLnNwbGljZShpLCAwLCB1bmRlZmluZWQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmVzdWx0ID0gYXdhaXQgZ2V0X25hdmlnYXRpb25fcmVzdWx0X2Zyb21fYnJhbmNoKHtcblx0XHRcdHVybCxcblx0XHRcdHBhcmFtcyxcblx0XHRcdGJyYW5jaCxcblx0XHRcdHN0YXR1cyxcblx0XHRcdGVycm9yLFxuXHRcdFx0Zm9ybSxcblx0XHRcdHJvdXRlOiBwYXJzZWRfcm91dGUgPz8gbnVsbFxuXHRcdH0pO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGlmIChlcnJvciBpbnN0YW5jZW9mIFJlZGlyZWN0KSB7XG5cdFx0XHQvLyB0aGlzIGlzIGEgcmVhbCBlZGdlIGNhc2Ug4oCUIGBsb2FkYCB3b3VsZCBuZWVkIHRvIHJldHVyblxuXHRcdFx0Ly8gYSByZWRpcmVjdCBidXQgb25seSBpbiB0aGUgYnJvd3NlclxuXHRcdFx0YXdhaXQgbmF0aXZlX25hdmlnYXRpb24obmV3IFVSTChlcnJvci5sb2NhdGlvbiwgbG9jYXRpb24uaHJlZikpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHJlc3VsdCA9IGF3YWl0IGxvYWRfcm9vdF9lcnJvcl9wYWdlKHtcblx0XHRcdHN0YXR1czogZ2V0X3N0YXR1cyhlcnJvciksXG5cdFx0XHRlcnJvcjogYXdhaXQgaGFuZGxlX2Vycm9yKGVycm9yLCB7IHVybCwgcGFyYW1zLCByb3V0ZSB9KSxcblx0XHRcdHVybCxcblx0XHRcdHJvdXRlXG5cdFx0fSk7XG5cdH1cblxuXHRpZiAocmVzdWx0LnByb3BzLnBhZ2UpIHtcblx0XHRyZXN1bHQucHJvcHMucGFnZS5zdGF0ZSA9IHt9O1xuXHR9XG5cblx0aW5pdGlhbGl6ZShyZXN1bHQsIHRhcmdldCwgdHJ1ZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtVUkx9IHVybFxuICogQHBhcmFtIHtib29sZWFuW119IGludmFsaWRcbiAqIEByZXR1cm5zIHtQcm9taXNlPGltcG9ydCgndHlwZXMnKS5TZXJ2ZXJOb2Rlc1Jlc3BvbnNlIHwgaW1wb3J0KCd0eXBlcycpLlNlcnZlclJlZGlyZWN0Tm9kZT59XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRfZGF0YSh1cmwsIGludmFsaWQpIHtcblx0Y29uc3QgZGF0YV91cmwgPSBuZXcgVVJMKHVybCk7XG5cdGRhdGFfdXJsLnBhdGhuYW1lID0gYWRkX2RhdGFfc3VmZml4KHVybC5wYXRobmFtZSk7XG5cdGlmICh1cmwucGF0aG5hbWUuZW5kc1dpdGgoJy8nKSkge1xuXHRcdGRhdGFfdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoVFJBSUxJTkdfU0xBU0hfUEFSQU0sICcxJyk7XG5cdH1cblx0aWYgKERFViAmJiB1cmwuc2VhcmNoUGFyYW1zLmhhcyhJTlZBTElEQVRFRF9QQVJBTSkpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCB1c2VkIHJlc2VydmVkIHF1ZXJ5IHBhcmFtZXRlciBcIiR7SU5WQUxJREFURURfUEFSQU19XCJgKTtcblx0fVxuXHRkYXRhX3VybC5zZWFyY2hQYXJhbXMuYXBwZW5kKElOVkFMSURBVEVEX1BBUkFNLCBpbnZhbGlkLm1hcCgoaSkgPT4gKGkgPyAnMScgOiAnMCcpKS5qb2luKCcnKSk7XG5cblx0Y29uc3QgcmVzID0gYXdhaXQgbmF0aXZlX2ZldGNoKGRhdGFfdXJsLmhyZWYpO1xuXG5cdGlmICghcmVzLm9rKSB7XG5cdFx0Ly8gZXJyb3IgbWVzc2FnZSBpcyBhIEpTT04tc3RyaW5naWZpZWQgc3RyaW5nIHdoaWNoIGRldmFsdWUgY2FuJ3QgaGFuZGxlIGF0IHRoZSB0b3AgbGV2ZWxcblx0XHQvLyB0dXJuIGl0IGludG8gYSBIdHRwRXJyb3IgdG8gbm90IGNhbGwgaGFuZGxlRXJyb3Igb24gdGhlIGNsaWVudCBhZ2FpbiAod2FzIGFscmVhZHkgaGFuZGxlZCBvbiB0aGUgc2VydmVyKVxuXHRcdC8vIGlmIGBfX2RhdGEuanNvbmAgZG9lc24ndCBleGlzdCBvciB0aGUgc2VydmVyIGhhcyBhbiBpbnRlcm5hbCBlcnJvcixcblx0XHQvLyBhdm9pZCBwYXJzaW5nIHRoZSBIVE1MIGVycm9yIHBhZ2UgYXMgYSBKU09OXG5cdFx0LyoqIEB0eXBlIHtzdHJpbmcgfCB1bmRlZmluZWR9ICovXG5cdFx0bGV0IG1lc3NhZ2U7XG5cdFx0aWYgKHJlcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk/LmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJykpIHtcblx0XHRcdG1lc3NhZ2UgPSBhd2FpdCByZXMuanNvbigpO1xuXHRcdH0gZWxzZSBpZiAocmVzLnN0YXR1cyA9PT0gNDA0KSB7XG5cdFx0XHRtZXNzYWdlID0gJ05vdCBGb3VuZCc7XG5cdFx0fSBlbHNlIGlmIChyZXMuc3RhdHVzID09PSA1MDApIHtcblx0XHRcdG1lc3NhZ2UgPSAnSW50ZXJuYWwgRXJyb3InO1xuXHRcdH1cblx0XHR0aHJvdyBuZXcgSHR0cEVycm9yKHJlcy5zdGF0dXMsIG1lc3NhZ2UpO1xuXHR9XG5cblx0Ly8gVE9ETzogZml4IGVzbGludCBlcnJvciAvIGZpZ3VyZSBvdXQgaWYgaXQgYWN0dWFsbHkgYXBwbGllcyB0byBvdXIgc2l0dWF0aW9uXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXHRyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUpID0+IHtcblx0XHQvKipcblx0XHQgKiBNYXAgb2YgZGVmZXJyZWQgcHJvbWlzZXMgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGJ5IGEgc3Vic2VxdWVudCBjaHVuayBvZiBkYXRhXG5cdFx0ICogQHR5cGUge01hcDxzdHJpbmcsIGltcG9ydCgndHlwZXMnKS5EZWZlcnJlZD59XG5cdFx0ICovXG5cdFx0Y29uc3QgZGVmZXJyZWRzID0gbmV3IE1hcCgpO1xuXHRcdGNvbnN0IHJlYWRlciA9IC8qKiBAdHlwZSB7UmVhZGFibGVTdHJlYW08VWludDhBcnJheT59ICovIChyZXMuYm9keSkuZ2V0UmVhZGVyKCk7XG5cdFx0Y29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuXG5cdFx0LyoqXG5cdFx0ICogQHBhcmFtIHthbnl9IGRhdGFcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBkZXNlcmlhbGl6ZShkYXRhKSB7XG5cdFx0XHRyZXR1cm4gZGV2YWx1ZS51bmZsYXR0ZW4oZGF0YSwge1xuXHRcdFx0XHRQcm9taXNlOiAoaWQpID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKGZ1bGZpbCwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdFx0XHRkZWZlcnJlZHMuc2V0KGlkLCB7IGZ1bGZpbCwgcmVqZWN0IH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRsZXQgdGV4dCA9ICcnO1xuXG5cdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdC8vIEZvcm1hdCBmb2xsb3dzIG5kanNvbiAoZWFjaCBsaW5lIGlzIGEgSlNPTiBvYmplY3QpIG9yIHJlZ3VsYXIgSlNPTiBzcGVjXG5cdFx0XHRjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuXHRcdFx0aWYgKGRvbmUgJiYgIXRleHQpIGJyZWFrO1xuXG5cdFx0XHR0ZXh0ICs9ICF2YWx1ZSAmJiB0ZXh0ID8gJ1xcbicgOiBkZWNvZGVyLmRlY29kZSh2YWx1ZSwgeyBzdHJlYW06IHRydWUgfSk7IC8vIG5vIHZhbHVlIC0+IGZpbmFsIGNodW5rIC0+IGFkZCBhIG5ldyBsaW5lIHRvIHRyaWdnZXIgdGhlIGxhc3QgcGFyc2VcblxuXHRcdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdFx0Y29uc3Qgc3BsaXQgPSB0ZXh0LmluZGV4T2YoJ1xcbicpO1xuXHRcdFx0XHRpZiAoc3BsaXQgPT09IC0xKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBub2RlID0gSlNPTi5wYXJzZSh0ZXh0LnNsaWNlKDAsIHNwbGl0KSk7XG5cdFx0XHRcdHRleHQgPSB0ZXh0LnNsaWNlKHNwbGl0ICsgMSk7XG5cblx0XHRcdFx0aWYgKG5vZGUudHlwZSA9PT0gJ3JlZGlyZWN0Jykge1xuXHRcdFx0XHRcdHJldHVybiByZXNvbHZlKG5vZGUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKG5vZGUudHlwZSA9PT0gJ2RhdGEnKSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyBpcyB0aGUgZmlyc3QgKGFuZCBwb3NzaWJseSBvbmx5LCBpZiBubyBwZW5kaW5nIHByb21pc2VzKSBjaHVua1xuXHRcdFx0XHRcdG5vZGUubm9kZXM/LmZvckVhY2goKC8qKiBAdHlwZSB7YW55fSAqLyBub2RlKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAobm9kZT8udHlwZSA9PT0gJ2RhdGEnKSB7XG5cdFx0XHRcdFx0XHRcdG5vZGUudXNlcyA9IGRlc2VyaWFsaXplX3VzZXMobm9kZS51c2VzKTtcblx0XHRcdFx0XHRcdFx0bm9kZS5kYXRhID0gZGVzZXJpYWxpemUobm9kZS5kYXRhKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdHJlc29sdmUobm9kZSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAobm9kZS50eXBlID09PSAnY2h1bmsnKSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyBpcyBhIHN1YnNlcXVlbnQgY2h1bmsgY29udGFpbmluZyBkZWZlcnJlZCBkYXRhXG5cdFx0XHRcdFx0Y29uc3QgeyBpZCwgZGF0YSwgZXJyb3IgfSA9IG5vZGU7XG5cdFx0XHRcdFx0Y29uc3QgZGVmZXJyZWQgPSAvKiogQHR5cGUge2ltcG9ydCgndHlwZXMnKS5EZWZlcnJlZH0gKi8gKGRlZmVycmVkcy5nZXQoaWQpKTtcblx0XHRcdFx0XHRkZWZlcnJlZHMuZGVsZXRlKGlkKTtcblxuXHRcdFx0XHRcdGlmIChlcnJvcikge1xuXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGRlc2VyaWFsaXplKGVycm9yKSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGRlZmVycmVkLmZ1bGZpbChkZXNlcmlhbGl6ZShkYXRhKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBUT0RPIGVkZ2UgY2FzZSBoYW5kbGluZyBuZWNlc3Nhcnk/IHN0cmVhbSgpIHJlYWQgZmFpbHM/XG59XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IHVzZXNcbiAqIEByZXR1cm4ge2ltcG9ydCgndHlwZXMnKS5Vc2VzfVxuICovXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZV91c2VzKHVzZXMpIHtcblx0cmV0dXJuIHtcblx0XHRkZXBlbmRlbmNpZXM6IG5ldyBTZXQodXNlcz8uZGVwZW5kZW5jaWVzID8/IFtdKSxcblx0XHRwYXJhbXM6IG5ldyBTZXQodXNlcz8ucGFyYW1zID8/IFtdKSxcblx0XHRwYXJlbnQ6ICEhdXNlcz8ucGFyZW50LFxuXHRcdHJvdXRlOiAhIXVzZXM/LnJvdXRlLFxuXHRcdHVybDogISF1c2VzPy51cmwsXG5cdFx0c2VhcmNoX3BhcmFtczogbmV3IFNldCh1c2VzPy5zZWFyY2hfcGFyYW1zID8/IFtdKVxuXHR9O1xufVxuXG5mdW5jdGlvbiByZXNldF9mb2N1cygpIHtcblx0Y29uc3QgYXV0b2ZvY3VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2F1dG9mb2N1c10nKTtcblx0aWYgKGF1dG9mb2N1cykge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRhdXRvZm9jdXMuZm9jdXMoKTtcblx0fSBlbHNlIHtcblx0XHQvLyBSZXNldCBwYWdlIHNlbGVjdGlvbiBhbmQgZm9jdXNcblx0XHQvLyBXZSB0cnkgdG8gbWltaWMgYnJvd3NlcnMnIGJlaGF2aW91ciBhcyBjbG9zZWx5IGFzIHBvc3NpYmxlIGJ5IHRhcmdldGluZyB0aGVcblx0XHQvLyBmaXJzdCBzY3JvbGxhYmxlIHJlZ2lvbiwgYnV0IHVuZm9ydHVuYXRlbHkgaXQncyBub3QgYSBwZXJmZWN0IG1hdGNoIOKAlCBlLmcuXG5cdFx0Ly8gc2hpZnQtdGFiYmluZyB3b24ndCBpbW1lZGlhdGVseSBjeWNsZSB1cCBmcm9tIHRoZSBlbmQgb2YgdGhlIHBhZ2Ugb24gQ2hyb21pdW1cblx0XHQvLyBTZWUgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW50ZXJhY3Rpb24uaHRtbCNnZXQtdGhlLWZvY3VzYWJsZS1hcmVhXG5cdFx0Y29uc3Qgcm9vdCA9IGRvY3VtZW50LmJvZHk7XG5cdFx0Y29uc3QgdGFiaW5kZXggPSByb290LmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcblxuXHRcdHJvb3QudGFiSW5kZXggPSAtMTtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0cm9vdC5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUsIGZvY3VzVmlzaWJsZTogZmFsc2UgfSk7XG5cblx0XHQvLyByZXN0b3JlIGB0YWJpbmRleGAgYXMgdG8gcHJldmVudCBgcm9vdGAgZnJvbSBzdGVhbGluZyBpbnB1dCBmcm9tIGVsZW1lbnRzXG5cdFx0aWYgKHRhYmluZGV4ICE9PSBudWxsKSB7XG5cdFx0XHRyb290LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCB0YWJpbmRleCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJvb3QucmVtb3ZlQXR0cmlidXRlKCd0YWJpbmRleCcpO1xuXHRcdH1cblxuXHRcdC8vIGNhcHR1cmUgY3VycmVudCBzZWxlY3Rpb24sIHNvIHdlIGNhbiBjb21wYXJlIHRoZSBzdGF0ZSBhZnRlclxuXHRcdC8vIHNuYXBzaG90IHJlc3RvcmF0aW9uIGFuZCBhZnRlck5hdmlnYXRlIGNhbGxiYWNrcyBoYXZlIHJ1blxuXHRcdGNvbnN0IHNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbigpO1xuXG5cdFx0aWYgKHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24udHlwZSAhPT0gJ05vbmUnKSB7XG5cdFx0XHQvKiogQHR5cGUge1JhbmdlW119ICovXG5cdFx0XHRjb25zdCByYW5nZXMgPSBbXTtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Rpb24ucmFuZ2VDb3VudDsgaSArPSAxKSB7XG5cdFx0XHRcdHJhbmdlcy5wdXNoKHNlbGVjdGlvbi5nZXRSYW5nZUF0KGkpKTtcblx0XHRcdH1cblxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdGlmIChzZWxlY3Rpb24ucmFuZ2VDb3VudCAhPT0gcmFuZ2VzLmxlbmd0aCkgcmV0dXJuO1xuXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0aW9uLnJhbmdlQ291bnQ7IGkgKz0gMSkge1xuXHRcdFx0XHRcdGNvbnN0IGEgPSByYW5nZXNbaV07XG5cdFx0XHRcdFx0Y29uc3QgYiA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KGkpO1xuXG5cdFx0XHRcdFx0Ly8gd2UgbmVlZCB0byBkbyBhIGRlZXAgY29tcGFyaXNvbiByYXRoZXIgdGhhbiBqdXN0IGBhICE9PSBiYCBiZWNhdXNlXG5cdFx0XHRcdFx0Ly8gU2FmYXJpIGJlaGF2ZXMgZGlmZmVyZW50bHkgdG8gb3RoZXIgYnJvd3NlcnNcblx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRhLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyICE9PSBiLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIHx8XG5cdFx0XHRcdFx0XHRhLnN0YXJ0Q29udGFpbmVyICE9PSBiLnN0YXJ0Q29udGFpbmVyIHx8XG5cdFx0XHRcdFx0XHRhLmVuZENvbnRhaW5lciAhPT0gYi5lbmRDb250YWluZXIgfHxcblx0XHRcdFx0XHRcdGEuc3RhcnRPZmZzZXQgIT09IGIuc3RhcnRPZmZzZXQgfHxcblx0XHRcdFx0XHRcdGEuZW5kT2Zmc2V0ICE9PSBiLmVuZE9mZnNldFxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGlmIHRoZSBzZWxlY3Rpb24gaGFzbid0IGNoYW5nZWQgKGFzIGEgcmVzdWx0IG9mIGFuIGVsZW1lbnQgYmVpbmcgKGF1dG8pZm9jdXNlZCxcblx0XHRcdFx0Ly8gb3IgYSBwcm9ncmFtbWF0aWMgc2VsZWN0aW9uLCB3ZSByZXNldCBldmVyeXRoaW5nIGFzIHBhcnQgb2YgdGhlIG5hdmlnYXRpb24pXG5cdFx0XHRcdC8vIGZpeGVzIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9raXQvaXNzdWVzLzg0Mzlcblx0XHRcdFx0c2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vdHlwZXMuanMnKS5OYXZpZ2F0aW9uU3RhdGV9IGN1cnJlbnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3R5cGVzLmpzJykuTmF2aWdhdGlvbkludGVudCB8IHVuZGVmaW5lZH0gaW50ZW50XG4gKiBAcGFyYW0ge1VSTCB8IG51bGx9IHVybFxuICogQHBhcmFtIHtFeGNsdWRlPGltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLk5hdmlnYXRpb25UeXBlLCAnZW50ZXInPn0gdHlwZVxuICovXG5mdW5jdGlvbiBjcmVhdGVfbmF2aWdhdGlvbihjdXJyZW50LCBpbnRlbnQsIHVybCwgdHlwZSkge1xuXHQvKiogQHR5cGUgeyh2YWx1ZTogYW55KSA9PiB2b2lkfSAqL1xuXHRsZXQgZnVsZmlsO1xuXG5cdC8qKiBAdHlwZSB7KGVycm9yOiBhbnkpID0+IHZvaWR9ICovXG5cdGxldCByZWplY3Q7XG5cblx0Y29uc3QgY29tcGxldGUgPSBuZXcgUHJvbWlzZSgoZiwgcikgPT4ge1xuXHRcdGZ1bGZpbCA9IGY7XG5cdFx0cmVqZWN0ID0gcjtcblx0fSk7XG5cblx0Ly8gSGFuZGxlIGFueSBlcnJvcnMgb2ZmLWNoYWluIHNvIHRoYXQgaXQgZG9lc24ndCBzaG93IHVwIGFzIGFuIHVuaGFuZGxlZCByZWplY3Rpb25cblx0Y29tcGxldGUuY2F0Y2goKCkgPT4ge30pO1xuXG5cdC8qKiBAdHlwZSB7aW1wb3J0KCdAc3ZlbHRlanMva2l0JykuTmF2aWdhdGlvbn0gKi9cblx0Y29uc3QgbmF2aWdhdGlvbiA9IHtcblx0XHRmcm9tOiB7XG5cdFx0XHRwYXJhbXM6IGN1cnJlbnQucGFyYW1zLFxuXHRcdFx0cm91dGU6IHsgaWQ6IGN1cnJlbnQucm91dGU/LmlkID8/IG51bGwgfSxcblx0XHRcdHVybDogY3VycmVudC51cmxcblx0XHR9LFxuXHRcdHRvOiB1cmwgJiYge1xuXHRcdFx0cGFyYW1zOiBpbnRlbnQ/LnBhcmFtcyA/PyBudWxsLFxuXHRcdFx0cm91dGU6IHsgaWQ6IGludGVudD8ucm91dGU/LmlkID8/IG51bGwgfSxcblx0XHRcdHVybFxuXHRcdH0sXG5cdFx0d2lsbFVubG9hZDogIWludGVudCxcblx0XHR0eXBlLFxuXHRcdGNvbXBsZXRlXG5cdH07XG5cblx0cmV0dXJuIHtcblx0XHRuYXZpZ2F0aW9uLFxuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRmdWxmaWwsXG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdHJlamVjdFxuXHR9O1xufVxuXG5pZiAoREVWKSB7XG5cdC8vIE5hc3R5IGhhY2sgdG8gc2lsZW5jZSBoYXJtbGVzcyB3YXJuaW5ncyB0aGUgdXNlciBjYW4gZG8gbm90aGluZyBhYm91dFxuXHRjb25zdCBjb25zb2xlX3dhcm4gPSBjb25zb2xlLndhcm47XG5cdGNvbnNvbGUud2FybiA9IGZ1bmN0aW9uIHdhcm4oLi4uYXJncykge1xuXHRcdGlmIChcblx0XHRcdGFyZ3MubGVuZ3RoID09PSAxICYmXG5cdFx0XHQvPChMYXlvdXR8UGFnZXxFcnJvcikoX1tcXHckXSspPz4gd2FzIGNyZWF0ZWQgKHdpdGggdW5rbm93bnx3aXRob3V0IGV4cGVjdGVkKSBwcm9wICcoZGF0YXxmb3JtKScvLnRlc3QoXG5cdFx0XHRcdGFyZ3NbMF1cblx0XHRcdClcblx0XHQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc29sZV93YXJuKC4uLmFyZ3MpO1xuXHR9O1xuXG5cdGlmIChpbXBvcnQubWV0YS5ob3QpIHtcblx0XHRpbXBvcnQubWV0YS5ob3Qub24oJ3ZpdGU6YmVmb3JlVXBkYXRlJywgKCkgPT4ge1xuXHRcdFx0aWYgKGVycm9yZWQpIHtcblx0XHRcdFx0bG9jYXRpb24ucmVsb2FkKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cbiJdLCJuYW1lcyI6WyJub3JtYWxpemVfcGF0aCIsInBhdGgiLCJ0cmFpbGluZ19zbGFzaCIsImRlY29kZV9wYXRobmFtZSIsInBhdGhuYW1lIiwiZGVjb2RlX3BhcmFtcyIsInBhcmFtcyIsImtleSIsInN0cmlwX2hhc2giLCJocmVmIiwidHJhY2tlZF91cmxfcHJvcGVydGllcyIsIm1ha2VfdHJhY2thYmxlIiwidXJsIiwiY2FsbGJhY2siLCJzZWFyY2hfcGFyYW1zX2NhbGxiYWNrIiwidHJhY2tlZCIsIm9iaiIsInBhcmFtIiwidmFsdWUiLCJwcm9wZXJ0eSIsIkRBVEFfU1VGRklYIiwiSFRNTF9EQVRBX1NVRkZJWCIsImFkZF9kYXRhX3N1ZmZpeCIsImhhc2giLCJ2YWx1ZXMiLCJpIiwiYnVmZmVyIiwiYjY0X2RlY29kZSIsInRleHQiLCJkIiwidTgiLCJuYXRpdmVfZmV0Y2giLCJpbnB1dCIsImluaXQiLCJjYWNoZSIsImJ1aWxkX3NlbGVjdG9yIiwiaW5pdGlhbF9mZXRjaCIsInJlc291cmNlIiwib3B0cyIsInNlbGVjdG9yIiwic2NyaXB0IiwiYm9keSIsInR0bCIsInN1YnNlcXVlbnRfZmV0Y2giLCJyZXNvbHZlZCIsImNhY2hlZCIsInBhcmFtX3BhdHRlcm4iLCJwYXJzZV9yb3V0ZV9pZCIsImlkIiwiZ2V0X3JvdXRlX3NlZ21lbnRzIiwic2VnbWVudCIsInJlc3RfbWF0Y2giLCJvcHRpb25hbF9tYXRjaCIsInBhcnRzIiwiY29udGVudCIsImVzY2FwZSIsImNvZGUiLCJtYXRjaCIsImlzX29wdGlvbmFsIiwiaXNfcmVzdCIsIm5hbWUiLCJtYXRjaGVyIiwiYWZmZWN0c19wYXRoIiwicm91dGUiLCJleGVjIiwibWF0Y2hlcnMiLCJyZXN1bHQiLCJ2YWx1ZXNfbmVlZGluZ19tYXRjaCIsImJ1ZmZlcmVkIiwicyIsIm5leHRfcGFyYW0iLCJuZXh0X3ZhbHVlIiwic3RyIiwicGFyc2UiLCJub2RlcyIsInNlcnZlcl9sb2FkcyIsImRpY3Rpb25hcnkiLCJsYXlvdXRzX3dpdGhfc2VydmVyX2xvYWQiLCJsZWFmIiwibGF5b3V0cyIsImVycm9ycyIsInBhdHRlcm4iLCJuIiwiY3JlYXRlX2xheW91dF9sb2FkZXIiLCJjcmVhdGVfbGVhZl9sb2FkZXIiLCJ1c2VzX3NlcnZlcl9kYXRhIiwiZ2V0Iiwic2V0Iiwic3RyaW5naWZ5IiwiZGF0YSIsInN1YnNjcmliZXJfcXVldWUiLCJ3cml0YWJsZSIsInN0YXJ0Iiwibm9vcCIsInN0b3AiLCJzdWJzY3JpYmVycyIsIm5ld192YWx1ZSIsInNhZmVfbm90X2VxdWFsIiwicnVuX3F1ZXVlIiwic3Vic2NyaWJlciIsInVwZGF0ZSIsImZuIiwic3Vic2NyaWJlIiwicnVuIiwiaW52YWxpZGF0ZSIsIlNOQVBTSE9UX0tFWSIsIlNDUk9MTF9LRVkiLCJTVEFURVNfS0VZIiwiUEFHRV9VUkxfS0VZIiwiSElTVE9SWV9JTkRFWCIsIk5BVklHQVRJT05fSU5ERVgiLCJQUkVMT0FEX1BSSU9SSVRJRVMiLCJvcmlnaW4iLCJyZXNvbHZlX3VybCIsImJhc2VVUkkiLCJiYXNlVGFncyIsInNjcm9sbF9zdGF0ZSIsImxpbmtfb3B0aW9uIiwiZWxlbWVudCIsImxldmVscyIsInBhcmVudF9lbGVtZW50IiwicGFyZW50IiwiZmluZF9hbmNob3IiLCJ0YXJnZXQiLCJnZXRfbGlua19pbmZvIiwiYSIsImJhc2UiLCJleHRlcm5hbCIsImlzX2V4dGVybmFsX3VybCIsImRvd25sb2FkIiwiZ2V0X3JvdXRlcl9vcHRpb25zIiwia2VlcGZvY3VzIiwibm9zY3JvbGwiLCJwcmVsb2FkX2NvZGUiLCJwcmVsb2FkX2RhdGEiLCJyZWxvYWQiLCJyZXBsYWNlX3N0YXRlIiwiZWwiLCJnZXRfb3B0aW9uX3N0YXRlIiwibm90aWZpYWJsZV9zdG9yZSIsInN0b3JlIiwicmVhZHkiLCJub3RpZnkiLCJ2YWwiLCJvbGRfdmFsdWUiLCJjcmVhdGVfdXBkYXRlZF9zdG9yZSIsInRpbWVvdXQiLCJjaGVjayIsInJlcyIsImFzc2V0cyIsInVwZGF0ZWQiLCJ2ZXJzaW9uIiwiVU5ERUZJTkVEIiwiSE9MRSIsIk5BTiIsIlBPU0lUSVZFX0lORklOSVRZIiwiTkVHQVRJVkVfSU5GSU5JVFkiLCJORUdBVElWRV9aRVJPIiwidW5mbGF0dGVuIiwicGFyc2VkIiwicmV2aXZlcnMiLCJoeWRyYXRlIiwiaHlkcmF0ZWQiLCJpbmRleCIsInN0YW5kYWxvbmUiLCJ0eXBlIiwicmV2aXZlciIsIm1hcCIsImFycmF5Iiwib2JqZWN0IiwidmFsaWRfbGF5b3V0X2V4cG9ydHMiLCJ2YWxpZF9sYXlvdXRfc2VydmVyX2V4cG9ydHMiLCJjb21wYWN0IiwiYXJyIiwiSHR0cEVycm9yIiwic3RhdHVzIiwiUmVkaXJlY3QiLCJsb2NhdGlvbiIsIlN2ZWx0ZUtpdEVycm9yIiwibWVzc2FnZSIsIklOVkFMSURBVEVEX1BBUkFNIiwiVFJBSUxJTkdfU0xBU0hfUEFSQU0iLCJnZXRfc3RhdHVzIiwiZXJyb3IiLCJnZXRfbWVzc2FnZSIsInNjcm9sbF9wb3NpdGlvbnMiLCJzdG9yYWdlLmdldCIsInNuYXBzaG90cyIsInN0b3JlcyIsInVwZGF0ZV9zY3JvbGxfcG9zaXRpb25zIiwiY2xlYXJfb253YXJkX2hpc3RvcnkiLCJjdXJyZW50X2hpc3RvcnlfaW5kZXgiLCJjdXJyZW50X25hdmlnYXRpb25faW5kZXgiLCJuYXRpdmVfbmF2aWdhdGlvbiIsInJvdXRlcyIsImRlZmF1bHRfbGF5b3V0X2xvYWRlciIsImRlZmF1bHRfZXJyb3JfbG9hZGVyIiwiY29udGFpbmVyIiwiYXBwIiwiaW52YWxpZGF0ZWQiLCJjb21wb25lbnRzIiwibG9hZF9jYWNoZSIsImJlZm9yZV9uYXZpZ2F0ZV9jYWxsYmFja3MiLCJvbl9uYXZpZ2F0ZV9jYWxsYmFja3MiLCJhZnRlcl9uYXZpZ2F0ZV9jYWxsYmFja3MiLCJjdXJyZW50Iiwic3RhcnRlZCIsImF1dG9zY3JvbGwiLCJuYXZpZ2F0aW5nIiwiaGFzaF9uYXZpZ2F0aW5nIiwiaGFzX25hdmlnYXRlZCIsImZvcmNlX2ludmFsaWRhdGlvbiIsInJvb3QiLCJwYWdlIiwidG9rZW4iLCJwcmVsb2FkX3Rva2VucyIsIl9hcHAiLCJfdGFyZ2V0IiwiX2EiLCJfYiIsInNjcm9sbCIsIl9oeWRyYXRlIiwiZ290byIsIl9zdGFydF9yb3V0ZXIiLCJyZXNldF9pbnZhbGlkYXRpb24iLCJjYXB0dXJlX3NuYXBzaG90IiwiYyIsInJlc3RvcmVfc25hcHNob3QiLCJwZXJzaXN0X3N0YXRlIiwic3RvcmFnZS5zZXQiLCJfZ290byIsIm9wdGlvbnMiLCJyZWRpcmVjdF9jb3VudCIsIm5hdl90b2tlbiIsIm5hdmlnYXRlIiwiX3ByZWxvYWRfZGF0YSIsImludGVudCIsInByZWxvYWQiLCJsb2FkX3JvdXRlIiwiX3ByZWxvYWRfY29kZSIsImdldF91cmxfcGF0aCIsImxvYWQiLCJpbml0aWFsaXplIiwic3R5bGUiLCJuYXZpZ2F0aW9uIiwiZ2V0X25hdmlnYXRpb25fcmVzdWx0X2Zyb21fYnJhbmNoIiwiYnJhbmNoIiwiZm9ybSIsInNsYXNoIiwibm9kZSIsImJyYW5jaF9ub2RlIiwiZGF0YV9jaGFuZ2VkIiwicCIsInByZXYiLCJsb2FkX25vZGUiLCJsb2FkZXIiLCJzZXJ2ZXJfZGF0YV9ub2RlIiwiaXNfdHJhY2tpbmciLCJ1c2VzIiwiZGVwZW5kcyIsImRlcHMiLCJkZXAiLCJsb2FkX2lucHV0IiwicmVxdWVzdGVkIiwiX2MiLCJoYXNfY2hhbmdlZCIsInBhcmVudF9jaGFuZ2VkIiwicm91dGVfY2hhbmdlZCIsInVybF9jaGFuZ2VkIiwic2VhcmNoX3BhcmFtc19jaGFuZ2VkIiwidHJhY2tlZF9wYXJhbXMiLCJjcmVhdGVfZGF0YV9ub2RlIiwicHJldmlvdXMiLCJkaWZmX3NlYXJjaF9wYXJhbXMiLCJvbGRfdXJsIiwibmV3X3VybCIsImNoYW5nZWQiLCJvbGRfdmFsdWVzIiwibmV3X3ZhbHVlcyIsInByZWxvYWRfZXJyb3IiLCJpbnZhbGlkYXRpbmciLCJsb2FkZXJzIiwic2VydmVyX2RhdGEiLCJwYXJlbnRfaW52YWxpZCIsImludmFsaWRfc2VydmVyX25vZGVzIiwiaW52YWxpZCIsImxvYWRfZGF0YSIsImhhbmRsZWRfZXJyb3IiLCJoYW5kbGVfZXJyb3IiLCJsb2FkX3Jvb3RfZXJyb3JfcGFnZSIsInNlcnZlcl9kYXRhX25vZGVzIiwiYnJhbmNoX3Byb21pc2VzIiwiaiIsImVyciIsImVycm9yX2xvYWQiLCJsb2FkX25lYXJlc3RfZXJyb3JfcGFnZSIsInNlcnZlcl9mYWxsYmFjayIsInJvb3RfbGF5b3V0Iiwicm9vdF9lcnJvciIsImdldF9uYXZpZ2F0aW9uX2ludGVudCIsInJlcm91dGVkIiwiX2JlZm9yZV9uYXZpZ2F0ZSIsImRlbHRhIiwic2hvdWxkX2Jsb2NrIiwibmF2IiwiY3JlYXRlX25hdmlnYXRpb24iLCJjYW5jZWxsYWJsZSIsInBvcHBlZCIsInN0YXRlIiwiYWNjZXB0IiwiYmxvY2siLCJwcmV2aW91c19oaXN0b3J5X2luZGV4IiwicHJldmlvdXNfbmF2aWdhdGlvbl9pbmRleCIsIm5hdmlnYXRpb25fcmVzdWx0IiwiY2hhbmdlIiwiZW50cnkiLCJhZnRlcl9uYXZpZ2F0ZSIsImNsZWFudXAiLCJhY3RpdmVFbGVtZW50IiwidGljayIsImRlZXBfbGlua2VkIiwiY2hhbmdlZF9mb2N1cyIsInJlc2V0X2ZvY3VzIiwic2V0dXBfcHJlbG9hZCIsIm1vdXNlbW92ZV90aW1lb3V0IiwiZXZlbnQiLCJ0YXAiLCJvYnNlcnZlciIsImVudHJpZXMiLCJwcmlvcml0eSIsIm5vbmhhc2giLCJjdXJyZW50X2hhc2giLCJ1cGRhdGVfdXJsIiwic3VibWl0dGVyIiwiZXZlbnRfZm9ybSIsInN1Ym1pdHRlcl9uYW1lIiwiaGlzdG9yeV9pbmRleCIsIm5hdmlnYXRpb25faW5kZXgiLCJpc19oYXNoX2NoYW5nZSIsImxpbmsiLCJub2RlX2lkcyIsImRlc2VyaWFsaXplX3VzZXMiLCJwYXJzZWRfcm91dGUiLCJkYXRhX3VybCIsInJlc29sdmUiLCJkZWZlcnJlZHMiLCJyZWFkZXIiLCJkZWNvZGVyIiwiZGVzZXJpYWxpemUiLCJkZXZhbHVlLnVuZmxhdHRlbiIsImZ1bGZpbCIsInJlamVjdCIsImRvbmUiLCJzcGxpdCIsImRlZmVycmVkIiwiYXV0b2ZvY3VzIiwidGFiaW5kZXgiLCJzZWxlY3Rpb24iLCJyYW5nZXMiLCJiIiwiY29tcGxldGUiLCJmIiwiciJdLCJtYXBwaW5ncyI6IjZEQVFpQixJQUFJLElBQUksdUJBQXVCLEVBeUJ6QyxTQUFTQSxHQUFlQyxFQUFNQyxFQUFnQixDQUNwRCxPQUFJRCxJQUFTLEtBQU9DLElBQW1CLFNBQWlCRCxFQUVwREMsSUFBbUIsUUFDZkQsRUFBSyxTQUFTLEdBQUcsRUFBSUEsRUFBSyxNQUFNLEVBQUcsRUFBRSxFQUFJQSxFQUN0Q0MsSUFBbUIsVUFBWSxDQUFDRCxFQUFLLFNBQVMsR0FBRyxFQUNwREEsRUFBTyxJQUdSQSxDQUNSLENBTU8sU0FBU0UsR0FBZ0JDLEVBQVUsQ0FDekMsT0FBT0EsRUFBUyxNQUFNLEtBQUssRUFBRSxJQUFJLFNBQVMsRUFBRSxLQUFLLEtBQUssQ0FDdkQsQ0FHTyxTQUFTQyxHQUFjQyxFQUFRLENBQ3JDLFVBQVdDLEtBQU9ELEVBR2pCQSxFQUFPQyxDQUFHLEVBQUksbUJBQW1CRCxFQUFPQyxDQUFHLENBQUMsRUFHN0MsT0FBT0QsQ0FDUixDQXFCTyxTQUFTRSxHQUFXLENBQUUsS0FBQUMsR0FBUSxDQUNwQyxPQUFPQSxFQUFLLE1BQU0sR0FBRyxFQUFFLENBQUMsQ0FDekIsQ0FNQSxNQUFNQyxHQUErQyxDQUNwRCxPQUNBLFdBQ0EsU0FDQSxXQUNBLFFBQ0QsRUFPTyxTQUFTQyxHQUFlQyxFQUFLQyxFQUFVQyxFQUF3QixDQUNyRSxNQUFNQyxFQUFVLElBQUksSUFBSUgsQ0FBRyxFQUUzQixPQUFPLGVBQWVHLEVBQVMsZUFBZ0IsQ0FDOUMsTUFBTyxJQUFJLE1BQU1BLEVBQVEsYUFBYyxDQUN0QyxJQUFJQyxFQUFLVCxFQUFLLENBQ2IsR0FBSUEsSUFBUSxPQUFTQSxJQUFRLFVBQVlBLElBQVEsTUFDaEQsT0FBNEJVLElBQzNCSCxFQUF1QkcsQ0FBSyxFQUNyQkQsRUFBSVQsQ0FBRyxFQUFFVSxDQUFLLEdBTXZCSixJQUVBLE1BQU1LLEVBQVEsUUFBUSxJQUFJRixFQUFLVCxDQUFHLEVBQ2xDLE9BQU8sT0FBT1csR0FBVSxXQUFhQSxFQUFNLEtBQUtGLENBQUcsRUFBSUUsQ0FDdkQsQ0FDSixDQUFHLEVBQ0QsV0FBWSxHQUNaLGFBQWMsRUFDaEIsQ0FBRSxFQUVELFVBQVdDLEtBQVlULEdBQ3RCLE9BQU8sZUFBZUssRUFBU0ksRUFBVSxDQUN4QyxLQUFNLENBQ0wsT0FBQU4sSUFDT0QsRUFBSU8sQ0FBUSxDQUNuQixFQUVELFdBQVksR0FDWixhQUFjLEVBQ2pCLENBQUcsRUFjRixPQUFPSixDQUNSLENBK0NBLE1BQU1LLEdBQWMsZUFDZEMsR0FBbUIsbUJBUWxCLFNBQVNDLEdBQWdCbEIsRUFBVSxDQUN6QyxPQUFJQSxFQUFTLFNBQVMsT0FBTyxFQUFVQSxFQUFTLFFBQVEsVUFBV2lCLEVBQWdCLEVBQzVFakIsRUFBUyxRQUFRLE1BQU8sRUFBRSxFQUFJZ0IsRUFDdEMsQ0NoTk8sU0FBU0csTUFBUUMsRUFBUSxDQUMvQixJQUFJRCxFQUFPLEtBRVgsVUFBV0wsS0FBU00sRUFDbkIsR0FBSSxPQUFPTixHQUFVLFNBQVUsQ0FDOUIsSUFBSU8sRUFBSVAsRUFBTSxPQUNkLEtBQU9PLEdBQUdGLEVBQVFBLEVBQU8sR0FBTUwsRUFBTSxXQUFXLEVBQUVPLENBQUMsQ0FDbkQsU0FBVSxZQUFZLE9BQU9QLENBQUssRUFBRyxDQUNyQyxNQUFNUSxFQUFTLElBQUksV0FBV1IsRUFBTSxPQUFRQSxFQUFNLFdBQVlBLEVBQU0sVUFBVSxFQUM5RSxJQUFJTyxFQUFJQyxFQUFPLE9BQ2YsS0FBT0QsR0FBR0YsRUFBUUEsRUFBTyxHQUFNRyxFQUFPLEVBQUVELENBQUMsQ0FDNUMsS0FDRyxPQUFNLElBQUksVUFBVSxzQ0FBc0MsRUFJNUQsT0FBUUYsSUFBUyxHQUFHLFNBQVMsRUFBRSxDQUNoQyxDQ2pCTyxTQUFTSSxHQUFXQyxFQUFNLENBQ2hDLE1BQU1DLEVBQUksS0FBS0QsQ0FBSSxFQUViRSxFQUFLLElBQUksV0FBV0QsRUFBRSxNQUFNLEVBRWxDLFFBQVNKLEVBQUksRUFBR0EsRUFBSUksRUFBRSxPQUFRSixJQUM3QkssRUFBR0wsQ0FBQyxFQUFJSSxFQUFFLFdBQVdKLENBQUMsRUFHdkIsT0FBT0ssRUFBRyxNQUNYLENDUE8sTUFBTUMsR0FBeUIsT0FBTyxNQTRENUMsT0FBTyxNQUFRLENBQUNDLEVBQU9DLE1BQ1BELGFBQWlCLFFBQVVBLEVBQU0sUUFBU0MsR0FBQSxZQUFBQSxFQUFNLFNBQVUsU0FFMUQsT0FDZEMsRUFBTSxPQUFPQyxHQUFlSCxDQUFLLENBQUMsRUFHNUJELEdBQWFDLEVBQU9DLENBQUksR0FJakMsTUFBTUMsRUFBUSxJQUFJLElBUVgsU0FBU0UsR0FBY0MsRUFBVUMsRUFBTSxDQUM3QyxNQUFNQyxFQUFXSixHQUFlRSxFQUFVQyxDQUFJLEVBRXhDRSxFQUFTLFNBQVMsY0FBY0QsQ0FBUSxFQUM5QyxHQUFJQyxHQUFBLE1BQUFBLEVBQVEsWUFBYSxDQUN4QixHQUFJLENBQUUsS0FBQUMsRUFBTSxHQUFHUixDQUFNLEVBQUcsS0FBSyxNQUFNTyxFQUFPLFdBQVcsRUFFckQsTUFBTUUsRUFBTUYsRUFBTyxhQUFhLFVBQVUsRUFDMUMsT0FBSUUsR0FBS1IsRUFBTSxJQUFJSyxFQUFVLENBQUUsS0FBQUUsRUFBTSxLQUFBUixFQUFNLElBQUssSUFBTyxPQUFPUyxDQUFHLENBQUcsQ0FBQSxFQUN4REYsRUFBTyxhQUFhLFVBQVUsSUFDOUIsT0FHWEMsRUFBT2QsR0FBV2MsQ0FBSSxHQUdoQixRQUFRLFFBQVEsSUFBSSxTQUFTQSxFQUFNUixDQUFJLENBQUMsQ0FDL0MsQ0FFRCxPQUF5QyxPQUFPLE1BQU1JLEVBQVVDLENBQUksQ0FDckUsQ0FRTyxTQUFTSyxHQUFpQk4sRUFBVU8sRUFBVU4sRUFBTSxDQUMxRCxHQUFJSixFQUFNLEtBQU8sRUFBRyxDQUNuQixNQUFNSyxFQUFXSixHQUFlRSxFQUFVQyxDQUFJLEVBQ3hDTyxFQUFTWCxFQUFNLElBQUlLLENBQVEsRUFDakMsR0FBSU0sRUFBUSxDQUVYLEdBQ0MsWUFBWSxNQUFRQSxFQUFPLEtBQzNCLENBQUMsVUFBVyxjQUFlLGlCQUFrQixNQUFTLEVBQUUsU0FBU1AsR0FBQSxZQUFBQSxFQUFNLEtBQUssRUFFNUUsT0FBTyxJQUFJLFNBQVNPLEVBQU8sS0FBTUEsRUFBTyxJQUFJLEVBRzdDWCxFQUFNLE9BQU9LLENBQVEsQ0FDckIsQ0FDRCxDQUVELE9BQXlDLE9BQU8sTUFBTUssRUFBVU4sQ0FBSSxDQUNyRSxDQXNCQSxTQUFTSCxHQUFlRSxFQUFVQyxFQUFNLENBR3ZDLElBQUlDLEVBQVcsMkNBRkgsS0FBSyxVQUFVRixhQUFvQixRQUFVQSxFQUFTLElBQU1BLENBQVEsQ0FFbkIsSUFFN0QsR0FBSUMsR0FBQSxNQUFBQSxFQUFNLFNBQVdBLEdBQUEsTUFBQUEsRUFBTSxLQUFNLENBRWhDLE1BQU1kLEVBQVMsQ0FBQSxFQUVYYyxFQUFLLFNBQ1JkLEVBQU8sS0FBSyxDQUFDLEdBQUcsSUFBSSxRQUFRYyxFQUFLLE9BQU8sQ0FBQyxFQUFFLEtBQUssR0FBRyxDQUFDLEVBR2pEQSxFQUFLLE9BQVMsT0FBT0EsRUFBSyxNQUFTLFVBQVksWUFBWSxPQUFPQSxFQUFLLElBQUksSUFDOUVkLEVBQU8sS0FBS2MsRUFBSyxJQUFJLEVBR3RCQyxHQUFZLGVBQWVoQixHQUFLLEdBQUdDLENBQU0sQ0FBQyxJQUMxQyxDQUVELE9BQU9lLENBQ1IsQ0M3S0EsTUFBTU8sR0FBZ0Isd0NBTWYsU0FBU0MsR0FBZUMsRUFBSSxDQUVsQyxNQUFNMUMsRUFBUyxDQUFBLEVBMEZmLE1BQU8sQ0FBRSxRQXZGUjBDLElBQU8sSUFDSixPQUNBLElBQUksT0FDSixJQUFJQyxHQUFtQkQsQ0FBRSxFQUN2QixJQUFLRSxHQUFZLENBRWpCLE1BQU1DLEVBQWEsK0JBQStCLEtBQUtELENBQU8sRUFDOUQsR0FBSUMsRUFDSCxPQUFBN0MsRUFBTyxLQUFLLENBQ1gsS0FBTTZDLEVBQVcsQ0FBQyxFQUNsQixRQUFTQSxFQUFXLENBQUMsRUFDckIsU0FBVSxHQUNWLEtBQU0sR0FDTixRQUFTLEVBQ2xCLENBQVMsRUFDTSxhQUdSLE1BQU1DLEVBQWlCLDZCQUE2QixLQUFLRixDQUFPLEVBQ2hFLEdBQUlFLEVBQ0gsT0FBQTlDLEVBQU8sS0FBSyxDQUNYLEtBQU04QyxFQUFlLENBQUMsRUFDdEIsUUFBU0EsRUFBZSxDQUFDLEVBQ3pCLFNBQVUsR0FDVixLQUFNLEdBQ04sUUFBUyxFQUNsQixDQUFTLEVBQ00sZ0JBR1IsR0FBSSxDQUFDRixFQUNKLE9BR0QsTUFBTUcsRUFBUUgsRUFBUSxNQUFNLGlCQUFpQixFQWdEN0MsTUFBTyxJQS9DUUcsRUFDYixJQUFJLENBQUNDLEVBQVM3QixJQUFNLENBQ3BCLEdBQUlBLEVBQUksRUFBRyxDQUNWLEdBQUk2QixFQUFRLFdBQVcsSUFBSSxFQUMxQixPQUFPQyxHQUFPLE9BQU8sYUFBYSxTQUFTRCxFQUFRLE1BQU0sQ0FBQyxFQUFHLEVBQUUsQ0FBQyxDQUFDLEVBR2xFLEdBQUlBLEVBQVEsV0FBVyxJQUFJLEVBQzFCLE9BQU9DLEdBQ04sT0FBTyxhQUNOLEdBQUdELEVBQ0QsTUFBTSxDQUFDLEVBQ1AsTUFBTSxHQUFHLEVBQ1QsSUFBS0UsR0FBUyxTQUFTQSxFQUFNLEVBQUUsQ0FBQyxDQUNsQyxDQUNiLEVBTVUsTUFBTUMsRUFBd0NYLEdBQWMsS0FBS1EsQ0FBTyxFQU9sRSxDQUFBLENBQUdJLEVBQWFDLEVBQVNDLEVBQU1DLENBQU8sRUFBSUosRUFLaEQsT0FBQW5ELEVBQU8sS0FBSyxDQUNYLEtBQUFzRCxFQUNBLFFBQUFDLEVBQ0EsU0FBVSxDQUFDLENBQUNILEVBQ1osS0FBTSxDQUFDLENBQUNDLEVBQ1IsUUFBU0EsRUFBVWxDLElBQU0sR0FBSzRCLEVBQU0sQ0FBQyxJQUFNLEdBQUssRUFDM0QsQ0FBVyxFQUNNTSxFQUFVLFFBQVVELEVBQWMsV0FBYSxVQUN0RCxDQUVELE9BQU9ILEdBQU9ELENBQU8sQ0FDOUIsQ0FBUyxFQUNBLEtBQUssRUFBRSxDQUdoQixDQUFPLEVBQ0EsS0FBSyxFQUFFLENBQUMsS0FDZixFQUVtQixPQUFBaEQsRUFDbkIsQ0FpQkEsU0FBU3dELEdBQWFaLEVBQVMsQ0FDOUIsTUFBTyxDQUFDLGNBQWMsS0FBS0EsQ0FBTyxDQUNuQyxDQVNPLFNBQVNELEdBQW1CYyxFQUFPLENBQ3pDLE9BQU9BLEVBQU0sTUFBTSxDQUFDLEVBQUUsTUFBTSxHQUFHLEVBQUUsT0FBT0QsRUFBWSxDQUNyRCxDQU9PLFNBQVNFLEdBQUtQLEVBQU9uRCxFQUFRMkQsRUFBVSxDQUU3QyxNQUFNQyxFQUFTLENBQUEsRUFFVDFDLEVBQVNpQyxFQUFNLE1BQU0sQ0FBQyxFQUN0QlUsRUFBdUIzQyxFQUFPLE9BQVFOLEdBQVVBLElBQVUsTUFBUyxFQUV6RSxJQUFJa0QsRUFBVyxFQUVmLFFBQVMzQyxFQUFJLEVBQUdBLEVBQUluQixFQUFPLE9BQVFtQixHQUFLLEVBQUcsQ0FDMUMsTUFBTVIsRUFBUVgsRUFBT21CLENBQUMsRUFDdEIsSUFBSVAsRUFBUU0sRUFBT0MsRUFBSTJDLENBQVEsRUFjL0IsR0FWSW5ELEVBQU0sU0FBV0EsRUFBTSxNQUFRbUQsSUFDbENsRCxFQUFRTSxFQUNOLE1BQU1DLEVBQUkyQyxFQUFVM0MsRUFBSSxDQUFDLEVBQ3pCLE9BQVE0QyxHQUFNQSxDQUFDLEVBQ2YsS0FBSyxHQUFHLEVBRVZELEVBQVcsR0FJUmxELElBQVUsT0FBVyxDQUNwQkQsRUFBTSxPQUFNaUQsRUFBT2pELEVBQU0sSUFBSSxFQUFJLElBQ3JDLFFBQ0EsQ0FFRCxHQUFJLENBQUNBLEVBQU0sU0FBV2dELEVBQVNoRCxFQUFNLE9BQU8sRUFBRUMsQ0FBSyxFQUFHLENBQ3JEZ0QsRUFBT2pELEVBQU0sSUFBSSxFQUFJQyxFQUlyQixNQUFNb0QsRUFBYWhFLEVBQU9tQixFQUFJLENBQUMsRUFDekI4QyxFQUFhL0MsRUFBT0MsRUFBSSxDQUFDLEVBQzNCNkMsR0FBYyxDQUFDQSxFQUFXLE1BQVFBLEVBQVcsVUFBWUMsR0FBY3RELEVBQU0sVUFDaEZtRCxFQUFXLEdBS1gsQ0FBQ0UsR0FDRCxDQUFDQyxHQUNELE9BQU8sS0FBS0wsQ0FBTSxFQUFFLFNBQVdDLEVBQXFCLFNBRXBEQyxFQUFXLEdBRVosUUFDQSxDQUlELEdBQUluRCxFQUFNLFVBQVlBLEVBQU0sUUFBUyxDQUNwQ21ELElBQ0EsUUFDQSxDQUdELE1BQ0EsQ0FFRCxHQUFJLENBQUFBLEVBQ0osT0FBT0YsQ0FDUixDQUdBLFNBQVNYLEdBQU9pQixFQUFLLENBQ3BCLE9BQ0NBLEVBQ0UsVUFBVyxFQUVYLFFBQVEsU0FBVSxNQUFNLEVBRXhCLFFBQVEsS0FBTSxLQUFLLEVBQ25CLFFBQVEsTUFBTyxRQUFRLEVBQ3ZCLFFBQVEsTUFBTyxRQUFRLEVBQ3ZCLFFBQVEsS0FBTSxLQUFLLEVBRW5CLFFBQVEsbUJBQW9CLE1BQU0sQ0FFdEMsQ0N0Tk8sU0FBU0MsR0FBTSxDQUFFLE1BQUFDLEVBQU8sYUFBQUMsRUFBYyxXQUFBQyxFQUFZLFNBQUFYLENBQVEsRUFBSSxDQUNwRSxNQUFNWSxFQUEyQixJQUFJLElBQUlGLENBQVksRUFFckQsT0FBTyxPQUFPLFFBQVFDLENBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQzVCLEVBQUksQ0FBQzhCLEVBQU1DLEVBQVNDLENBQU0sQ0FBQyxJQUFNLENBQ3hFLEtBQU0sQ0FBRSxRQUFBQyxFQUFTLE9BQUEzRSxDQUFRLEVBQUd5QyxHQUFlQyxDQUFFLEVBRXZDZSxFQUFRLENBQ2IsR0FBQWYsRUFFQSxLQUFPL0MsR0FBUyxDQUNmLE1BQU13RCxFQUFRd0IsRUFBUSxLQUFLaEYsQ0FBSSxFQUMvQixHQUFJd0QsRUFBTyxPQUFPTyxHQUFLUCxFQUFPbkQsRUFBUTJELENBQVEsQ0FDOUMsRUFDRCxPQUFRLENBQUMsRUFBRyxHQUFJZSxHQUFVLENBQUUsQ0FBQSxFQUFHLElBQUtFLEdBQU1SLEVBQU1RLENBQUMsQ0FBQyxFQUNsRCxRQUFTLENBQUMsRUFBRyxHQUFJSCxHQUFXLENBQUEsQ0FBSSxFQUFDLElBQUlJLENBQW9CLEVBQ3pELEtBQU1DLEVBQW1CTixDQUFJLENBQ2hDLEVBS0UsT0FBQWYsRUFBTSxPQUFPLE9BQVNBLEVBQU0sUUFBUSxPQUFTLEtBQUssSUFDakRBLEVBQU0sT0FBTyxPQUNiQSxFQUFNLFFBQVEsTUFDakIsRUFFU0EsQ0FDVCxDQUFFLEVBTUQsU0FBU3FCLEVBQW1CcEMsRUFBSSxDQUcvQixNQUFNcUMsRUFBbUJyQyxFQUFLLEVBQzlCLE9BQUlxQyxJQUFrQnJDLEVBQUssQ0FBQ0EsR0FDckIsQ0FBQ3FDLEVBQWtCWCxFQUFNMUIsQ0FBRSxDQUFDLENBQ25DLENBTUQsU0FBU21DLEVBQXFCbkMsRUFBSSxDQUdqQyxPQUFPQSxJQUFPLE9BQVlBLEVBQUssQ0FBQzZCLEVBQXlCLElBQUk3QixDQUFFLEVBQUcwQixFQUFNMUIsQ0FBRSxDQUFDLENBQzNFLENBQ0YsQ0NuRE8sU0FBU3NDLEdBQUkvRSxFQUFLa0UsRUFBUSxLQUFLLE1BQU8sQ0FDNUMsR0FBSSxDQUNILE9BQU9BLEVBQU0sZUFBZWxFLENBQUcsQ0FBQyxDQUNsQyxNQUFTLENBRVAsQ0FDRixDQVFPLFNBQVNnRixHQUFJaEYsRUFBS1csRUFBT3NFLEVBQVksS0FBSyxVQUFXLENBQzNELE1BQU1DLEVBQU9ELEVBQVV0RSxDQUFLLEVBQzVCLEdBQUksQ0FDSCxlQUFlWCxDQUFHLEVBQUlrRixDQUN4QixNQUFTLENBRVAsQ0FDRixDQ2pCQSxNQUFNQyxFQUFtQixDQUFBLEVBMEJsQixTQUFTQyxHQUFTekUsRUFBTzBFLEVBQVFDLEdBQU0sQ0FFN0MsSUFBSUMsRUFFSixNQUFNQyxFQUFjLElBQUksSUFJeEIsU0FBU1IsRUFBSVMsRUFBVyxDQUN2QixHQUFJQyxHQUFlL0UsRUFBTzhFLENBQVMsSUFDbEM5RSxFQUFROEUsRUFDSkYsR0FBTSxDQUVULE1BQU1JLEVBQVksQ0FBQ1IsRUFBaUIsT0FDcEMsVUFBV1MsS0FBY0osRUFDeEJJLEVBQVcsQ0FBQyxJQUNaVCxFQUFpQixLQUFLUyxFQUFZakYsQ0FBSyxFQUV4QyxHQUFJZ0YsRUFBVyxDQUNkLFFBQVN6RSxFQUFJLEVBQUdBLEVBQUlpRSxFQUFpQixPQUFRakUsR0FBSyxFQUNqRGlFLEVBQWlCakUsQ0FBQyxFQUFFLENBQUMsRUFBRWlFLEVBQWlCakUsRUFBSSxDQUFDLENBQUMsRUFFL0NpRSxFQUFpQixPQUFTLENBQzFCLENBQ0QsQ0FFRixDQU1ELFNBQVNVLEVBQU9DLEVBQUksQ0FDbkJkLEVBQUljLEVBQUduRixDQUFLLENBQUMsQ0FDYixDQU9ELFNBQVNvRixFQUFVQyxFQUFLQyxFQUFhWCxHQUFNLENBRTFDLE1BQU1NLEVBQWEsQ0FBQ0ksRUFBS0MsQ0FBVSxFQUNuQyxPQUFBVCxFQUFZLElBQUlJLENBQVUsRUFDdEJKLEVBQVksT0FBUyxJQUN4QkQsRUFBT0YsRUFBTUwsRUFBS2EsQ0FBTSxHQUFLUCxJQUU5QlUsRUFBSXJGLENBQUssRUFDRixJQUFNLENBQ1o2RSxFQUFZLE9BQU9JLENBQVUsRUFDekJKLEVBQVksT0FBUyxHQUFLRCxJQUM3QkEsSUFDQUEsRUFBTyxLQUVYLENBQ0UsQ0FDRCxNQUFPLENBQUUsSUFBQVAsRUFBSyxPQUFBYSxFQUFRLFVBQUFFLEVBQ3ZCLHFNQzdGYUcsR0FBZSxxQkFDZkMsR0FBYSxtQkFDYkMsR0FBYSxtQkFDYkMsR0FBZSxvQkFFZkMsRUFBZ0Isb0JBQ2hCQyxFQUFtQix1QkFFbkJDLEVBQTJDLENBQ3ZELElBQUssRUFDTCxNQUFPLEVBQ1AsU0FBVSxFQUNWLE1BQU8sRUFDUCxJQUFLLEdBQ0wsTUFBTyxFQUNSLEVDUGFDLEVBQW1CLFNBQVMsT0FHbEMsU0FBU0MsR0FBWXJHLEVBQUssQ0FDaEMsR0FBSUEsYUFBZSxJQUFZLE9BQUFBLEVBRS9CLElBQUlzRyxFQUFVLFNBQVMsUUFFdkIsR0FBSSxDQUFDQSxFQUFTLENBQ1AsTUFBQUMsRUFBVyxTQUFTLHFCQUFxQixNQUFNLEVBQ3JERCxFQUFVQyxFQUFTLE9BQVNBLEVBQVMsQ0FBQyxFQUFFLEtBQU8sU0FBUyxHQUN6RCxDQUVPLE9BQUEsSUFBSSxJQUFJdkcsRUFBS3NHLENBQU8sQ0FDNUIsQ0FFTyxTQUFTRSxJQUFlLENBQ3ZCLE1BQUEsQ0FDTixFQUFHLFlBQ0gsRUFBRyxXQUFBLENBRUwsQ0F5QkEsU0FBU0MsRUFBWUMsRUFBUzFELEVBQU0sQ0FTNUIsT0FQTjBELEVBQVEsYUFBYSxrQkFBa0IxRCxDQUFJLEVBQUUsQ0FRL0MsQ0F5QkEsTUFBTTJELEdBQVMsQ0FDZCxHQUFHUixFQUNILEdBQUlBLEVBQW1CLEtBQ3hCLEVBTUEsU0FBU1MsR0FBZUYsRUFBUyxDQUM1QixJQUFBRyxFQUFTSCxFQUFRLGNBQWdCQSxFQUFRLFdBRzdDLE9BQUlHLEdBQUEsWUFBQUEsRUFBUSxZQUFhLEtBQUlBLEVBQVNBLEVBQU8sTUFFZEEsQ0FDaEMsQ0FNZ0IsU0FBQUMsR0FBWUosRUFBU0ssRUFBUSxDQUNyQyxLQUFBTCxHQUFXQSxJQUFZSyxHQUFRLENBQ2pDLEdBQUFMLEVBQVEsU0FBUyxZQUFZLElBQU0sS0FBT0EsRUFBUSxhQUFhLE1BQU0sRUFDeEUsT0FBdURBLEVBR3hEQSxFQUFrQ0UsR0FBZUYsQ0FBTyxDQUN6RCxDQUNELENBTWdCLFNBQUFNLEdBQWNDLEVBQUdDLEVBQU0sQ0FFbEMsSUFBQWxILEVBRUEsR0FBQSxDQUNHQSxFQUFBLElBQUksSUFBSWlILGFBQWEsWUFBY0EsRUFBRSxLQUFLLFFBQVVBLEVBQUUsS0FBTSxTQUFTLE9BQU8sQ0FBQSxNQUMzRSxDQUFDLENBRVQsTUFBTUYsRUFBU0UsYUFBYSxZQUFjQSxFQUFFLE9BQU8sUUFBVUEsRUFBRSxPQUV6REUsRUFDTCxDQUFDbkgsR0FDRCxDQUFDLENBQUMrRyxHQUNGSyxHQUFnQnBILEVBQUtrSCxDQUFJLElBQ3hCRCxFQUFFLGFBQWEsS0FBSyxHQUFLLElBQUksTUFBTSxLQUFLLEVBQUUsU0FBUyxVQUFVLEVBRXpESSxHQUFXckgsR0FBQSxZQUFBQSxFQUFLLFVBQVdvRyxHQUFVYSxFQUFFLGFBQWEsVUFBVSxFQUVwRSxNQUFPLENBQUUsSUFBQWpILEVBQUssU0FBQW1ILEVBQVUsT0FBQUosRUFBUSxTQUFBTSxDQUFTLENBQzFDLENBS08sU0FBU0MsRUFBbUJaLEVBQVMsQ0FFM0MsSUFBSWEsRUFBWSxLQUdaQyxFQUFXLEtBR1hDLEVBQWUsS0FHZkMsRUFBZSxLQUdmQyxFQUFTLEtBR1RDLEVBQWdCLEtBR2hCQyxFQUFLbkIsRUFFRixLQUFBbUIsR0FBTUEsSUFBTyxTQUFTLGlCQUN4QkosSUFBaUIsT0FBcUJBLEVBQUFoQixFQUFZb0IsRUFBSSxjQUFjLEdBQ3BFSCxJQUFpQixPQUFxQkEsRUFBQWpCLEVBQVlvQixFQUFJLGNBQWMsR0FDcEVOLElBQWMsT0FBa0JBLEVBQUFkLEVBQVlvQixFQUFJLFdBQVcsR0FDM0RMLElBQWEsT0FBaUJBLEVBQUFmLEVBQVlvQixFQUFJLFVBQVUsR0FDeERGLElBQVcsT0FBZUEsRUFBQWxCLEVBQVlvQixFQUFJLFFBQVEsR0FDbERELElBQWtCLE9BQXNCQSxFQUFBbkIsRUFBWW9CLEVBQUksY0FBYyxHQUUxRUEsRUFBNkJqQixHQUFlaUIsQ0FBRSxFQUkvQyxTQUFTQyxFQUFpQnhILEVBQU8sQ0FDaEMsT0FBUUEsRUFBTyxDQUNkLElBQUssR0FDTCxJQUFLLE9BQ0csTUFBQSxHQUNSLElBQUssTUFDTCxJQUFLLFFBQ0csTUFBQSxHQUNSLFFBQ1EsTUFDVCxDQUNELENBRU8sTUFBQSxDQUNOLGFBQWNxRyxHQUFPYyxHQUFnQixLQUFLLEVBQzFDLGFBQWNkLEdBQU9lLEdBQWdCLEtBQUssRUFDMUMsVUFBV0ksRUFBaUJQLENBQVMsRUFDckMsU0FBVU8sRUFBaUJOLENBQVEsRUFDbkMsT0FBUU0sRUFBaUJILENBQU0sRUFDL0IsY0FBZUcsRUFBaUJGLENBQWEsQ0FBQSxDQUUvQyxDQUdPLFNBQVNHLEdBQWlCekgsRUFBTyxDQUNqQyxNQUFBMEgsRUFBUWpELEdBQVN6RSxDQUFLLEVBQzVCLElBQUkySCxFQUFRLEdBRVosU0FBU0MsR0FBUyxDQUNURCxFQUFBLEdBQ0ZELEVBQUEsT0FBUUcsR0FBUUEsQ0FBRyxDQUMxQixDQUdBLFNBQVN4RCxFQUFJUyxFQUFXLENBQ2Y2QyxFQUFBLEdBQ1JELEVBQU0sSUFBSTVDLENBQVMsQ0FDcEIsQ0FHQSxTQUFTTSxFQUFVQyxFQUFLLENBRW5CLElBQUF5QyxFQUNHLE9BQUFKLEVBQU0sVUFBVzVDLEdBQWMsRUFDakNnRCxJQUFjLFFBQWNILEdBQVM3QyxJQUFjZ0QsSUFDdER6QyxFQUFLeUMsRUFBWWhELENBQVUsQ0FDNUIsQ0FDQSxDQUNGLENBRU8sTUFBQSxDQUFFLE9BQUE4QyxFQUFRLElBQUF2RCxFQUFLLFVBQUFlLEVBQ3ZCLENBRU8sU0FBUzJDLElBQXVCLENBQ3RDLEtBQU0sQ0FBRSxJQUFBMUQsRUFBSyxVQUFBZSxDQUFVLEVBQUlYLEdBQVMsRUFBSyxFQVlyQyxJQUFBdUQsRUFHSixlQUFlQyxHQUFRLENBQ3RCLGFBQWFELENBQU8sRUFJaEIsR0FBQSxDQUNILE1BQU1FLEVBQU0sTUFBTSxNQUFNLEdBQUdDLEVBQU0scUJBQXNDLENBQ3RFLFFBQVMsQ0FDUixPQUFRLFdBQ1IsZ0JBQWlCLFVBQ2xCLENBQUEsQ0FDQSxFQUVHLEdBQUEsQ0FBQ0QsRUFBSSxHQUNELE1BQUEsR0FJRixNQUFBRSxHQURPLE1BQU1GLEVBQUksUUFDRixVQUFZRyxHQUVqQyxPQUFJRCxJQUNIL0QsRUFBSSxFQUFJLEVBQ1IsYUFBYTJELENBQU8sR0FHZEksQ0FBQSxNQUNBLENBQ0EsTUFBQSxFQUNSLENBQ0QsQ0FJTyxNQUFBLENBQ04sVUFBQWhELEVBQ0EsTUFBQTZDLENBQUEsQ0FFRixDQU1nQixTQUFBbkIsR0FBZ0JwSCxFQUFLa0gsRUFBTSxDQUMxQyxPQUFPbEgsRUFBSSxTQUFXb0csR0FBVSxDQUFDcEcsRUFBSSxTQUFTLFdBQVdrSCxDQUFJLENBQzlELENDelNPLE1BQU0wQixHQUFZLEdBQ1pDLEdBQU8sR0FDUEMsR0FBTSxHQUNOQyxHQUFvQixHQUNwQkMsR0FBb0IsR0FDcEJDLEdBQWdCLEdDa0J0QixTQUFTQyxHQUFVQyxFQUFRQyxFQUFVLENBQzNDLEdBQUksT0FBT0QsR0FBVyxTQUFVLE9BQU9FLEVBQVFGLEVBQVEsRUFBSSxFQUUzRCxHQUFJLENBQUMsTUFBTSxRQUFRQSxDQUFNLEdBQUtBLEVBQU8sU0FBVyxFQUMvQyxNQUFNLElBQUksTUFBTSxlQUFlLEVBR2hDLE1BQU12SSxFQUErQnVJLEVBRS9CRyxFQUFXLE1BQU0xSSxFQUFPLE1BQU0sRUFNcEMsU0FBU3lJLEVBQVFFLEVBQU9DLEVBQWEsR0FBTyxDQUMzQyxHQUFJRCxJQUFVWCxHQUFXLE9BQ3pCLEdBQUlXLElBQVVULEdBQUssTUFBTyxLQUMxQixHQUFJUyxJQUFVUixHQUFtQixNQUFPLEtBQ3hDLEdBQUlRLElBQVVQLEdBQW1CLE1BQU8sS0FDeEMsR0FBSU8sSUFBVU4sR0FBZSxNQUFPLEdBRXBDLEdBQUlPLEVBQVksTUFBTSxJQUFJLE1BQU0sZUFBZSxFQUUvQyxHQUFJRCxLQUFTRCxFQUFVLE9BQU9BLEVBQVNDLENBQUssRUFFNUMsTUFBTWpKLEVBQVFNLEVBQU8ySSxDQUFLLEVBRTFCLEdBQUksQ0FBQ2pKLEdBQVMsT0FBT0EsR0FBVSxTQUM5QmdKLEVBQVNDLENBQUssRUFBSWpKLFVBQ1IsTUFBTSxRQUFRQSxDQUFLLEVBQzdCLEdBQUksT0FBT0EsRUFBTSxDQUFDLEdBQU0sU0FBVSxDQUNqQyxNQUFNbUosRUFBT25KLEVBQU0sQ0FBQyxFQUVkb0osRUFBVU4sR0FBQSxZQUFBQSxFQUFXSyxHQUMzQixHQUFJQyxFQUNILE9BQVFKLEVBQVNDLENBQUssRUFBSUcsRUFBUUwsRUFBUS9JLEVBQU0sQ0FBQyxDQUFDLENBQUMsRUFHcEQsT0FBUW1KLEVBQUksQ0FDWCxJQUFLLE9BQ0pILEVBQVNDLENBQUssRUFBSSxJQUFJLEtBQUtqSixFQUFNLENBQUMsQ0FBQyxFQUNuQyxNQUVELElBQUssTUFDSixNQUFNcUUsRUFBTSxJQUFJLElBQ2hCMkUsRUFBU0MsQ0FBSyxFQUFJNUUsRUFDbEIsUUFBUzlELEVBQUksRUFBR0EsRUFBSVAsRUFBTSxPQUFRTyxHQUFLLEVBQ3RDOEQsRUFBSSxJQUFJMEUsRUFBUS9JLEVBQU1PLENBQUMsQ0FBQyxDQUFDLEVBRTFCLE1BRUQsSUFBSyxNQUNKLE1BQU04SSxFQUFNLElBQUksSUFDaEJMLEVBQVNDLENBQUssRUFBSUksRUFDbEIsUUFBUzlJLEVBQUksRUFBR0EsRUFBSVAsRUFBTSxPQUFRTyxHQUFLLEVBQ3RDOEksRUFBSSxJQUFJTixFQUFRL0ksRUFBTU8sQ0FBQyxDQUFDLEVBQUd3SSxFQUFRL0ksRUFBTU8sRUFBSSxDQUFDLENBQUMsQ0FBQyxFQUVqRCxNQUVELElBQUssU0FDSnlJLEVBQVNDLENBQUssRUFBSSxJQUFJLE9BQU9qSixFQUFNLENBQUMsRUFBR0EsRUFBTSxDQUFDLENBQUMsRUFDL0MsTUFFRCxJQUFLLFNBQ0pnSixFQUFTQyxDQUFLLEVBQUksT0FBT2pKLEVBQU0sQ0FBQyxDQUFDLEVBQ2pDLE1BRUQsSUFBSyxTQUNKZ0osRUFBU0MsQ0FBSyxFQUFJLE9BQU9qSixFQUFNLENBQUMsQ0FBQyxFQUNqQyxNQUVELElBQUssT0FDSixNQUFNRixFQUFNLE9BQU8sT0FBTyxJQUFJLEVBQzlCa0osRUFBU0MsQ0FBSyxFQUFJbkosRUFDbEIsUUFBU1MsRUFBSSxFQUFHQSxFQUFJUCxFQUFNLE9BQVFPLEdBQUssRUFDdENULEVBQUlFLEVBQU1PLENBQUMsQ0FBQyxFQUFJd0ksRUFBUS9JLEVBQU1PLEVBQUksQ0FBQyxDQUFDLEVBRXJDLE1BRUQsUUFDQyxNQUFNLElBQUksTUFBTSxnQkFBZ0I0SSxDQUFJLEVBQUUsQ0FDdkMsQ0FDTCxLQUFVLENBQ04sTUFBTUcsRUFBUSxJQUFJLE1BQU10SixFQUFNLE1BQU0sRUFDcENnSixFQUFTQyxDQUFLLEVBQUlLLEVBRWxCLFFBQVMvSSxFQUFJLEVBQUdBLEVBQUlQLEVBQU0sT0FBUU8sR0FBSyxFQUFHLENBQ3pDLE1BQU15RCxFQUFJaEUsRUFBTU8sQ0FBQyxFQUNieUQsSUFBTXVFLEtBRVZlLEVBQU0vSSxDQUFDLEVBQUl3SSxFQUFRL0UsQ0FBQyxFQUNwQixDQUNELEtBQ0ssQ0FFTixNQUFNdUYsRUFBUyxDQUFBLEVBQ2ZQLEVBQVNDLENBQUssRUFBSU0sRUFFbEIsVUFBV2xLLEtBQU9XLEVBQU8sQ0FDeEIsTUFBTWdFLEVBQUloRSxFQUFNWCxDQUFHLEVBQ25Ca0ssRUFBT2xLLENBQUcsRUFBSTBKLEVBQVEvRSxDQUFDLENBQ3ZCLENBQ0QsQ0FFRCxPQUFPZ0YsRUFBU0MsQ0FBSyxDQUNyQixDQUVELE9BQU9GLEVBQVEsQ0FBQyxDQUNqQixDQ3RFQSxNQUFNUyxHQUF1QixJQUFJLElBQUksQ0FDcEMsT0FDQSxZQUNBLE1BQ0EsTUFDQSxnQkFDQSxRQUNELENBQUMsRUFDa0MsQ0FBQyxHQUFHQSxFQUErQixFQUN0RSxNQUFNQyxHQUE4QixJQUFJLElBQUksQ0FBQyxHQUFHRCxFQUFvQixDQUFDLEVBQzNCLENBQUMsR0FBR0MsRUFBaUQsRUNsRXhGLFNBQVNDLEdBQVFDLEVBQUssQ0FDNUIsT0FBT0EsRUFBSSxPQUFnRDlCLEdBQVFBLEdBQU8sSUFBSSxDQUMvRSxDQ1JPLE1BQU0rQixFQUFVLENBS3RCLFlBQVlDLEVBQVF0SSxFQUFNLENBQ3pCLEtBQUssT0FBU3NJLEVBQ1YsT0FBT3RJLEdBQVMsU0FDbkIsS0FBSyxLQUFPLENBQUUsUUFBU0EsQ0FBSSxFQUNqQkEsRUFDVixLQUFLLEtBQU9BLEVBRVosS0FBSyxLQUFPLENBQUUsUUFBUyxVQUFVc0ksQ0FBTSxHQUV4QyxDQUVELFVBQVcsQ0FDVixPQUFPLEtBQUssVUFBVSxLQUFLLElBQUksQ0FDL0IsQ0FDRixDQUVPLE1BQU1DLEVBQVMsQ0FLckIsWUFBWUQsRUFBUUUsRUFBVSxDQUM3QixLQUFLLE9BQVNGLEVBQ2QsS0FBSyxTQUFXRSxDQUNoQixDQUNGLENBT08sTUFBTUMsV0FBdUIsS0FBTSxDQU16QyxZQUFZSCxFQUFRbkosRUFBTXVKLEVBQVMsQ0FDbEMsTUFBTUEsQ0FBTyxFQUNiLEtBQUssT0FBU0osRUFDZCxLQUFLLEtBQU9uSixDQUNaLENBQ0YsQ0NuQ08sTUFBTXdKLEdBQW9CLDBCQUVwQkMsR0FBdUIsNkJDYTdCLFNBQVNDLEVBQVdDLEVBQU8sQ0FDakMsT0FBT0EsYUFBaUJULElBQWFTLGFBQWlCTCxHQUFpQkssRUFBTSxPQUFTLEdBQ3ZGLENBS08sU0FBU0MsR0FBWUQsRUFBTyxDQUNsQyxPQUFPQSxhQUFpQkwsR0FBaUJLLEVBQU0sS0FBTyxnQkFDdkQsQ0NxQkEsTUFBTUUsRUFBbUJDLEdBQVloRixFQUFVLEdBQUssR0FNOUNpRixFQUFZRCxHQUFZakYsRUFBWSxHQUFLLEdBdUNsQ21GLEVBQVMsQ0FDckIsSUFBc0NqRCxHQUFBLEVBQUUsRUFDeEMsS0FBdUNBLEdBQUEsRUFBRSxFQUN6QyxXQUE0QmhELEdBQytCLElBQzNELEVBQ0EsUUFBOENzRCxHQUFBLENBQy9DLEVBR0EsU0FBUzRDLEdBQXdCMUIsRUFBTyxDQUN0QnNCLEVBQUF0QixDQUFLLEVBQUkvQyxJQUMzQixDQU1BLFNBQVMwRSxHQUFxQkMsRUFBdUJDLEVBQTBCLENBRzlFLElBQUl2SyxFQUFJc0ssRUFBd0IsRUFDekIsS0FBQU4sRUFBaUJoSyxDQUFDLEdBQ3hCLE9BQU9nSyxFQUFpQmhLLENBQUMsRUFDcEJBLEdBQUEsRUFJQyxJQURQQSxFQUFJdUssRUFBMkIsRUFDeEJMLEVBQVVsSyxDQUFDLEdBQ2pCLE9BQU9rSyxFQUFVbEssQ0FBQyxFQUNiQSxHQUFBLENBRVAsQ0FRQSxTQUFTd0ssRUFBa0JyTCxFQUFLLENBQy9CLGdCQUFTLEtBQU9BLEVBQUksS0FDYixJQUFJLFFBQVEsSUFBTSxDQUFBLENBQUUsQ0FDNUIsQ0FFQSxTQUFTaUYsSUFBTyxDQUFDLENBR2pCLElBQUlxRyxHQUVBQyxHQUVBQyxFQUVBQyxFQUVBMUUsR0FFQTJFLEVBR0osTUFBTUMsR0FBYyxDQUFBLEVBUWRDLEVBQWEsQ0FBQSxFQUduQixJQUFJQyxFQUFhLEtBR2pCLE1BQU1DLEdBQTRCLENBQUEsRUFHNUJDLEdBQXdCLENBQUEsRUFHOUIsSUFBSUMsRUFBMkIsQ0FBQSxFQUczQkMsRUFBVSxDQUNiLE9BQVEsQ0FBQyxFQUNULE1BQU8sS0FFUCxJQUFLLElBQ04sRUFHSTNDLEdBQVcsR0FDWDRDLEdBQVUsR0FDVkMsR0FBYSxHQUViQyxFQUFhLEdBQ2JDLEVBQWtCLEdBRWxCQyxHQUFnQixHQUVoQkMsR0FBcUIsR0FHckJDLEdBR0FyQixFQUdBQyxFQUdBcUIsRUFHQUMsR0FRSixNQUFNQyxNQUFxQixJQVVMLGVBQUEzSCxHQUFNNEgsRUFBTUMsRUFBU3hELEVBQVMsU0FVL0MsU0FBUyxNQUFRLFNBQVMsT0FFN0IsU0FBUyxLQUFPLFNBQVMsTUFHcEJxQyxFQUFBa0IsRUFDTnRCLEdBQVN6SCxHQUFNK0ksQ0FBSSxFQUNQbkIsRUFBbUMsU0FBUyxnQkFDL0MxRSxHQUFBOEYsRUFJZXRCLEdBQUFxQixFQUFLLE1BQU0sQ0FBQyxFQUNicEIsRUFBQW9CLEVBQUssTUFBTSxDQUFDLEVBQ2JyQixLQUNEQyxJQUVHTCxHQUFBMkIsRUFBQSxRQUFRLFFBQVIsWUFBQUEsRUFBZ0I3RyxHQUNibUYsR0FBQTJCLEVBQUEsUUFBUSxRQUFSLFlBQUFBLEVBQWdCN0csR0FFdENpRixJQUdvQkEsRUFBQUMsRUFBMkIsS0FBSyxNQUdoRCxRQUFBLGFBQ1AsQ0FDQyxHQUFHLFFBQVEsTUFDWCxDQUFDbkYsQ0FBYSxFQUFHa0YsRUFDakIsQ0FBQ2pGLENBQWdCLEVBQUdrRixDQUNyQixFQUNBLEVBQUEsR0FNSSxNQUFBNEIsRUFBU25DLEVBQWlCTSxDQUFxQixFQUNqRDZCLElBQ0gsUUFBUSxrQkFBb0IsU0FDbkIsU0FBQUEsRUFBTyxFQUFHQSxFQUFPLENBQUMsR0FHeEIzRCxFQUNHLE1BQUE0RCxHQUFTbEcsR0FBUXNDLENBQU8sRUFFOUI2RCxHQUFLLFNBQVMsS0FBTSxDQUFFLGFBQWMsRUFBTSxDQUFBLEVBRzdCQyxJQUNmLENBa0NBLFNBQVNDLElBQXFCLENBQzdCekIsR0FBWSxPQUFTLEVBQ0FZLEdBQUEsRUFDdEIsQ0FHQSxTQUFTYyxHQUFpQjlELEVBQU8sQ0FDNUJxQyxFQUFXLEtBQU0wQixHQUFNQSxHQUFBLFlBQUFBLEVBQUcsUUFBUSxJQUMzQnZDLEVBQUF4QixDQUFLLEVBQUlxQyxFQUFXLElBQUswQixHQUFNLE9BQUEsT0FBQVIsRUFBQVEsR0FBQSxZQUFBQSxFQUFHLFdBQUgsWUFBQVIsRUFBYSxVQUFTLEVBRWpFLENBR0EsU0FBU1MsR0FBaUJoRSxFQUFPLFFBQ2hDdUQsRUFBQS9CLEVBQVV4QixDQUFLLElBQWYsTUFBQXVELEVBQWtCLFFBQVEsQ0FBQ3hNLEVBQU9PLElBQU0sVUFDdkNrTSxHQUFBRCxFQUFBbEIsRUFBVy9LLENBQUMsSUFBWixZQUFBaU0sRUFBZSxXQUFmLE1BQUFDLEVBQXlCLFFBQVF6TSxFQUFLLEVBRXhDLENBRUEsU0FBU2tOLElBQWdCLENBQ3hCdkMsR0FBd0JFLENBQXFCLEVBQ3JDc0MsR0FBSTNILEdBQVkrRSxDQUFnQixFQUV4Q3dDLEdBQWlCakMsQ0FBd0IsRUFDakNxQyxHQUFJNUgsR0FBY2tGLENBQVMsQ0FDcEMsQ0FRQSxlQUFlMkMsR0FBTTFOLEVBQUsyTixFQUFTQyxFQUFnQkMsRUFBVyxDQUM3RCxPQUFPQyxFQUFTLENBQ2YsS0FBTSxPQUNOLElBQUt6SCxHQUFZckcsQ0FBRyxFQUNwQixVQUFXMk4sRUFBUSxVQUNuQixTQUFVQSxFQUFRLFNBQ2xCLGNBQWVBLEVBQVEsYUFDdkIsTUFBT0EsRUFBUSxNQUNmLGVBQUFDLEVBQ0EsVUFBQUMsRUFDQSxPQUFRLElBQU0sQ0FDVEYsRUFBUSxnQkFDVXBCLEdBQUEsR0FFdkIsQ0FBQSxDQUNBLENBQ0YsQ0FHQSxlQUFld0IsR0FBY0MsRUFBUSxDQUtoQyxHQUFBQSxFQUFPLE1BQU9uQyxHQUFBLFlBQUFBLEVBQVksSUFBSSxDQUNqQyxNQUFNb0MsRUFBVSxDQUFBLEVBQ2hCdEIsRUFBZSxJQUFJc0IsQ0FBTyxFQUNicEMsRUFBQSxDQUNaLEdBQUltQyxFQUFPLEdBQ1gsTUFBT0MsRUFDUCxRQUFTQyxHQUFXLENBQUUsR0FBR0YsRUFBUSxRQUFBQyxFQUFTLEVBQUUsS0FBTTNLLElBQ2pEcUosRUFBZSxPQUFPc0IsQ0FBTyxFQUN6QjNLLEVBQU8sT0FBUyxVQUFZQSxFQUFPLE1BQU0sUUFFL0J1SSxFQUFBLE1BRVB2SSxFQUNQLENBQUEsQ0FFSCxDQUVBLE9BQU91SSxFQUFXLE9BQ25CLENBR0EsZUFBZXNDLEdBQWMzTyxFQUFVLENBQ2hDLE1BQUEyRCxFQUFRbUksR0FBTyxLQUFNbkksR0FBVUEsRUFBTSxLQUFLaUwsR0FBYTVPLENBQVEsQ0FBQyxDQUFDLEVBRW5FMkQsR0FDSCxNQUFNLFFBQVEsSUFBSSxDQUFDLEdBQUdBLEVBQU0sUUFBU0EsRUFBTSxJQUFJLEVBQUUsSUFBS2tMLEdBQVNBLEdBQUEsWUFBQUEsRUFBTyxJQUFJLENBQUMsQ0FFN0UsQ0FPQSxTQUFTQyxHQUFXaEwsRUFBUXlELEVBQVFzQyxFQUFTLE9BRzVDNEMsRUFBVTNJLEVBQU8sTUFFWCxNQUFBaUwsRUFBUSxTQUFTLGNBQWMsdUJBQXVCLEVBQ3hEQSxHQUFPQSxFQUFNLE9BQU8sRUFFeEI5QixFQUFvRG5KLEVBQU8sTUFBTSxLQUUxRGtKLEdBQUEsSUFBSWQsRUFBSSxLQUFLLENBQ25CLE9BQUEzRSxFQUNBLE1BQU8sQ0FBRSxHQUFHekQsRUFBTyxNQUFPLE9BQUEwSCxFQUFRLFdBQUFZLENBQVcsRUFDN0MsUUFBQXZDLENBQUEsQ0FDQSxFQUVEa0UsR0FBaUJuQyxDQUF3QixFQUd6QyxNQUFNb0QsRUFBYSxDQUNsQixLQUFNLEtBQ04sR0FBSSxDQUNILE9BQVF2QyxFQUFRLE9BQ2hCLE1BQU8sQ0FBRSxLQUFJYSxFQUFBYixFQUFRLFFBQVIsWUFBQWEsRUFBZSxLQUFNLElBQUssRUFDdkMsSUFBSyxJQUFJLElBQUksU0FBUyxJQUFJLENBQzNCLEVBQ0EsV0FBWSxHQUNaLEtBQU0sUUFDTixTQUFVLFFBQVEsUUFBUSxDQUFBLEVBRzNCZCxFQUF5QixRQUFTdkcsR0FBT0EsRUFBRytJLENBQVUsQ0FBQyxFQUU3Q3RDLEdBQUEsRUFDWCxDQWNBLGVBQWV1QyxHQUFrQyxDQUNoRCxJQUFBek8sRUFDQSxPQUFBTixFQUNBLE9BQUFnUCxFQUNBLE9BQUF2RSxFQUNBLE1BQUFRLEVBQ0EsTUFBQXhILEVBQ0EsS0FBQXdMLENBQ0QsRUFBRyxDQUVGLElBQUlDLEVBQVEsUUFJWixHQUFJMUgsSUFBU2xILEVBQUksV0FBYWtILEdBQVFsSCxFQUFJLFdBQWFrSCxFQUFPLEtBQ3JEMEgsRUFBQSxhQUVSLFdBQVdDLEtBQVFILEdBQ2RHLEdBQUEsWUFBQUEsRUFBTSxTQUFVLFNBQVdELEVBQVFDLEVBQUssT0FJOUM3TyxFQUFJLFNBQVdaLEdBQWVZLEVBQUksU0FBVTRPLENBQUssRUFHakQ1TyxFQUFJLE9BQVNBLEVBQUksT0FHakIsTUFBTXNELEVBQVMsQ0FDZCxLQUFNLFNBQ04sTUFBTyxDQUNOLElBQUF0RCxFQUNBLE9BQUFOLEVBQ0EsT0FBQWdQLEVBQ0EsTUFBQS9ELEVBQ0EsTUFBQXhILENBQ0QsRUFDQSxNQUFPLENBRU4sYUFBYzZHLEdBQVEwRSxDQUFNLEVBQUUsSUFBS0ksR0FBZ0JBLEVBQVksS0FBSyxTQUFTLEVBQzdFLEtBQUFyQyxDQUNELENBQUEsRUFHR2tDLElBQVMsU0FDWnJMLEVBQU8sTUFBTSxLQUFPcUwsR0FHckIsSUFBSTlKLEVBQU8sQ0FBQSxFQUNQa0ssRUFBZSxDQUFDdEMsRUFFaEJ1QyxFQUFJLEVBRVIsUUFBU25PLEVBQUksRUFBR0EsRUFBSSxLQUFLLElBQUk2TixFQUFPLE9BQVF6QyxFQUFRLE9BQU8sTUFBTSxFQUFHcEwsR0FBSyxFQUFHLENBQ3JFLE1BQUFnTyxFQUFPSCxFQUFPN04sQ0FBQyxFQUNmb08sRUFBT2hELEVBQVEsT0FBT3BMLENBQUMsR0FFekJnTyxHQUFBLFlBQUFBLEVBQU0sU0FBU0ksR0FBQSxZQUFBQSxFQUFNLFFBQXFCRixFQUFBLElBQ3pDRixJQUVMaEssRUFBTyxDQUFFLEdBQUdBLEVBQU0sR0FBR2dLLEVBQUssSUFBSyxFQUczQkUsSUFDSHpMLEVBQU8sTUFBTSxRQUFRMEwsQ0FBQyxFQUFFLEVBQUluSyxHQUd4Qm1LLEdBQUEsRUFDTixDQVNBLE9BTkMsQ0FBQy9DLEVBQVEsS0FDVGpNLEVBQUksT0FBU2lNLEVBQVEsSUFBSSxNQUN6QkEsRUFBUSxRQUFVdEIsR0FDakJnRSxJQUFTLFFBQWFBLElBQVNsQyxFQUFLLE1BQ3JDc0MsS0FHQXpMLEVBQU8sTUFBTSxLQUFPLENBQ25CLE1BQUFxSCxFQUNBLE9BQUFqTCxFQUNBLE1BQU8sQ0FDTixJQUFJeUQsR0FBQSxZQUFBQSxFQUFPLEtBQU0sSUFDbEIsRUFDQSxNQUFPLENBQUMsRUFDUixPQUFBZ0gsRUFDQSxJQUFLLElBQUksSUFBSW5LLENBQUcsRUFDaEIsS0FBTTJPLEdBQVEsS0FFZCxLQUFNSSxFQUFlbEssRUFBTzRILEVBQUssSUFBQSxHQUk1Qm5KLENBQ1IsQ0FnQkEsZUFBZTRMLEdBQVUsQ0FBRSxPQUFBQyxFQUFRLE9BQUF0SSxFQUFRLElBQUE3RyxFQUFLLE9BQUFOLEVBQVEsTUFBQXlELEVBQU8saUJBQUFpTSxHQUFvQixXQUVsRixJQUFJdkssRUFBTyxLQUVQd0ssRUFBYyxHQUdsQixNQUFNQyxFQUFPLENBQ1osaUJBQWtCLElBQ2xCLFdBQVksSUFDWixPQUFRLEdBQ1IsTUFBTyxHQUNQLElBQUssR0FDTCxrQkFBbUIsR0FBSSxFQUdsQlQsRUFBTyxNQUFNTSxJQU1mLElBQUFyQyxFQUFBK0IsRUFBSyxZQUFMLE1BQUEvQixFQUFnQixLQUFNLENBRWhCLElBQUF5QyxFQUFULFlBQW9CQyxFQUFNLENBQ3pCLFVBQVdDLEtBQU9ELEVBQU0sQ0FHdkIsS0FBTSxDQUFFLEtBQUEzUCxDQUFLLEVBQUksSUFBSSxJQUFJNFAsRUFBS3pQLENBQUcsRUFDNUJzUCxFQUFBLGFBQWEsSUFBSXpQLENBQUksQ0FDM0IsQ0FBQSxFQUlELE1BQU02UCxFQUFhLENBQ2xCLE1BQU8sSUFBSSxNQUFNdk0sRUFBTyxDQUN2QixJQUFLLENBQUM0RCxFQUFRcEgsS0FDVDBQLElBQ0hDLEVBQUssTUFBUSxJQUVQdkksRUFBNEJwSCxDQUFBLEVBQ3BDLENBQ0EsRUFDRCxPQUFRLElBQUksTUFBTUQsRUFBUSxDQUN6QixJQUFLLENBQUNxSCxFQUFRcEgsS0FDVDBQLEdBQ0hDLEVBQUssT0FBTyxJQUEyQjNQLENBQUEsRUFFakNvSCxFQUE4QnBILENBQUEsRUFDdEMsQ0FDQSxFQUNELE1BQU15UCxHQUFBLFlBQUFBLEVBQWtCLE9BQVEsS0FDaEMsSUFBS3JQLEdBQ0pDLEVBQ0EsSUFBTSxDQUNEcVAsSUFDSEMsRUFBSyxJQUFNLEdBRWIsRUFDQ2pQLEdBQVUsQ0FDTmdQLEdBQ0VDLEVBQUEsY0FBYyxJQUFJalAsQ0FBSyxDQUU5QixDQUNELEVBQ0EsTUFBTSxNQUFNb0IsRUFBVUosRUFBTSxDQUV2QixJQUFBc08sRUFFQWxPLGFBQW9CLFNBQ3ZCa08sRUFBWWxPLEVBQVMsSUFJZEosRUFBQSxDQUdOLEtBQ0NJLEVBQVMsU0FBVyxPQUFTQSxFQUFTLFNBQVcsT0FDOUMsT0FDQSxNQUFNQSxFQUFTLEtBQUssRUFDeEIsTUFBT0EsRUFBUyxNQUNoQixZQUFhQSxFQUFTLFlBQ3RCLFFBQVNBLEVBQVMsUUFDbEIsVUFBV0EsRUFBUyxVQUNwQixVQUFXQSxFQUFTLFVBQ3BCLE9BQVFBLEVBQVMsT0FDakIsS0FBTUEsRUFBUyxLQUNmLFNBQVVBLEVBQVMsU0FDbkIsU0FBVUEsRUFBUyxTQUNuQixlQUFnQkEsRUFBUyxlQUN6QixPQUFRQSxFQUFTLE9BQ2pCLEdBQUdKLENBQUEsR0FHUXNPLEVBQUFsTyxFQUliLE1BQU1PLEVBQVcsSUFBSSxJQUFJMk4sRUFBVzNQLENBQUcsRUFDdkMsT0FBSXFQLEdBQ0hFLEVBQVF2TixFQUFTLElBQUksRUFJbEJBLEVBQVMsU0FBV2hDLEVBQUksU0FDM0IyUCxFQUFZM04sRUFBUyxLQUFLLE1BQU1oQyxFQUFJLE9BQU8sTUFBTSxHQUkzQ2tNLEdBQ0puSyxHQUFpQjROLEVBQVczTixFQUFTLEtBQU1YLENBQUksRUFDL0NHLEdBQWNtTyxFQUFXdE8sQ0FBSSxDQUNqQyxFQUNBLFdBQVksSUFBTSxDQUFDLEVBQ25CLFFBQUFrTyxFQUNBLFFBQVMsQ0FDUixPQUFJRixJQUNIQyxFQUFLLE9BQVMsSUFFUnpJLEVBQU8sQ0FDZixFQUNBLFFBQVFwQixFQUFJLENBQ0c0SixFQUFBLEdBQ1YsR0FBQSxDQUNILE9BQU81SixFQUFHLENBQUEsUUFDVCxDQUNhNEosRUFBQSxFQUNmLENBQ0QsQ0FBQSxFQXdCQXhLLEVBQVEsTUFBTWdLLEVBQUssVUFBVSxLQUFLLEtBQUssS0FBTWEsQ0FBVSxHQUFNLElBRS9ELENBRU8sTUFBQSxDQUNOLEtBQUFiLEVBQ0EsT0FBQU0sRUFDQSxPQUFRQyxFQUNSLFdBQVdyQyxFQUFBOEIsRUFBSyxZQUFMLE1BQUE5QixFQUFnQixLQUFPLENBQUUsS0FBTSxPQUFRLEtBQUFsSSxFQUFNLEtBQUF5SyxDQUFBLEVBQVMsS0FDakUsS0FBTXpLLElBQVF1SyxHQUFBLFlBQUFBLEVBQWtCLE9BQVEsS0FDeEMsUUFBT1EsRUFBQWYsRUFBSyxZQUFMLFlBQUFlLEVBQWdCLGlCQUFpQlIsR0FBQSxZQUFBQSxFQUFrQixNQUFBLENBRTVELENBVUEsU0FBU1MsR0FDUkMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQVgsRUFDQTVQLEVBQ0MsQ0FDRyxHQUFBNk0sR0FBMkIsTUFBQSxHQUUvQixHQUFJLENBQUMrQyxFQUFhLE1BQUEsR0FJbEIsR0FGSUEsRUFBSyxRQUFVUSxHQUNmUixFQUFLLE9BQVNTLEdBQ2RULEVBQUssS0FBT1UsRUFBb0IsTUFBQSxHQUV6QixVQUFBRSxLQUFrQlosRUFBSyxjQUM3QixHQUFBVyxFQUFzQixJQUFJQyxDQUFjLEVBQVUsTUFBQSxHQUc1QyxVQUFBN1AsS0FBU2lQLEVBQUssT0FDeEIsR0FBSTVQLEVBQU9XLENBQUssSUFBTTRMLEVBQVEsT0FBTzVMLENBQUssRUFBVSxNQUFBLEdBRzFDLFVBQUFSLEtBQVF5UCxFQUFLLGFBQ25CLEdBQUEzRCxHQUFZLEtBQU1sRyxHQUFPQSxFQUFHLElBQUksSUFBSTVGLENBQUksQ0FBQyxDQUFDLEVBQVUsTUFBQSxHQUdsRCxNQUFBLEVBQ1IsQ0FPQSxTQUFTc1EsR0FBaUJ0QixFQUFNdUIsRUFBVSxDQUN6QyxPQUFJdkIsR0FBQSxZQUFBQSxFQUFNLFFBQVMsT0FBZUEsR0FDOUJBLEdBQUEsWUFBQUEsRUFBTSxRQUFTLE9BQWV1QixHQUFZLEtBQ3ZDLElBQ1IsQ0FPQSxTQUFTQyxHQUFtQkMsRUFBU0MsRUFBUyxDQUM3QyxHQUFJLENBQUNELEVBQVMsT0FBTyxJQUFJLElBQUlDLEVBQVEsYUFBYSxLQUFNLENBQUEsRUFFeEQsTUFBTUMsRUFBVSxJQUFJLElBQUksQ0FBQyxHQUFHRixFQUFRLGFBQWEsS0FBSyxFQUFHLEdBQUdDLEVBQVEsYUFBYSxLQUFBLENBQU0sQ0FBQyxFQUV4RixVQUFXNVEsS0FBTzZRLEVBQVMsQ0FDMUIsTUFBTUMsRUFBYUgsRUFBUSxhQUFhLE9BQU8zUSxDQUFHLEVBQzVDK1EsRUFBYUgsRUFBUSxhQUFhLE9BQU81USxDQUFHLEVBR2pEOFEsRUFBVyxNQUFPblEsR0FBVW9RLEVBQVcsU0FBU3BRLENBQUssQ0FBQyxHQUN0RG9RLEVBQVcsTUFBT3BRLEdBQVVtUSxFQUFXLFNBQVNuUSxDQUFLLENBQUMsR0FFdERrUSxFQUFRLE9BQU83USxDQUFHLENBRXBCLENBRU8sT0FBQTZRLENBQ1IsQ0FNQSxTQUFTRyxHQUFjLENBQUUsTUFBQWhHLEVBQU8sSUFBQTNLLEVBQUssTUFBQW1ELEVBQU8sT0FBQXpELEdBQVUsQ0FDOUMsTUFBQSxDQUNOLEtBQU0sU0FDTixNQUFPLENBQ04sTUFBQWlMLEVBQ0EsSUFBQTNLLEVBQ0EsTUFBQW1ELEVBQ0EsT0FBQXpELEVBQ0EsT0FBUSxDQUFDLENBQ1YsRUFDQSxNQUFPLENBQUUsS0FBQStNLEVBQU0sYUFBYyxFQUFHLENBQUEsQ0FFbEMsQ0FNQSxlQUFleUIsR0FBVyxDQUFFLEdBQUE5TCxFQUFJLGFBQUF3TyxFQUFjLElBQUE1USxFQUFLLE9BQUFOLEVBQVEsTUFBQXlELEVBQU8sUUFBQThLLEdBQVcsQ0FDeEUsSUFBQXBDLEdBQUEsWUFBQUEsRUFBWSxNQUFPekosRUFFUCxPQUFBdUssRUFBQSxPQUFPZCxFQUFXLEtBQUssRUFDL0JBLEVBQVcsUUFHbkIsS0FBTSxDQUFFLE9BQUF6SCxFQUFRLFFBQUFELEVBQVMsS0FBQUQsQ0FBQSxFQUFTZixFQUU1QjBOLEVBQVUsQ0FBQyxHQUFHMU0sRUFBU0QsQ0FBSSxFQUtqQ0UsRUFBTyxRQUFTK0ssR0FBV0EsR0FBQSxZQUFBQSxJQUFXLE1BQU0sSUFBTSxDQUFFLEVBQUMsRUFDN0MwQixFQUFBLFFBQVMxQixHQUFXQSxHQUFBLFlBQUFBLEVBQVMsS0FBSyxNQUFNLElBQU0sQ0FBRSxFQUFDLEVBR3pELElBQUkyQixFQUFjLEtBQ1osTUFBQWQsRUFBYy9ELEVBQVEsSUFBTTdKLElBQU82SixFQUFRLElBQUksU0FBV0EsRUFBUSxJQUFJLE9BQVMsR0FDL0U4RCxFQUFnQjlELEVBQVEsTUFBUTlJLEVBQU0sS0FBTzhJLEVBQVEsTUFBTSxHQUFLLEdBQ2hFZ0UsRUFBd0JJLEdBQW1CcEUsRUFBUSxJQUFLak0sQ0FBRyxFQUVqRSxJQUFJK1EsRUFBaUIsR0FDckIsTUFBTUMsRUFBdUJILEVBQVEsSUFBSSxDQUFDMUIsRUFBUXRPLElBQU0sT0FDakQsTUFBQXVQLEVBQVduRSxFQUFRLE9BQU9wTCxDQUFDLEVBRTNCb1EsRUFDTCxDQUFDLEVBQUM5QixHQUFBLE1BQUFBLEVBQVMsT0FDVmlCLEdBQUEsWUFBQUEsRUFBVSxVQUFXakIsRUFBTyxDQUFDLEdBQzdCVSxHQUNDa0IsRUFDQWhCLEVBQ0FDLEVBQ0FDLEdBQ0FuRCxFQUFBc0QsRUFBUyxTQUFULFlBQUF0RCxFQUFpQixLQUNqQnBOLENBQUEsR0FHSCxPQUFJdVIsSUFFY0YsRUFBQSxJQUdYRSxDQUFBLENBQ1AsRUFFRyxHQUFBRCxFQUFxQixLQUFLLE9BQU8sRUFBRyxDQUNuQyxHQUFBLENBQ1dGLEVBQUEsTUFBTUksR0FBVWxSLEVBQUtnUixDQUFvQixRQUMvQ3JHLEVBQU8sQ0FDVCxNQUFBd0csRUFBZ0IsTUFBTUMsRUFBYXpHLEVBQU8sQ0FBRSxJQUFBM0ssRUFBSyxPQUFBTixFQUFRLE1BQU8sQ0FBRSxHQUFBMEMsQ0FBRyxDQUFBLENBQUcsRUFFMUUsT0FBQXVLLEVBQWUsSUFBSXNCLENBQU8sRUFDdEIwQyxHQUFjLENBQUUsTUFBT1EsRUFBZSxJQUFBblIsRUFBSyxPQUFBTixFQUFRLE1BQUF5RCxFQUFPLEVBRzNEa08sR0FBcUIsQ0FDM0IsT0FBUTNHLEVBQVdDLENBQUssRUFDeEIsTUFBT3dHLEVBQ1AsSUFBQW5SLEVBQ0EsTUFBQW1ELENBQUEsQ0FDQSxDQUNGLENBRUksR0FBQTJOLEVBQVksT0FBUyxXQUNqQixPQUFBQSxDQUVULENBRUEsTUFBTVEsRUFBb0JSLEdBQUEsWUFBQUEsRUFBYSxNQUV2QyxJQUFJaEIsRUFBaUIsR0FFckIsTUFBTXlCLEVBQWtCVixFQUFRLElBQUksTUFBTzFCLEVBQVF0TyxJQUFNLFFBQ3hELEdBQUksQ0FBQ3NPLEVBQVEsT0FHUCxNQUFBaUIsRUFBV25FLEVBQVEsT0FBT3BMLENBQUMsRUFFM0J1TyxFQUFtQmtDLEdBQUEsWUFBQUEsRUFBb0J6USxHQWN6QyxJQVZGLENBQUN1TyxHQUFvQkEsRUFBaUIsT0FBUyxTQUNoREQsRUFBTyxDQUFDLEtBQU1pQixHQUFBLFlBQUFBLEVBQVUsU0FDeEIsQ0FBQ1AsR0FDQUMsRUFDQUMsRUFDQUMsRUFDQUMsR0FDQW5ELEdBQUFzRCxFQUFTLFlBQVQsWUFBQXRELEdBQW9CLEtBQ3BCcE4sQ0FBQSxFQUVnQixPQUFBMFEsRUFJZCxHQUZhTixFQUFBLElBRWJWLEdBQUEsWUFBQUEsRUFBa0IsUUFBUyxRQUV4QixNQUFBQSxFQUdQLE9BQU9GLEdBQVUsQ0FDaEIsT0FBUUMsRUFBTyxDQUFDLEVBQ2hCLElBQUFuUCxFQUNBLE9BQUFOLEVBQ0EsTUFBQXlELEVBQ0EsT0FBUSxTQUFZLFFBQ25CLE1BQU0wQixHQUFPLENBQUEsRUFDYixRQUFTMk0sR0FBSSxFQUFHQSxHQUFJM1EsRUFBRzJRLElBQUssRUFDM0IsT0FBTyxPQUFPM00sSUFBT2lJLEdBQUEsTUFBTXlFLEVBQWdCQyxFQUFDLElBQXZCLFlBQUExRSxHQUEyQixJQUFJLEVBRTlDLE9BQUFqSSxFQUNSLEVBQ0EsaUJBQWtCc0wsR0FHakJmLElBQXFCLFFBQWFELEVBQU8sQ0FBQyxFQUFJLENBQUUsS0FBTSxRQUFXQyxHQUFvQixLQUNyRkQsRUFBTyxDQUFDLEVBQUlpQixHQUFBLFlBQUFBLEVBQVUsT0FBUyxNQUNoQyxDQUFBLENBQ0EsQ0FBQSxDQUNELEVBR0QsVUFBVyxLQUFLbUIsRUFBaUIsRUFBRSxNQUFNLElBQU0sQ0FBQSxDQUFFLEVBR2pELE1BQU03QyxFQUFTLENBQUEsRUFFZixRQUFTN04sRUFBSSxFQUFHQSxFQUFJZ1EsRUFBUSxPQUFRaFEsR0FBSyxFQUNwQyxHQUFBZ1EsRUFBUWhRLENBQUMsRUFDUixHQUFBLENBQ0g2TixFQUFPLEtBQUssTUFBTTZDLEVBQWdCMVEsQ0FBQyxDQUFDLFFBQzVCNFEsRUFBSyxDQUNiLEdBQUlBLGFBQWVySCxHQUNYLE1BQUEsQ0FDTixLQUFNLFdBQ04sU0FBVXFILEVBQUksUUFBQSxFQUlaLEdBQUE5RSxFQUFlLElBQUlzQixDQUFPLEVBQzdCLE9BQU8wQyxHQUFjLENBQ3BCLE1BQU8sTUFBTVMsRUFBYUssRUFBSyxDQUFFLE9BQUEvUixFQUFRLElBQUFNLEVBQUssTUFBTyxDQUFFLEdBQUltRCxFQUFNLElBQU0sRUFDdkUsSUFBQW5ELEVBQ0EsT0FBQU4sRUFDQSxNQUFBeUQsQ0FBQSxDQUNBLEVBR0UsSUFBQWdILEVBQVNPLEVBQVcrRyxDQUFHLEVBRXZCOUcsRUFFSixHQUFJMkcsR0FBQSxNQUFBQSxFQUFtQixTQUF5REcsR0FHL0V0SCxFQUF5RHNILEVBQUssUUFBVXRILEVBQ3hFUSxFQUF3RDhHLEVBQUssY0FDbkRBLGFBQWV2SCxHQUN6QlMsRUFBUThHLEVBQUksU0FDTixDQUdOLEdBRGdCLE1BQU16RyxFQUFPLFFBQVEsTUFBTSxFQUVuQyxPQUFBLE1BQU1LLEVBQWtCckwsQ0FBRyxFQUduQzJLLEVBQVEsTUFBTXlHLEVBQWFLLEVBQUssQ0FBRSxPQUFBL1IsRUFBUSxJQUFBTSxFQUFLLE1BQU8sQ0FBRSxHQUFJbUQsRUFBTSxFQUFHLENBQUcsQ0FBQSxDQUN6RSxDQUVBLE1BQU11TyxFQUFhLE1BQU1DLEdBQXdCOVEsRUFBRzZOLEVBQVF0SyxDQUFNLEVBQ2xFLE9BQUlzTixFQUNJLE1BQU1qRCxHQUFrQyxDQUM5QyxJQUFBek8sRUFDQSxPQUFBTixFQUNBLE9BQVFnUCxFQUFPLE1BQU0sRUFBR2dELEVBQVcsR0FBRyxFQUFFLE9BQU9BLEVBQVcsSUFBSSxFQUM5RCxPQUFBdkgsRUFDQSxNQUFBUSxFQUNBLE1BQUF4SCxDQUFBLENBQ0EsRUFFTSxNQUFNeU8sR0FBZ0I1UixFQUFLLENBQUUsR0FBSW1ELEVBQU0sRUFBTSxFQUFBd0gsRUFBT1IsQ0FBTSxDQUVuRSxNQUlBdUUsRUFBTyxLQUFLLE1BQVMsRUFJdkIsT0FBTyxNQUFNRCxHQUFrQyxDQUM5QyxJQUFBek8sRUFDQSxPQUFBTixFQUNBLE9BQUFnUCxFQUNBLE9BQVEsSUFDUixNQUFPLEtBQ1AsTUFBQXZMLEVBRUEsS0FBTXlOLEVBQWUsT0FBWSxJQUFBLENBQ2pDLENBQ0YsQ0FRQSxlQUFlZSxHQUF3QjlRLEVBQUc2TixFQUFRdEssRUFBUSxDQUN6RCxLQUFPdkQsS0FDRixHQUFBdUQsRUFBT3ZELENBQUMsRUFBRyxDQUNkLElBQUkyUSxFQUFJM1EsRUFDRCxLQUFBLENBQUM2TixFQUFPOEMsQ0FBQyxHQUFRQSxHQUFBLEVBQ3BCLEdBQUEsQ0FDSSxNQUFBLENBQ04sSUFBS0EsRUFBSSxFQUNULEtBQU0sQ0FDTCxLQUFNLE1BQXlEcE4sRUFBT3ZELENBQUMsRUFBRyxFQUMxRSxPQUEyRHVELEVBQU92RCxDQUFDLEVBQ25FLEtBQU0sQ0FBQyxFQUNQLE9BQVEsS0FDUixVQUFXLElBQ1osQ0FBQSxPQUVVLENBQ1gsUUFDRCxDQUNELENBRUYsQ0FXQSxlQUFld1EsR0FBcUIsQ0FBRSxPQUFBbEgsRUFBUSxNQUFBUSxFQUFPLElBQUEzSyxFQUFLLE1BQUFtRCxHQUFTLENBRWxFLE1BQU16RCxFQUFTLENBQUEsRUFHZixJQUFJMFAsRUFBbUIsS0FJdkIsR0FGdUMxRCxFQUFJLGFBQWEsQ0FBQyxJQUFNLEVBSzFELEdBQUEsQ0FDSCxNQUFNb0YsRUFBYyxNQUFNSSxHQUFVbFIsRUFBSyxDQUFDLEVBQUksQ0FBQyxFQUUvQyxHQUNDOFEsRUFBWSxPQUFTLFFBQ3BCQSxFQUFZLE1BQU0sQ0FBQyxHQUFLQSxFQUFZLE1BQU0sQ0FBQyxFQUFFLE9BQVMsT0FFakQsS0FBQSxHQUdZMUIsRUFBQTBCLEVBQVksTUFBTSxDQUFDLEdBQUssSUFBQSxNQUNwQyxFQUdIOVEsRUFBSSxTQUFXb0csR0FBVXBHLEVBQUksV0FBYSxTQUFTLFVBQVlzSixLQUNsRSxNQUFNK0IsRUFBa0JyTCxDQUFHLENBRTdCLENBR0ssTUFBQTZSLEVBQWMsTUFBTTNDLEdBQVUsQ0FDbkMsT0FBUTNELEdBQ1IsSUFBQXZMLEVBQ0EsT0FBQU4sRUFDQSxNQUFBeUQsRUFDQSxPQUFRLElBQU0sUUFBUSxRQUFRLEVBQUUsRUFDaEMsaUJBQWtCZ04sR0FBaUJmLENBQWdCLENBQUEsQ0FDbkQsRUFHSzBDLEVBQWEsQ0FDbEIsS0FBTSxNQUFNdEcsRUFBcUIsRUFDakMsT0FBUUEsRUFDUixVQUFXLEtBQ1gsT0FBUSxLQUNSLEtBQU0sSUFBQSxFQUdQLE9BQU8sTUFBTWlELEdBQWtDLENBQzlDLElBQUF6TyxFQUNBLE9BQUFOLEVBQ0EsT0FBUSxDQUFDbVMsRUFBYUMsQ0FBVSxFQUNoQyxPQUFBM0gsRUFDQSxNQUFBUSxFQUNBLE1BQU8sSUFBQSxDQUNQLENBQ0YsQ0FTQSxTQUFTb0gsR0FBc0IvUixFQUFLNFEsRUFBYyxDQUU3QyxHQURBLENBQUM1USxHQUNEb0gsR0FBZ0JwSCxFQUFLa0gsQ0FBSSxFQUFHLE9BRzVCLElBQUE4SyxFQUNBLEdBQUEsQ0FDUUEsRUFBQXRHLEVBQUksTUFBTSxRQUFRLENBQUUsSUFBSyxJQUFJLElBQUkxTCxDQUFHLENBQUEsQ0FBRyxHQUFLQSxFQUFJLGNBQ2hELENBVUosTUFDUixDQUVNLE1BQUFYLEVBQU8rTyxHQUFhNEQsQ0FBUSxFQUVsQyxVQUFXN08sS0FBU21JLEdBQVEsQ0FDckIsTUFBQTVMLEVBQVN5RCxFQUFNLEtBQUs5RCxDQUFJLEVBRTlCLEdBQUlLLEVBVUksTUFQUSxDQUNkLEdBSFVNLEVBQUksU0FBV0EsRUFBSSxPQUk3QixhQUFBNFEsRUFDQSxNQUFBek4sRUFDQSxPQUFRMUQsR0FBY0MsQ0FBTSxFQUM1QixJQUFBTSxDQUFBLENBSUgsQ0FDRCxDQUdBLFNBQVNvTyxHQUFhNU8sRUFBVSxDQUMvQixPQUFPRCxHQUFnQkMsRUFBUyxNQUFNMEgsRUFBSyxNQUFNLEdBQUssR0FBRyxDQUMxRCxDQVVBLFNBQVMrSyxHQUFpQixDQUFFLElBQUFqUyxFQUFLLEtBQUF5SixFQUFNLE9BQUF1RSxFQUFRLE1BQUFrRSxHQUFTLENBQ3ZELElBQUlDLEVBQWUsR0FFbkIsTUFBTUMsRUFBTUMsR0FBa0JwRyxFQUFTK0IsRUFBUWhPLEVBQUt5SixDQUFJLEVBRXBEeUksSUFBVSxTQUNiRSxFQUFJLFdBQVcsTUFBUUYsR0FHeEIsTUFBTUksRUFBYyxDQUNuQixHQUFHRixFQUFJLFdBQ1AsT0FBUSxJQUFNLENBQ0VELEVBQUEsR0FDZkMsRUFBSSxPQUFPLElBQUksTUFBTSxzQkFBc0IsQ0FBQyxDQUM3QyxDQUFBLEVBR0QsT0FBS2hHLEdBRUpOLEdBQTBCLFFBQVNyRyxHQUFPQSxFQUFHNk0sQ0FBVyxDQUFDLEVBR25ESCxFQUFlLEtBQU9DLENBQzlCLENBcUJBLGVBQWV0RSxFQUFTLENBQ3ZCLEtBQUFyRSxFQUNBLElBQUF6SixFQUNBLE9BQUF1UyxFQUNBLFVBQUFoTCxFQUNBLFNBQUFDLEVBQ0EsY0FBQUksRUFDQSxNQUFBNEssRUFBUSxDQUFDLEVBQ1QsZUFBQTVFLEVBQWlCLEVBQ2pCLFVBQUFDLEVBQVksQ0FBQyxFQUNiLE9BQUE0RSxFQUFTeE4sR0FDVCxNQUFBeU4sRUFBUXpOLEVBQ1QsRUFBRyxDQUNJLE1BQUErSSxFQUFTK0QsR0FBc0IvUixFQUFLLEVBQUssRUFDekNvUyxFQUFNSCxHQUFpQixDQUFFLElBQUFqUyxFQUFLLEtBQUF5SixFQUFNLE1BQU84SSxHQUFBLFlBQUFBLEVBQVEsTUFBTyxPQUFBdkUsQ0FBQSxDQUFRLEVBRXhFLEdBQUksQ0FBQ29FLEVBQUssQ0FDSE0sSUFDTixNQUNELENBR0EsTUFBTUMsRUFBeUJ4SCxFQUN6QnlILEVBQTRCeEgsRUFFM0JxSCxJQUVNckcsRUFBQSxHQUVURixJQUNJbEIsRUFBQSxXQUFXLElBQUlvSCxFQUFJLFVBQVUsRUFHN0IxRixHQUFBbUIsRUFDUixJQUFJZ0YsRUFBb0I3RSxHQUFXLE1BQU1FLEdBQVdGLENBQU0sRUFFMUQsR0FBSSxDQUFDNkUsRUFBbUIsQ0FDbkIsR0FBQXpMLEdBQWdCcEgsRUFBS2tILENBQUksRUFDckIsT0FBQSxNQUFNbUUsRUFBa0JyTCxDQUFHLEVBRW5DNlMsRUFBb0IsTUFBTWpCLEdBQ3pCNVIsRUFDQSxDQUFFLEdBQUksSUFBSyxFQUNYLE1BQU1vUixFQUFhLElBQUk5RyxHQUFlLElBQUssWUFBYSxjQUFjdEssRUFBSSxRQUFRLEVBQUUsRUFBRyxDQUN0RixJQUFBQSxFQUNBLE9BQVEsQ0FBQyxFQUNULE1BQU8sQ0FBRSxHQUFJLElBQUssQ0FBQSxDQUNsQixFQUNELEdBQUEsQ0FFRixDQU9BLEdBSEFBLEdBQU1nTyxHQUFBLFlBQUFBLEVBQVEsTUFBT2hPLEVBR2pCME0sS0FBVW1CLEVBQ2IsT0FBQXVFLEVBQUksT0FBTyxJQUFJLE1BQU0sb0JBQW9CLENBQUMsRUFDbkMsR0FHSixHQUFBUyxFQUFrQixPQUFTLFdBRTlCLEdBQUlqRixHQUFrQixHQUNyQmlGLEVBQW9CLE1BQU14QixHQUFxQixDQUM5QyxPQUFRLElBQ1IsTUFBTyxNQUFNRCxFQUFhLElBQUksTUFBTSxlQUFlLEVBQUcsQ0FDckQsSUFBQXBSLEVBQ0EsT0FBUSxDQUFDLEVBQ1QsTUFBTyxDQUFFLEdBQUksSUFBSyxDQUFBLENBQ2xCLEVBQ0QsSUFBQUEsRUFDQSxNQUFPLENBQUUsR0FBSSxJQUFLLENBQUEsQ0FDbEIsTUFFSyxRQUFBME4sR0FBQSxJQUFJLElBQUltRixFQUFrQixTQUFVN1MsQ0FBRyxFQUFFLEtBQU0sR0FBSTROLEVBQWlCLEVBQUdDLENBQVMsRUFDL0UsUUFFeUJnRixFQUFrQixNQUFNLEtBQUssUUFBVyxLQUN6RCxNQUFNN0gsRUFBTyxRQUFRLE1BQU0sR0FFMUMsTUFBTUssRUFBa0JyTCxDQUFHLEVBb0I3QixHQWRtQm9OLEtBSW5CbkMsR0FBd0IwSCxDQUFzQixFQUM5Q3RGLEdBQWlCdUYsQ0FBeUIsRUFHdENDLEVBQWtCLE1BQU0sS0FBSyxJQUFJLFdBQWE3UyxFQUFJLFdBQ3JEQSxFQUFJLFNBQVc2UyxFQUFrQixNQUFNLEtBQUssSUFBSSxVQUd6Q0wsRUFBQUQsRUFBU0EsRUFBTyxNQUFRQyxFQUU1QixDQUFDRCxFQUFRLENBRU4sTUFBQU8sRUFBU2xMLEVBQWdCLEVBQUksRUFFN0JtTCxFQUFRLENBQ2IsQ0FBQzlNLENBQWEsRUFBSWtGLEdBQXlCMkgsRUFDM0MsQ0FBQzVNLENBQWdCLEVBQUlrRixHQUE0QjBILEVBQ2pELENBQUMvTSxFQUFVLEVBQUd5TSxDQUFBLEdBR0o1SyxFQUFnQixRQUFRLGFBQWUsUUFBUSxXQUN2RCxLQUFLLFFBQVNtTCxFQUFPLEdBQUkvUyxDQUFHLEVBRTFCNEgsR0FDSnNELEdBQXFCQyxFQUF1QkMsQ0FBd0IsQ0FFdEUsQ0FPQSxHQUphUyxFQUFBLEtBRUtnSCxFQUFBLE1BQU0sS0FBSyxNQUFRTCxFQUVqQ3RHLEdBQVMsQ0FDWkQsRUFBVTRHLEVBQWtCLE1BR3hCQSxFQUFrQixNQUFNLE9BQ1RBLEVBQUEsTUFBTSxLQUFLLElBQU03UyxHQUc5QixNQUFBZ1QsR0FDTCxNQUFNLFFBQVEsSUFDYmpILEdBQXNCLElBQUt0RyxHQUMxQkEsRUFBc0QyTSxFQUFJLFVBQVcsQ0FDdEUsQ0FBQSxHQUVBLE9BQThDOVIsR0FBVSxPQUFPQSxHQUFVLFVBQUEsRUFFdkUsR0FBQTBTLEVBQWUsT0FBUyxFQUFHLENBQzlCLElBQVNDLEVBQVQsVUFBbUIsQ0FDbEJqSCxFQUEyQkEsRUFBeUIsT0FFbER2RyxHQUFPLENBQUN1TixFQUFlLFNBQVN2TixDQUFFLENBQUEsQ0FDcEMsRUFHRHVOLEVBQWUsS0FBS0MsQ0FBTyxFQUNGakgsRUFBQSxLQUFLLEdBQUdnSCxDQUFjLENBQ2hELENBRUt4RyxHQUFBLEtBQUtxRyxFQUFrQixLQUFLLEVBQ2pCdkcsR0FBQSxFQUFBLE1BRUxnQyxHQUFBdUUsRUFBbUI5TCxHQUFRLEVBQUssRUFHdEMsS0FBQSxDQUFFLGNBQUFtTSxDQUFrQixFQUFBLFNBRzFCLE1BQU1DLEdBQUssRUFHWCxNQUFNbkcsRUFBU3VGLEVBQVNBLEVBQU8sT0FBUy9LLEVBQVdoQixHQUFpQixFQUFBLEtBRXBFLEdBQUkyRixHQUFZLENBQ1QsTUFBQWlILEVBQWNwVCxFQUFJLE1BQVEsU0FBUyxlQUFlLG1CQUFtQkEsRUFBSSxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFDekZnTixFQUNNLFNBQUFBLEVBQU8sRUFBR0EsRUFBTyxDQUFDLEVBQ2pCb0csRUFJVkEsRUFBWSxlQUFlLEVBRTNCLFNBQVMsRUFBRyxDQUFDLENBRWYsQ0FFTSxNQUFBQyxFQUVMLFNBQVMsZ0JBQWtCSCxHQUczQixTQUFTLGdCQUFrQixTQUFTLEtBRWpDLENBQUMzTCxHQUFhLENBQUM4TCxHQUNOQyxLQUdBbkgsR0FBQSxHQUVUMEcsRUFBa0IsTUFBTSxPQUMzQnBHLEVBQU9vRyxFQUFrQixNQUFNLE1BR25CekcsRUFBQSxHQUVUM0MsSUFBUyxZQUNaOEQsR0FBaUJuQyxDQUF3QixFQUcxQ2dILEVBQUksT0FBTyxNQUFTLEVBRUtwRyxFQUFBLFFBQVN2RyxHQUNqQ0EsRUFBeUQyTSxFQUFJLFVBQVcsQ0FBQSxFQUdsRXBILEVBQUEsV0FBVyxJQUFJLElBQUksQ0FHM0IsQ0FVQSxlQUFlNEcsR0FBZ0I1UixFQUFLbUQsRUFBT3dILEVBQU9SLEVBQVEsQ0FDckQsT0FBQW5LLEVBQUksU0FBV29HLEdBQVVwRyxFQUFJLFdBQWEsU0FBUyxVQUFZLENBQUNzSixHQUc1RCxNQUFNK0gsR0FBcUIsQ0FDakMsT0FBQWxILEVBQ0EsTUFBQVEsRUFDQSxJQUFBM0ssRUFDQSxNQUFBbUQsQ0FBQSxDQUNBLEVBV0ssTUFBTWtJLEVBQWtCckwsQ0FBRyxDQUNuQyxDQVFBLFNBQVN1VCxJQUFnQixDQUVwQixJQUFBQyxFQUVNL0gsRUFBQSxpQkFBaUIsWUFBY2dJLEdBQVUsQ0FDNUMxTSxNQUFBQSxFQUFpQzBNLEVBQU0sT0FFN0MsYUFBYUQsQ0FBaUIsRUFDOUJBLEVBQW9CLFdBQVcsSUFBTSxDQUNwQ3ZGLEVBQVFsSCxFQUFRLENBQUMsR0FDZixFQUFFLENBQUEsQ0FDTCxFQUdELFNBQVMyTSxFQUFJRCxFQUFPLENBQ25CeEYsRUFBZ0N3RixFQUFNLGFBQWEsRUFBRSxDQUFDLEVBQUksQ0FBQSxDQUMzRCxDQUVVaEksRUFBQSxpQkFBaUIsWUFBYWlJLENBQUcsRUFDM0NqSSxFQUFVLGlCQUFpQixhQUFjaUksRUFBSyxDQUFFLFFBQVMsR0FBTSxFQUUvRCxNQUFNQyxFQUFXLElBQUkscUJBQ25CQyxHQUFZLENBQ1osVUFBV2IsS0FBU2EsRUFDZmIsRUFBTSxpQkFDVDVFLEdBQWdENEUsRUFBTSxPQUFRLElBQUEsRUFDckRZLEVBQUEsVUFBVVosRUFBTSxNQUFNLEVBR2xDLEVBQ0EsQ0FBRSxVQUFXLENBQUUsQ0FBQSxFQU9QLFNBQUE5RSxFQUFRdkgsRUFBU21OLEVBQVUsQ0FDN0IsTUFBQTVNLEVBQUlILEdBQVlKLEVBQVMrRSxDQUFTLEVBQ3hDLEdBQUksQ0FBQ3hFLEVBQUcsT0FFUixLQUFNLENBQUUsSUFBQWpILEVBQUssU0FBQW1ILEVBQVUsU0FBQUUsQ0FBYSxFQUFBTCxHQUFjQyxFQUFHQyxDQUFJLEVBQ3pELEdBQUlDLEdBQVlFLEVBQVUsT0FFcEIsTUFBQXNHLEVBQVVyRyxFQUFtQkwsQ0FBQyxFQUVoQyxHQUFBLENBQUMwRyxFQUFRLE9BQ1IsR0FBQWtHLEdBQVlsRyxFQUFRLGFBQWMsQ0FDL0IsTUFBQUssRUFBUytELEdBQXNCL1IsRUFBSyxFQUFLLEVBQzNDZ08sR0FhRkQsR0FBY0MsQ0FBTSxDQUV0QixNQUNVNkYsR0FBWWxHLEVBQVEsY0FDOUJRLEdBQWtDbk8sRUFBSyxRQUFBLENBRzFDLENBRUEsU0FBU2dULEdBQWlCLENBQ3pCVyxFQUFTLFdBQVcsRUFFcEIsVUFBVzFNLEtBQUt3RSxFQUFVLGlCQUFpQixHQUFHLEVBQUcsQ0FDaEQsS0FBTSxDQUFFLElBQUF6TCxFQUFLLFNBQUFtSCxFQUFVLFNBQUFFLENBQWEsRUFBQUwsR0FBY0MsRUFBR0MsQ0FBSSxFQUN6RCxHQUFJQyxHQUFZRSxFQUFVLFNBRXBCLE1BQUFzRyxFQUFVckcsRUFBbUJMLENBQUMsRUFDaEMwRyxFQUFRLFNBRVJBLEVBQVEsZUFBaUJ4SCxFQUFtQixVQUMvQ3dOLEVBQVMsUUFBUTFNLENBQUMsRUFHZjBHLEVBQVEsZUFBaUJ4SCxFQUFtQixPQUMvQ2dJLEdBQWtDbk8sRUFBSyxRQUFBLEVBRXpDLENBQ0QsQ0FFQWdNLEVBQXlCLEtBQUtnSCxDQUFjLEVBQzdCQSxHQUNoQixDQU9BLFNBQVM1QixFQUFhekcsRUFBTzhJLEVBQU8sQ0FDbkMsR0FBSTlJLGFBQWlCVCxHQUNwQixPQUFPUyxFQUFNLEtBUVIsTUFBQVIsRUFBU08sRUFBV0MsQ0FBSyxFQUN6QkosRUFBVUssR0FBWUQsQ0FBSyxFQUdoQyxPQUFBZSxFQUFJLE1BQU0sWUFBWSxDQUFFLE1BQUFmLEVBQU8sTUFBQThJLEVBQU8sT0FBQXRKLEVBQVEsUUFBQUksRUFBUyxHQUF5QixDQUFFLFFBQUFBLENBQVEsQ0FFNUYsQ0E2Rk8sU0FBUzJDLEdBQUtsTixFQUFLMEIsRUFBTyxHQUFJLENBT2hDLE9BRkoxQixFQUFNcUcsR0FBWXJHLENBQUcsRUFFakJBLEVBQUksU0FBV29HLEVBQ1gsUUFBUSxPQUNkLElBQUksTUFHQSxtQkFDSixDQUFBLEVBSUtzSCxHQUFNMU4sRUFBSzBCLEVBQU0sQ0FBQyxDQUMxQixDQXdQQSxTQUFTeUwsSUFBZ0IsT0FDeEIsUUFBUSxrQkFBb0IsU0FNWCxpQkFBQSxlQUFpQixHQUFNLENBQ3ZDLElBQUlnRixFQUFlLEdBSW5CLEdBRmMzRSxLQUVWLENBQUNwQixFQUFZLENBQ2hCLE1BQU1nRyxFQUFNQyxHQUFrQnBHLEVBQVMsT0FBVyxLQUFNLE9BQU8sRUFLekR1QyxFQUFhLENBQ2xCLEdBQUc0RCxFQUFJLFdBQ1AsT0FBUSxJQUFNLENBQ0VELEVBQUEsR0FDZkMsRUFBSSxPQUFPLElBQUksTUFBTSxzQkFBc0IsQ0FBQyxDQUM3QyxDQUFBLEVBR0R0RyxHQUEwQixRQUFTckcsR0FBT0EsRUFBRytJLENBQVUsQ0FBQyxDQUN6RCxDQUVJMkQsR0FDSCxFQUFFLGVBQWUsRUFDakIsRUFBRSxZQUFjLElBRWhCLFFBQVEsa0JBQW9CLE1BQzdCLENBQ0EsRUFFRCxpQkFBaUIsbUJBQW9CLElBQU0sQ0FDdEMsU0FBUyxrQkFBb0IsVUFDbEIzRSxJQUNmLENBQ0EsR0FHSVYsRUFBQSxVQUFVLGFBQVYsTUFBQUEsRUFBc0IsVUFDWnlHLEtBSUw5SCxFQUFBLGlCQUFpQixRQUFVZ0ksR0FBVSxPQUs5QyxHQUZJQSxFQUFNLFFBQVVBLEVBQU0sUUFBVSxHQUNoQ0EsRUFBTSxTQUFXQSxFQUFNLFNBQVdBLEVBQU0sVUFBWUEsRUFBTSxRQUMxREEsRUFBTSxpQkFBa0IsT0FFNUIsTUFBTSxFQUFJM00sR0FBb0MyTSxFQUFNLGFBQWEsRUFBRSxDQUFDLEVBQUloSSxDQUFBLEVBQ3hFLEdBQUksQ0FBQyxFQUFHLE9BRUYsS0FBQSxDQUFFLElBQUF6TCxFQUFLLFNBQUFtSCxFQUFVLE9BQUFKLEVBQVEsU0FBQU0sQ0FBUyxFQUFJTCxHQUFjLEVBQUdFLENBQUksRUFDakUsR0FBSSxDQUFDbEgsRUFBSyxPQUdOK0csR0FBQUEsSUFBVyxXQUFhQSxJQUFXLFFBQ3RDLEdBQUksT0FBTyxTQUFXLE9BQVEsZUFDcEJBLEdBQVVBLElBQVcsUUFDL0IsT0FHSyxNQUFBNEcsRUFBVXJHLEVBQW1CLENBQUMsRUFrQmhDLEdBTkgsRUFYd0IsYUFBYSxjQVlyQ3RILEVBQUksV0FBYSxTQUFTLFVBQzFCLEVBQUVBLEVBQUksV0FBYSxVQUFZQSxFQUFJLFdBQWEsVUFJN0NxSCxFQUFVLE9BR1YsR0FBQUYsR0FBWXdHLEVBQVEsT0FBUSxDQUMzQnNFLEdBQWlCLENBQUUsSUFBQWpTLEVBQUssS0FBTSxNQUFRLENBQUEsRUFHNUJvTSxFQUFBLEdBRWJxSCxFQUFNLGVBQWUsRUFHdEIsTUFDRCxDQUtBLEtBQU0sQ0FBQ0ssRUFBU25ULENBQUksRUFBSVgsRUFBSSxLQUFLLE1BQU0sR0FBRyxFQUMxQyxHQUFJVyxJQUFTLFFBQWFtVCxJQUFZbFUsR0FBVyxRQUFRLEVBQUcsQ0FLckQsS0FBQSxDQUFBLENBQUdtVSxDQUFZLEVBQUk5SCxFQUFRLElBQUksS0FBSyxNQUFNLEdBQUcsRUFDbkQsR0FBSThILElBQWlCcFQsRUFBTSxDQUMxQjhTLEVBQU0sZUFBZSxFQUtqQjlTLElBQVMsSUFBT0EsSUFBUyxPQUFTLEVBQUUsY0FBYyxlQUFlLEtBQUssSUFBTSxLQUMvRSxPQUFPLFNBQVMsQ0FBRSxJQUFLLENBQUcsQ0FBQSxHQUUxQm1NLEVBQUEsRUFBRSxjQUFjLGVBQWVuTSxDQUFJLElBQW5DLE1BQUFtTSxFQUFzQyxpQkFHdkMsTUFDRCxDQVNBLEdBTmtCVCxFQUFBLEdBRWxCcEIsR0FBd0JFLENBQXFCLEVBRTdDNkksRUFBV2hVLENBQUcsRUFFVixDQUFDMk4sRUFBUSxjQUFlLE9BR1Z0QixFQUFBLEVBQ25CLENBRUFvSCxFQUFNLGVBQWUsRUFFWjNGLEVBQUEsQ0FDUixLQUFNLE9BQ04sSUFBQTlOLEVBQ0EsVUFBVzJOLEVBQVEsVUFDbkIsU0FBVUEsRUFBUSxTQUNsQixjQUFlQSxFQUFRLGVBQWlCM04sRUFBSSxPQUFTLFNBQVMsSUFBQSxDQUM5RCxDQUFBLENBQ0QsRUFFU3lMLEVBQUEsaUJBQWlCLFNBQVdnSSxHQUFVLENBQy9DLEdBQUlBLEVBQU0saUJBQWtCLE9BRXRCLE1BQUE5RSxFQUNMLGdCQUFnQixVQUFVLFVBQVUsS0FBSzhFLEVBQU0sTUFBTSxFQUdoRFEsRUFBd0VSLEVBQU0sVUFJcEYsS0FGZVEsR0FBQSxZQUFBQSxFQUFXLGFBQWN0RixFQUFLLFVBRTlCLE1BQU8sT0FFdEIsTUFBTTNPLEVBQU0sSUFBSSxLQUNkaVUsR0FBQSxZQUFBQSxFQUFXLGFBQWEsaUJBQWlCQSxHQUFBLFlBQUFBLEVBQVcsYUFBZXRGLEVBQUssTUFBQSxFQUd0RSxHQUFBdkgsR0FBZ0JwSCxFQUFLa0gsQ0FBSSxFQUFHLE9BRTFCLE1BQUFnTixFQUE2Q1QsRUFBTSxPQUVuRDlGLEVBQVVyRyxFQUFtQjRNLENBQVUsRUFDN0MsR0FBSXZHLEVBQVEsT0FBUSxPQUVwQjhGLEVBQU0sZUFBZSxFQUNyQkEsRUFBTSxnQkFBZ0IsRUFFaEIsTUFBQTVPLEVBQU8sSUFBSSxTQUFTcVAsQ0FBVSxFQUU5QkMsRUFBaUJGLEdBQUEsWUFBQUEsRUFBVyxhQUFhLFFBQzNDRSxHQUNIdFAsRUFBSyxPQUFPc1AsR0FBZ0JGLEdBQUEsWUFBQUEsRUFBVyxhQUFhLFdBQVksRUFBRSxFQUluRWpVLEVBQUksT0FBUyxJQUFJLGdCQUFnQjZFLENBQUksRUFBRSxTQUFTLEVBRXZDaUosRUFBQSxDQUNSLEtBQU0sT0FDTixJQUFBOU4sRUFDQSxVQUFXMk4sRUFBUSxVQUNuQixTQUFVQSxFQUFRLFNBQ2xCLGNBQWVBLEVBQVEsZUFBaUIzTixFQUFJLE9BQVMsU0FBUyxJQUFBLENBQzlELENBQUEsQ0FDRCxFQUVnQixpQkFBQSxXQUFZLE1BQU95VCxHQUFVLE9BQ3pDLElBQUEzRyxFQUFBMkcsRUFBTSxRQUFOLE1BQUEzRyxFQUFjN0csR0FBZ0IsQ0FDM0IsTUFBQW1PLEVBQWdCWCxFQUFNLE1BQU14TixDQUFhLEVBSy9DLEdBSkF5RyxHQUFRLENBQUEsRUFJSjBILElBQWtCakosRUFBdUIsT0FFdkMsTUFBQTZCLEVBQVNuQyxFQUFpQnVKLENBQWEsRUFDdkM1QixFQUFRaUIsRUFBTSxNQUFNMU4sRUFBVSxHQUFLLENBQUEsRUFDbkMvRixFQUFNLElBQUksSUFBSXlULEVBQU0sTUFBTXpOLEVBQVksR0FBSyxTQUFTLElBQUksRUFDeERxTyxFQUFtQlosRUFBTSxNQUFNdk4sQ0FBZ0IsRUFDL0NvTyxFQUFpQjFVLEdBQVcsUUFBUSxJQUFNQSxHQUFXcU0sRUFBUSxHQUFHLEVBSXRFLEdBRkNvSSxJQUFxQmpKLElBQTZCa0IsSUFBaUJnSSxHQUV2RCxDQUtaTixFQUFXaFUsQ0FBRyxFQUVHNkssRUFBQU0sQ0FBcUIsRUFBSTNFLEtBQ3RDd0csR0FBaUIsU0FBQUEsRUFBTyxFQUFHQSxFQUFPLENBQUMsRUFFbkN3RixJQUFVL0YsRUFBSyxRQUNYQSxFQUFBLENBQUUsR0FBR0EsRUFBTSxNQUFBK0YsR0FDYmhHLEdBQUEsS0FBSyxDQUFFLEtBQUFDLENBQUEsQ0FBTSxHQUdLdEIsRUFBQWlKLEVBQ3hCLE1BQ0QsQ0FFQSxNQUFNbEMsRUFBUWtDLEVBQWdCakosRUFFOUIsTUFBTTJDLEVBQVMsQ0FDZCxLQUFNLFdBQ04sSUFBQTlOLEVBQ0EsT0FBUSxDQUNQLE1BQUF3UyxFQUNBLE9BQUF4RixFQUNBLE1BQUFrRixDQUNELEVBQ0EsT0FBUSxJQUFNLENBQ1cvRyxFQUFBaUosRUFDR2hKLEVBQUFpSixDQUM1QixFQUNBLE1BQU8sSUFBTSxDQUNKLFFBQUEsR0FBRyxDQUFDbkMsQ0FBSyxDQUNsQixFQUNBLFVBQVd4RixFQUFBLENBQ1gsQ0FBQSxTQUtHLENBQUNMLEVBQWlCLENBQ3JCLE1BQU1yTSxFQUFNLElBQUksSUFBSSxTQUFTLElBQUksRUFDakNnVSxFQUFXaFUsQ0FBRyxDQUNmLENBQ0QsQ0FDQSxFQUVELGlCQUFpQixhQUFjLElBQU0sQ0FHaENxTSxJQUNlQSxFQUFBLEdBQ1YsUUFBQSxhQUNQLENBQ0MsR0FBRyxRQUFRLE1BQ1gsQ0FBQ3BHLENBQWEsRUFBRyxFQUFFa0YsRUFDbkIsQ0FBQ2pGLENBQWdCLEVBQUdrRixDQUNyQixFQUNBLEdBQ0EsU0FBUyxJQUFBLEVBRVgsQ0FDQSxFQUtELFVBQVdtSixLQUFRLFNBQVMsaUJBQWlCLE1BQU0sRUFDOUNBLEVBQUssTUFBUSxTQUFRQSxFQUFLLEtBQU9BLEVBQUssTUFHMUIsaUJBQUEsV0FBYWQsR0FBVSxDQUtuQ0EsRUFBTSxXQUNGekksRUFBQSxXQUFXLElBQUksSUFBSSxDQUMzQixDQUNBLEVBS0QsU0FBU2dKLEVBQVdoVSxFQUFLLENBQ3hCaU0sRUFBUSxJQUFNak0sRUFDZGdMLEVBQU8sS0FBSyxJQUFJLENBQUUsR0FBR3lCLEVBQU0sSUFBQXpNLEVBQUssRUFDaENnTCxFQUFPLEtBQUssUUFDYixDQUNELENBY0EsZUFBZWlDLEdBQ2RsRyxFQUNBLENBQUUsT0FBQW9ELEVBQVMsSUFBSyxNQUFBUSxFQUFPLFNBQUE2SixFQUFVLE9BQUE5VSxFQUFRLE1BQUF5RCxFQUFPLEtBQU1tTyxFQUFtQixLQUFBM0MsQ0FBQSxFQUN4RSxDQUNVckYsR0FBQSxHQUVYLE1BQU10SixFQUFNLElBQUksSUFBSSxTQUFTLElBQUksR0FLL0IsQ0FBRSxPQUFBTixFQUFTLEdBQUksTUFBQXlELEVBQVEsQ0FBRSxHQUFJLElBQUssQ0FBQSxFQUFNNE8sR0FBc0IvUixFQUFLLEVBQUssR0FBSyxDQUFBLEdBSTNFLElBQUFzRCxFQUVBLEdBQUEsQ0FDSCxNQUFNaU8sRUFBa0JpRCxFQUFTLElBQUksTUFBT2xRLEVBQUd6RCxJQUFNLENBQzlDLE1BQUF1TyxFQUFtQmtDLEVBQWtCelEsQ0FBQyxFQUU1QyxPQUFJdU8sR0FBQSxNQUFBQSxFQUFrQixPQUNKQSxFQUFBLEtBQU9xRixHQUFpQnJGLEVBQWlCLElBQUksR0FHeERGLEdBQVUsQ0FDaEIsT0FBUXhELEVBQUksTUFBTXBILENBQUMsRUFDbkIsSUFBQXRFLEVBQ0EsT0FBQU4sRUFDQSxNQUFBeUQsRUFDQSxPQUFRLFNBQVksQ0FDbkIsTUFBTTBCLEVBQU8sQ0FBQSxFQUNiLFFBQVMyTSxFQUFJLEVBQUdBLEVBQUkzUSxFQUFHMlEsR0FBSyxFQUMzQixPQUFPLE9BQU8zTSxHQUFPLE1BQU0wTSxFQUFnQkMsQ0FBQyxHQUFHLElBQUksRUFFN0MsT0FBQTNNLENBQ1IsRUFDQSxpQkFBa0JzTCxHQUFpQmYsQ0FBZ0IsQ0FBQSxDQUNuRCxDQUFBLENBQ0QsRUFHS1YsRUFBUyxNQUFNLFFBQVEsSUFBSTZDLENBQWUsRUFFMUNtRCxFQUFlcEosR0FBTyxLQUFLLENBQUMsQ0FBRSxHQUFBbEosQ0FBRyxJQUFNQSxJQUFPZSxFQUFNLEVBQUUsRUFJNUQsR0FBSXVSLEVBQWMsQ0FDakIsTUFBTXZRLEVBQVV1USxFQUFhLFFBQzdCLFFBQVM3VCxFQUFJLEVBQUdBLEVBQUlzRCxFQUFRLE9BQVF0RCxJQUM5QnNELEVBQVF0RCxDQUFDLEdBQ042TixFQUFBLE9BQU83TixFQUFHLEVBQUcsTUFBUyxDQUdoQyxDQUVBeUMsRUFBUyxNQUFNbUwsR0FBa0MsQ0FDaEQsSUFBQXpPLEVBQ0EsT0FBQU4sRUFDQSxPQUFBZ1AsRUFDQSxPQUFBdkUsRUFDQSxNQUFBUSxFQUNBLEtBQUFnRSxFQUNBLE1BQU8rRixHQUFnQixJQUFBLENBQ3ZCLFFBQ08vSixFQUFPLENBQ2YsR0FBSUEsYUFBaUJQLEdBQVUsQ0FHOUIsTUFBTWlCLEVBQWtCLElBQUksSUFBSVYsRUFBTSxTQUFVLFNBQVMsSUFBSSxDQUFDLEVBQzlELE1BQ0QsQ0FFQXJILEVBQVMsTUFBTStOLEdBQXFCLENBQ25DLE9BQVEzRyxFQUFXQyxDQUFLLEVBQ3hCLE1BQU8sTUFBTXlHLEVBQWF6RyxFQUFPLENBQUUsSUFBQTNLLEVBQUssT0FBQU4sRUFBUSxNQUFBeUQsRUFBTyxFQUN2RCxJQUFBbkQsRUFDQSxNQUFBbUQsQ0FBQSxDQUNBLENBQ0YsQ0FFSUcsRUFBTyxNQUFNLE9BQ1RBLEVBQUEsTUFBTSxLQUFLLE1BQVEsQ0FBQSxHQUdoQmdMLEdBQUFoTCxFQUFReUQsRUFBUSxFQUFJLENBQ2hDLENBT0EsZUFBZW1LLEdBQVVsUixFQUFLaVIsRUFBUyxPQUNoQyxNQUFBMEQsRUFBVyxJQUFJLElBQUkzVSxDQUFHLEVBQ25CMlUsRUFBQSxTQUFXalUsR0FBZ0JWLEVBQUksUUFBUSxFQUM1Q0EsRUFBSSxTQUFTLFNBQVMsR0FBRyxHQUNuQjJVLEVBQUEsYUFBYSxPQUFPbEssR0FBc0IsR0FBRyxFQUt2RGtLLEVBQVMsYUFBYSxPQUFPbkssR0FBbUJ5RyxFQUFRLElBQUtwUSxHQUFPQSxFQUFJLElBQU0sR0FBSSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBRTVGLE1BQU0ySCxFQUFNLE1BQU1ySCxHQUFhd1QsRUFBUyxJQUFJLEVBRXhDLEdBQUEsQ0FBQ25NLEVBQUksR0FBSSxDQU1SLElBQUErQixFQUNKLE1BQUl1QyxFQUFBdEUsRUFBSSxRQUFRLElBQUksY0FBYyxJQUE5QixNQUFBc0UsRUFBaUMsU0FBUyxvQkFDbkN2QyxFQUFBLE1BQU0vQixFQUFJLE9BQ1ZBLEVBQUksU0FBVyxJQUNmK0IsRUFBQSxZQUNBL0IsRUFBSSxTQUFXLE1BQ2YrQixFQUFBLGtCQUVMLElBQUlMLEdBQVUxQixFQUFJLE9BQVErQixDQUFPLENBQ3hDLENBSU8sT0FBQSxJQUFJLFFBQVEsTUFBT3FLLEdBQVksT0FLL0IsTUFBQUMsTUFBZ0IsSUFDaEJDLEVBQW9EdE0sRUFBSSxLQUFNLFVBQVUsRUFDeEV1TSxFQUFVLElBQUksWUFLcEIsU0FBU0MsRUFBWW5RLEVBQU0sQ0FDbkIsT0FBQW9RLEdBQWtCcFEsRUFBTSxDQUM5QixRQUFVekMsR0FDRixJQUFJLFFBQVEsQ0FBQzhTLEVBQVFDLElBQVcsQ0FDdENOLEVBQVUsSUFBSXpTLEVBQUksQ0FBRSxPQUFBOFMsRUFBUSxPQUFBQyxDQUFRLENBQUEsQ0FBQSxDQUNwQyxDQUNGLENBQ0EsQ0FDRixDQUVBLElBQUluVSxFQUFPLEdBRVgsT0FBYSxDQUVaLEtBQU0sQ0FBRSxLQUFBb1UsRUFBTSxNQUFBOVUsQ0FBQSxFQUFVLE1BQU13VSxFQUFPLEtBQUssRUFDMUMsR0FBSU0sR0FBUSxDQUFDcFUsRUFBTSxNQUluQixJQUZRQSxHQUFBLENBQUNWLEdBQVNVLEVBQU87QUFBQSxFQUFPK1QsRUFBUSxPQUFPelUsRUFBTyxDQUFFLE9BQVEsRUFBTSxDQUFBLElBRXpELENBQ04sTUFBQStVLEVBQVFyVSxFQUFLLFFBQVE7QUFBQSxDQUFJLEVBQy9CLEdBQUlxVSxJQUFVLEdBQ2IsTUFHRCxNQUFNeEcsRUFBTyxLQUFLLE1BQU03TixFQUFLLE1BQU0sRUFBR3FVLENBQUssQ0FBQyxFQUd4QyxHQUZHclUsRUFBQUEsRUFBSyxNQUFNcVUsRUFBUSxDQUFDLEVBRXZCeEcsRUFBSyxPQUFTLFdBQ2pCLE9BQU8rRixFQUFRL0YsQ0FBSSxFQUdoQixHQUFBQSxFQUFLLE9BQVMsUUFFWi9CLEVBQUErQixFQUFBLFFBQUEsTUFBQS9CLEVBQU8sUUFBNEIrQixHQUFTLEVBQzVDQSxHQUFBQSxZQUFBQSxFQUFNLFFBQVMsU0FDbEJBLEVBQUssS0FBTzRGLEdBQWlCNUYsRUFBSyxJQUFJLEVBQ3RDQSxFQUFLLEtBQU9tRyxFQUFZbkcsRUFBSyxJQUFJLEVBQ2xDLEdBR0QrRixFQUFRL0YsQ0FBSSxVQUNGQSxFQUFLLE9BQVMsUUFBUyxDQUVqQyxLQUFNLENBQUUsR0FBQXpNLEVBQUksS0FBQXlDLEVBQU0sTUFBQThGLENBQUEsRUFBVWtFLEVBQ3RCeUcsRUFBb0RULEVBQVUsSUFBSXpTLENBQUUsRUFDMUV5UyxFQUFVLE9BQU96UyxDQUFFLEVBRWZ1SSxFQUNNMkssRUFBQSxPQUFPTixFQUFZckssQ0FBSyxDQUFDLEVBRXpCMkssRUFBQSxPQUFPTixFQUFZblEsQ0FBSSxDQUFDLENBRW5DLENBQ0QsQ0FDRCxDQUFBLENBQ0EsQ0FHRixDQU1BLFNBQVM0UCxHQUFpQm5GLEVBQU0sQ0FDeEIsTUFBQSxDQUNOLGFBQWMsSUFBSSxLQUFJQSxHQUFBLFlBQUFBLEVBQU0sZUFBZ0IsQ0FBQSxDQUFFLEVBQzlDLE9BQVEsSUFBSSxLQUFJQSxHQUFBLFlBQUFBLEVBQU0sU0FBVSxDQUFBLENBQUUsRUFDbEMsT0FBUSxDQUFDLEVBQUNBLEdBQUEsTUFBQUEsRUFBTSxRQUNoQixNQUFPLENBQUMsRUFBQ0EsR0FBQSxNQUFBQSxFQUFNLE9BQ2YsSUFBSyxDQUFDLEVBQUNBLEdBQUEsTUFBQUEsRUFBTSxLQUNiLGNBQWUsSUFBSSxLQUFJQSxHQUFBLFlBQUFBLEVBQU0sZ0JBQWlCLENBQUEsQ0FBRSxDQUFBLENBRWxELENBRUEsU0FBU2dFLElBQWMsQ0FDaEIsTUFBQWlDLEVBQVksU0FBUyxjQUFjLGFBQWEsRUFDdEQsR0FBSUEsRUFFSEEsRUFBVSxNQUFNLE1BQ1YsQ0FNTixNQUFNL0ksRUFBTyxTQUFTLEtBQ2hCZ0osRUFBV2hKLEVBQUssYUFBYSxVQUFVLEVBRTdDQSxFQUFLLFNBQVcsR0FFaEJBLEVBQUssTUFBTSxDQUFFLGNBQWUsR0FBTSxhQUFjLEdBQU8sRUFHbkRnSixJQUFhLEtBQ2hCaEosRUFBSyxhQUFhLFdBQVlnSixDQUFRLEVBRXRDaEosRUFBSyxnQkFBZ0IsVUFBVSxFQUtoQyxNQUFNaUosRUFBWSxlQUVkLEdBQUFBLEdBQWFBLEVBQVUsT0FBUyxPQUFRLENBRTNDLE1BQU1DLEVBQVMsQ0FBQSxFQUVmLFFBQVM3VSxFQUFJLEVBQUdBLEVBQUk0VSxFQUFVLFdBQVk1VSxHQUFLLEVBQzlDNlUsRUFBTyxLQUFLRCxFQUFVLFdBQVc1VSxDQUFDLENBQUMsRUFHcEMsV0FBVyxJQUFNLENBQ1osR0FBQTRVLEVBQVUsYUFBZUMsRUFBTyxPQUVwQyxTQUFTN1UsRUFBSSxFQUFHQSxFQUFJNFUsRUFBVSxXQUFZNVUsR0FBSyxFQUFHLENBQzNDLE1BQUFvRyxFQUFJeU8sRUFBTzdVLENBQUMsRUFDWjhVLEVBQUlGLEVBQVUsV0FBVzVVLENBQUMsRUFJaEMsR0FDQ29HLEVBQUUsMEJBQTRCME8sRUFBRSx5QkFDaEMxTyxFQUFFLGlCQUFtQjBPLEVBQUUsZ0JBQ3ZCMU8sRUFBRSxlQUFpQjBPLEVBQUUsY0FDckIxTyxFQUFFLGNBQWdCME8sRUFBRSxhQUNwQjFPLEVBQUUsWUFBYzBPLEVBQUUsVUFFbEIsTUFFRixDQUtBRixFQUFVLGdCQUFnQixFQUFBLENBQzFCLENBQ0YsQ0FDRCxDQUNELENBUUEsU0FBU3BELEdBQWtCcEcsRUFBUytCLEVBQVFoTyxFQUFLeUosRUFBTSxTQUVsRCxJQUFBeUwsRUFHQUMsRUFFSixNQUFNUyxFQUFXLElBQUksUUFBUSxDQUFDQyxFQUFHQyxJQUFNLENBQzdCWixFQUFBVyxFQUNBVixFQUFBVyxDQUFBLENBQ1QsRUFHRCxPQUFBRixFQUFTLE1BQU0sSUFBTSxDQUFBLENBQUUsRUFtQmhCLENBQ04sV0FqQmtCLENBQ2xCLEtBQU0sQ0FDTCxPQUFRM0osRUFBUSxPQUNoQixNQUFPLENBQUUsS0FBSUEsRUFBQUEsRUFBUSxRQUFSQSxZQUFBQSxFQUFlLEtBQU0sSUFBSyxFQUN2QyxJQUFLQSxFQUFRLEdBQ2QsRUFDQSxHQUFJak0sR0FBTyxDQUNWLFFBQVFnTyxHQUFBLFlBQUFBLEVBQVEsU0FBVSxLQUMxQixNQUFPLENBQUUsS0FBSWpCLEVBQUFpQixHQUFBLFlBQUFBLEVBQVEsUUFBUixZQUFBakIsRUFBZSxLQUFNLElBQUssRUFDdkMsSUFBQS9NLENBQ0QsRUFDQSxXQUFZLENBQUNnTyxFQUNiLEtBQUF2RSxFQUNBLFNBQUFtTSxDQUFBLEVBTUEsT0FBQVYsRUFFQSxPQUFBQyxDQUFBLENBRUYiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxN119
