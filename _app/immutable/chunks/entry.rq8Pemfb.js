import{v as it}from"./scheduler.cZO4XJDa.js";import{w as pe}from"./index.3RnFC1FZ.js";new URL("sveltekit-internal://");function ct(e,n){return e==="/"||n==="ignore"?e:n==="never"?e.endsWith("/")?e.slice(0,-1):e:n==="always"&&!e.endsWith("/")?e+"/":e}function lt(e){return e.split("%25").map(decodeURI).join("%25")}function ft(e){for(const n in e)e[n]=decodeURIComponent(e[n]);return e}function ce({href:e}){return e.split("#")[0]}const ut=["href","pathname","search","toString","toJSON"];function dt(e,n,t){const a=new URL(e);Object.defineProperty(a,"searchParams",{value:new Proxy(a.searchParams,{get(r,o){if(o==="get"||o==="getAll"||o==="has")return s=>(t(s),r[o](s));n();const i=Reflect.get(r,o);return typeof i=="function"?i.bind(r):i}}),enumerable:!0,configurable:!0});for(const r of ut)Object.defineProperty(a,r,{get(){return n(),e[r]},enumerable:!0,configurable:!0});return a}const ht="/__data.json",pt=".html__data.json";function gt(e){return e.endsWith(".html")?e.replace(/\.html$/,pt):e.replace(/\/$/,"")+ht}function mt(...e){let n=5381;for(const t of e)if(typeof t=="string"){let a=t.length;for(;a;)n=n*33^t.charCodeAt(--a)}else if(ArrayBuffer.isView(t)){const a=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);let r=a.length;for(;r;)n=n*33^a[--r]}else throw new TypeError("value must be a string or TypedArray");return(n>>>0).toString(36)}function _t(e){const n=atob(e),t=new Uint8Array(n.length);for(let a=0;a<n.length;a++)t[a]=n.charCodeAt(a);return t.buffer}const $e=window.fetch;window.fetch=(e,n)=>((e instanceof Request?e.method:(n==null?void 0:n.method)||"GET")!=="GET"&&q.delete(ge(e)),$e(e,n));const q=new Map;function yt(e,n){const t=ge(e,n),a=document.querySelector(t);if(a!=null&&a.textContent){let{body:r,...o}=JSON.parse(a.textContent);const i=a.getAttribute("data-ttl");return i&&q.set(t,{body:r,init:o,ttl:1e3*Number(i)}),a.getAttribute("data-b64")!==null&&(r=_t(r)),Promise.resolve(new Response(r,o))}return window.fetch(e,n)}function wt(e,n,t){if(q.size>0){const a=ge(e,t),r=q.get(a);if(r){if(performance.now()<r.ttl&&["default","force-cache","only-if-cached",void 0].includes(t==null?void 0:t.cache))return new Response(r.body,r.init);q.delete(a)}}return window.fetch(n,t)}function ge(e,n){let a=`script[data-sveltekit-fetched][data-url=${JSON.stringify(e instanceof Request?e.url:e)}]`;if(n!=null&&n.headers||n!=null&&n.body){const r=[];n.headers&&r.push([...new Headers(n.headers)].join(",")),n.body&&(typeof n.body=="string"||ArrayBuffer.isView(n.body))&&r.push(n.body),a+=`[data-hash="${mt(...r)}"]`}return a}const vt=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function bt(e){const n=[];return{pattern:e==="/"?/^\/$/:new RegExp(`^${kt(e).map(a=>{const r=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(a);if(r)return n.push({name:r[1],matcher:r[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const o=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(a);if(o)return n.push({name:o[1],matcher:o[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!a)return;const i=a.split(/\[(.+?)\](?!\])/);return"/"+i.map((c,f)=>{if(f%2){if(c.startsWith("x+"))return le(String.fromCharCode(parseInt(c.slice(2),16)));if(c.startsWith("u+"))return le(String.fromCharCode(...c.slice(2).split("-").map(l=>parseInt(l,16))));const u=vt.exec(c),[,h,g,d,_]=u;return n.push({name:d,matcher:_,optional:!!h,rest:!!g,chained:g?f===1&&i[0]==="":!1}),g?"(.*?)":h?"([^/]*)?":"([^/]+?)"}return le(c)}).join("")}).join("")}/?$`),params:n}}function Et(e){return!/^\([^)]+\)$/.test(e)}function kt(e){return e.slice(1).split("/").filter(Et)}function St(e,n,t){const a={},r=e.slice(1),o=r.filter(s=>s!==void 0);let i=0;for(let s=0;s<n.length;s+=1){const c=n[s];let f=r[s-i];if(c.chained&&c.rest&&i&&(f=r.slice(s-i,s+1).filter(u=>u).join("/"),i=0),f===void 0){c.rest&&(a[c.name]="");continue}if(!c.matcher||t[c.matcher](f)){a[c.name]=f;const u=n[s+1],h=r[s+1];u&&!u.rest&&u.optional&&h&&c.chained&&(i=0),!u&&!h&&Object.keys(a).length===o.length&&(i=0);continue}if(c.optional&&c.chained){i++;continue}return}if(!i)return a}function le(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function At({nodes:e,server_loads:n,dictionary:t,matchers:a}){const r=new Set(n);return Object.entries(t).map(([s,[c,f,u]])=>{const{pattern:h,params:g}=bt(s),d={id:s,exec:_=>{const l=h.exec(_);if(l)return St(l,g,a)},errors:[1,...u||[]].map(_=>e[_]),layouts:[0,...f||[]].map(i),leaf:o(c)};return d.errors.length=d.layouts.length=Math.max(d.errors.length,d.layouts.length),d});function o(s){const c=s<0;return c&&(s=~s),[c,e[s]]}function i(s){return s===void 0?s:[r.has(s),e[s]]}}function Ce(e,n=JSON.parse){try{return n(sessionStorage[e])}catch{}}function Ie(e,n,t=JSON.stringify){const a=t(n);try{sessionStorage[e]=a}catch{}}var je;const P=((je=globalThis.__sveltekit_1o5nqhc)==null?void 0:je.base)??"/infinite-minesweeper";var De;const Rt=((De=globalThis.__sveltekit_1o5nqhc)==null?void 0:De.assets)??P,It="1714787179436",Ve="sveltekit:snapshot",Fe="sveltekit:scroll",qe="sveltekit:states",Lt="sveltekit:pageurl",D="sveltekit:history",M="sveltekit:navigation",J={tap:1,hover:2,viewport:3,eager:4,off:-1,false:-1},K=location.origin;function Ge(e){if(e instanceof URL)return e;let n=document.baseURI;if(!n){const t=document.getElementsByTagName("base");n=t.length?t[0].href:document.URL}return new URL(e,n)}function me(){return{x:pageXOffset,y:pageYOffset}}function O(e,n){return e.getAttribute(`data-sveltekit-${n}`)}const Le={...J,"":J.hover};function Me(e){let n=e.assignedSlot??e.parentNode;return(n==null?void 0:n.nodeType)===11&&(n=n.host),n}function He(e,n){for(;e&&e!==n;){if(e.nodeName.toUpperCase()==="A"&&e.hasAttribute("href"))return e;e=Me(e)}}function ue(e,n){let t;try{t=new URL(e instanceof SVGAElement?e.href.baseVal:e.href,document.baseURI)}catch{}const a=e instanceof SVGAElement?e.target.baseVal:e.target,r=!t||!!a||ne(t,n)||(e.getAttribute("rel")||"").split(/\s+/).includes("external"),o=(t==null?void 0:t.origin)===K&&e.hasAttribute("download");return{url:t,external:r,target:a,download:o}}function W(e){let n=null,t=null,a=null,r=null,o=null,i=null,s=e;for(;s&&s!==document.documentElement;)a===null&&(a=O(s,"preload-code")),r===null&&(r=O(s,"preload-data")),n===null&&(n=O(s,"keepfocus")),t===null&&(t=O(s,"noscroll")),o===null&&(o=O(s,"reload")),i===null&&(i=O(s,"replacestate")),s=Me(s);function c(f){switch(f){case"":case"true":return!0;case"off":case"false":return!1;default:return}}return{preload_code:Le[a??"off"],preload_data:Le[r??"off"],keepfocus:c(n),noscroll:c(t),reload:c(o),replace_state:c(i)}}function Pe(e){const n=pe(e);let t=!0;function a(){t=!0,n.update(i=>i)}function r(i){t=!1,n.set(i)}function o(i){let s;return n.subscribe(c=>{(s===void 0||t&&c!==s)&&i(s=c)})}return{notify:a,set:r,subscribe:o}}function Pt(){const{set:e,subscribe:n}=pe(!1);let t;async function a(){clearTimeout(t);try{const r=await fetch(`${Rt}/_app/version.json`,{headers:{pragma:"no-cache","cache-control":"no-cache"}});if(!r.ok)return!1;const i=(await r.json()).version!==It;return i&&(e(!0),clearTimeout(t)),i}catch{return!1}}return{subscribe:n,check:a}}function ne(e,n){return e.origin!==K||!e.pathname.startsWith(n)}const Tt=-1,Ut=-2,xt=-3,Nt=-4,Ot=-5,jt=-6;function Dt(e,n){if(typeof e=="number")return r(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const t=e,a=Array(t.length);function r(o,i=!1){if(o===Tt)return;if(o===xt)return NaN;if(o===Nt)return 1/0;if(o===Ot)return-1/0;if(o===jt)return-0;if(i)throw new Error("Invalid input");if(o in a)return a[o];const s=t[o];if(!s||typeof s!="object")a[o]=s;else if(Array.isArray(s))if(typeof s[0]=="string"){const c=s[0],f=n==null?void 0:n[c];if(f)return a[o]=f(r(s[1]));switch(c){case"Date":a[o]=new Date(s[1]);break;case"Set":const u=new Set;a[o]=u;for(let d=1;d<s.length;d+=1)u.add(r(s[d]));break;case"Map":const h=new Map;a[o]=h;for(let d=1;d<s.length;d+=2)h.set(r(s[d]),r(s[d+1]));break;case"RegExp":a[o]=new RegExp(s[1],s[2]);break;case"Object":a[o]=Object(s[1]);break;case"BigInt":a[o]=BigInt(s[1]);break;case"null":const g=Object.create(null);a[o]=g;for(let d=1;d<s.length;d+=2)g[s[d]]=r(s[d+1]);break;default:throw new Error(`Unknown type ${c}`)}}else{const c=new Array(s.length);a[o]=c;for(let f=0;f<s.length;f+=1){const u=s[f];u!==Ut&&(c[f]=r(u))}}else{const c={};a[o]=c;for(const f in s){const u=s[f];c[f]=r(u)}}return a[o]}return r(0)}const Be=new Set(["load","prerender","csr","ssr","trailingSlash","config"]);[...Be];const $t=new Set([...Be]);[...$t];function Ct(e){return e.filter(n=>n!=null)}class ae{constructor(n,t){this.status=n,typeof t=="string"?this.body={message:t}:t?this.body=t:this.body={message:`Error: ${n}`}}toString(){return JSON.stringify(this.body)}}class Ke{constructor(n,t){this.status=n,this.location=t}}class _e extends Error{constructor(n,t,a){super(a),this.status=n,this.text=t}}const Vt="x-sveltekit-invalidated",Ft="x-sveltekit-trailing-slash";function z(e){return e instanceof ae||e instanceof _e?e.status:500}function qt(e){return e instanceof _e?e.text:"Internal Error"}const N=Ce(Fe)??{},H=Ce(Ve)??{},U={url:Pe({}),page:Pe({}),navigating:pe(null),updated:Pt()};function ye(e){N[e]=me()}function Gt(e,n){let t=e+1;for(;N[t];)delete N[t],t+=1;for(t=n+1;H[t];)delete H[t],t+=1}function C(e){return location.href=e.href,new Promise(()=>{})}function Te(){}let re,de,X,T,he,V;const Ye=[],Z=[];let R=null;const Je=[],Mt=[];let j=[],y={branch:[],error:null,url:null},we=!1,Q=!1,Ue=!0,B=!1,F=!1,We=!1,ve=!1,be,S,L,I,ee;const G=new Set;async function tn(e,n,t){var r,o;document.URL!==location.href&&(location.href=location.href),V=e,re=At(e),T=document.documentElement,he=n,de=e.nodes[0],X=e.nodes[1],de(),X(),S=(r=history.state)==null?void 0:r[D],L=(o=history.state)==null?void 0:o[M],S||(S=L=Date.now(),history.replaceState({...history.state,[D]:S,[M]:L},""));const a=N[S];a&&(history.scrollRestoration="manual",scrollTo(a.x,a.y)),t?await Xt(he,t):Wt(location.href,{replaceState:!0}),zt()}function Ht(){Ye.length=0,ve=!1}function ze(e){Z.some(n=>n==null?void 0:n.snapshot)&&(H[e]=Z.map(n=>{var t;return(t=n==null?void 0:n.snapshot)==null?void 0:t.capture()}))}function Xe(e){var n;(n=H[e])==null||n.forEach((t,a)=>{var r,o;(o=(r=Z[a])==null?void 0:r.snapshot)==null||o.restore(t)})}function xe(){ye(S),Ie(Fe,N),ze(L),Ie(Ve,H)}async function Ze(e,n,t,a){return Y({type:"goto",url:Ge(e),keepfocus:n.keepFocus,noscroll:n.noScroll,replace_state:n.replaceState,state:n.state,redirect_count:t,nav_token:a,accept:()=>{n.invalidateAll&&(ve=!0)}})}async function Bt(e){if(e.id!==(R==null?void 0:R.id)){const n={};G.add(n),R={id:e.id,token:n,promise:et({...e,preload:n}).then(t=>(G.delete(n),t.type==="loaded"&&t.state.error&&(R=null),t))}}return R.promise}async function fe(e){const n=re.find(t=>t.exec(tt(e)));n&&await Promise.all([...n.layouts,n.leaf].map(t=>t==null?void 0:t[1]()))}function Qe(e,n,t){var o;y=e.state;const a=document.querySelector("style[data-sveltekit]");a&&a.remove(),I=e.props.page,be=new V.root({target:n,props:{...e.props,stores:U,components:Z},hydrate:t}),Xe(L);const r={from:null,to:{params:y.params,route:{id:((o=y.route)==null?void 0:o.id)??null},url:new URL(location.href)},willUnload:!1,type:"enter",complete:Promise.resolve()};j.forEach(i=>i(r)),Q=!0}async function te({url:e,params:n,branch:t,status:a,error:r,route:o,form:i}){let s="never";if(P&&(e.pathname===P||e.pathname===P+"/"))s="always";else for(const d of t)(d==null?void 0:d.slash)!==void 0&&(s=d.slash);e.pathname=ct(e.pathname,s),e.search=e.search;const c={type:"loaded",state:{url:e,params:n,branch:t,error:r,route:o},props:{constructors:Ct(t).map(d=>d.node.component),page:I}};i!==void 0&&(c.props.form=i);let f={},u=!I,h=0;for(let d=0;d<Math.max(t.length,y.branch.length);d+=1){const _=t[d],l=y.branch[d];(_==null?void 0:_.data)!==(l==null?void 0:l.data)&&(u=!0),_&&(f={...f,..._.data},u&&(c.props[`data_${h}`]=f),h+=1)}return(!y.url||e.href!==y.url.href||y.error!==r||i!==void 0&&i!==I.form||u)&&(c.props.page={error:r,params:n,route:{id:(o==null?void 0:o.id)??null},state:{},status:a,url:new URL(e),form:i??null,data:u?f:I.data}),c}async function Ee({loader:e,parent:n,url:t,params:a,route:r,server_data_node:o}){var u,h,g;let i=null,s=!0;const c={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1,search_params:new Set},f=await e();if((u=f.universal)!=null&&u.load){let d=function(...l){for(const m of l){const{href:b}=new URL(m,t);c.dependencies.add(b)}};const _={route:new Proxy(r,{get:(l,m)=>(s&&(c.route=!0),l[m])}),params:new Proxy(a,{get:(l,m)=>(s&&c.params.add(m),l[m])}),data:(o==null?void 0:o.data)??null,url:dt(t,()=>{s&&(c.url=!0)},l=>{s&&c.search_params.add(l)}),async fetch(l,m){let b;l instanceof Request?(b=l.url,m={body:l.method==="GET"||l.method==="HEAD"?void 0:await l.blob(),cache:l.cache,credentials:l.credentials,headers:l.headers,integrity:l.integrity,keepalive:l.keepalive,method:l.method,mode:l.mode,redirect:l.redirect,referrer:l.referrer,referrerPolicy:l.referrerPolicy,signal:l.signal,...m}):b=l;const A=new URL(b,t);return s&&d(A.href),A.origin===t.origin&&(b=A.href.slice(t.origin.length)),Q?wt(b,A.href,m):yt(b,m)},setHeaders:()=>{},depends:d,parent(){return s&&(c.parent=!0),n()},untrack(l){s=!1;try{return l()}finally{s=!0}}};i=await f.universal.load.call(null,_)??null}return{node:f,loader:e,server:o,universal:(h=f.universal)!=null&&h.load?{type:"data",data:i,uses:c}:null,data:i??(o==null?void 0:o.data)??null,slash:((g=f.universal)==null?void 0:g.trailingSlash)??(o==null?void 0:o.slash)}}function Ne(e,n,t,a,r,o){if(ve)return!0;if(!r)return!1;if(r.parent&&e||r.route&&n||r.url&&t)return!0;for(const i of r.search_params)if(a.has(i))return!0;for(const i of r.params)if(o[i]!==y.params[i])return!0;for(const i of r.dependencies)if(Ye.some(s=>s(new URL(i))))return!0;return!1}function ke(e,n){return(e==null?void 0:e.type)==="data"?e:(e==null?void 0:e.type)==="skip"?n??null:null}function Kt(e,n){if(!e)return new Set(n.searchParams.keys());const t=new Set([...e.searchParams.keys(),...n.searchParams.keys()]);for(const a of t){const r=e.searchParams.getAll(a),o=n.searchParams.getAll(a);r.every(i=>o.includes(i))&&o.every(i=>r.includes(i))&&t.delete(a)}return t}function Oe({error:e,url:n,route:t,params:a}){return{type:"loaded",state:{error:e,url:n,route:t,params:a,branch:[]},props:{page:I,constructors:[]}}}async function et({id:e,invalidating:n,url:t,params:a,route:r,preload:o}){if((R==null?void 0:R.id)===e)return G.delete(R.token),R.promise;const{errors:i,layouts:s,leaf:c}=r,f=[...s,c];i.forEach(p=>p==null?void 0:p().catch(()=>{})),f.forEach(p=>p==null?void 0:p[1]().catch(()=>{}));let u=null;const h=y.url?e!==y.url.pathname+y.url.search:!1,g=y.route?r.id!==y.route.id:!1,d=Kt(y.url,t);let _=!1;const l=f.map((p,v)=>{var x;const E=y.branch[v],k=!!(p!=null&&p[0])&&((E==null?void 0:E.loader)!==p[1]||Ne(_,g,h,d,(x=E.server)==null?void 0:x.uses,a));return k&&(_=!0),k});if(l.some(Boolean)){try{u=await rt(t,l)}catch(p){const v=await $(p,{url:t,params:a,route:{id:e}});return G.has(o)?Oe({error:v,url:t,params:a,route:r}):oe({status:z(p),error:v,url:t,route:r})}if(u.type==="redirect")return u}const m=u==null?void 0:u.nodes;let b=!1;const A=f.map(async(p,v)=>{var se;if(!p)return;const E=y.branch[v],k=m==null?void 0:m[v];if((!k||k.type==="skip")&&p[1]===(E==null?void 0:E.loader)&&!Ne(b,g,h,d,(se=E.universal)==null?void 0:se.uses,a))return E;if(b=!0,(k==null?void 0:k.type)==="error")throw k;return Ee({loader:p[1],url:t,params:a,route:r,parent:async()=>{var Re;const Ae={};for(let ie=0;ie<v;ie+=1)Object.assign(Ae,(Re=await A[ie])==null?void 0:Re.data);return Ae},server_data_node:ke(k===void 0&&p[0]?{type:"skip"}:k??null,p[0]?E==null?void 0:E.server:void 0)})});for(const p of A)p.catch(()=>{});const w=[];for(let p=0;p<f.length;p+=1)if(f[p])try{w.push(await A[p])}catch(v){if(v instanceof Ke)return{type:"redirect",location:v.location};if(G.has(o))return Oe({error:await $(v,{params:a,url:t,route:{id:r.id}}),url:t,params:a,route:r});let E=z(v),k;if(m!=null&&m.includes(v))E=v.status??E,k=v.error;else if(v instanceof ae)k=v.body;else{if(await U.updated.check())return await C(t);k=await $(v,{params:a,url:t,route:{id:r.id}})}const x=await Yt(p,w,i);return x?await te({url:t,params:a,branch:w.slice(0,x.idx).concat(x.node),status:E,error:k,route:r}):await at(t,{id:r.id},k,E)}else w.push(void 0);return await te({url:t,params:a,branch:w,status:200,error:null,route:r,form:n?void 0:null})}async function Yt(e,n,t){for(;e--;)if(t[e]){let a=e;for(;!n[a];)a-=1;try{return{idx:a+1,node:{node:await t[e](),loader:t[e],data:{},server:null,universal:null}}}catch{continue}}}async function oe({status:e,error:n,url:t,route:a}){const r={};let o=null;if(V.server_loads[0]===0)try{const f=await rt(t,[!0]);if(f.type!=="data"||f.nodes[0]&&f.nodes[0].type!=="data")throw 0;o=f.nodes[0]??null}catch{(t.origin!==K||t.pathname!==location.pathname||we)&&await C(t)}const s=await Ee({loader:de,url:t,params:r,route:a,parent:()=>Promise.resolve({}),server_data_node:ke(o)}),c={node:await X(),loader:X,universal:null,server:null,data:null};return await te({url:t,params:r,branch:[s,c],status:e,error:n,route:null})}function Se(e,n){if(!e||ne(e,P))return;let t;try{t=V.hooks.reroute({url:new URL(e)})??e.pathname}catch{return}const a=tt(t);for(const r of re){const o=r.exec(a);if(o)return{id:e.pathname+e.search,invalidating:n,route:r,params:ft(o),url:e}}}function tt(e){return lt(e.slice(P.length)||"/")}function nt({url:e,type:n,intent:t,delta:a}){let r=!1;const o=st(y,t,e,n);a!==void 0&&(o.navigation.delta=a);const i={...o.navigation,cancel:()=>{r=!0,o.reject(new Error("navigation cancelled"))}};return B||Je.forEach(s=>s(i)),r?null:o}async function Y({type:e,url:n,popped:t,keepfocus:a,noscroll:r,replace_state:o,state:i={},redirect_count:s=0,nav_token:c={},accept:f=Te,block:u=Te}){const h=Se(n,!1),g=nt({url:n,type:e,delta:t==null?void 0:t.delta,intent:h});if(!g){u();return}const d=S,_=L;f(),B=!0,Q&&U.navigating.set(g.navigation),ee=c;let l=h&&await et(h);if(!l){if(ne(n,P))return await C(n);l=await at(n,{id:null},await $(new _e(404,"Not Found",`Not found: ${n.pathname}`),{url:n,params:{},route:{id:null}}),404)}if(n=(h==null?void 0:h.url)||n,ee!==c)return g.reject(new Error("navigation aborted")),!1;if(l.type==="redirect")if(s>=20)l=await oe({status:500,error:await $(new Error("Redirect loop"),{url:n,params:{},route:{id:null}}),url:n,route:{id:null}});else return Ze(new URL(l.location,n).href,{},s+1,c),!1;else l.props.page.status>=400&&await U.updated.check()&&await C(n);if(Ht(),ye(d),ze(_),l.props.page.url.pathname!==n.pathname&&(n.pathname=l.props.page.url.pathname),i=t?t.state:i,!t){const w=o?0:1,p={[D]:S+=w,[M]:L+=w,[qe]:i};(o?history.replaceState:history.pushState).call(history,p,"",n),o||Gt(S,L)}if(R=null,l.props.page.state=i,Q){y=l.state,l.props.page&&(l.props.page.url=n);const w=(await Promise.all(Mt.map(p=>p(g.navigation)))).filter(p=>typeof p=="function");if(w.length>0){let p=function(){j=j.filter(v=>!w.includes(v))};w.push(p),j.push(...w)}be.$set(l.props),We=!0}else Qe(l,he,!1);const{activeElement:m}=document;await it();const b=t?t.scroll:r?me():null;if(Ue){const w=n.hash&&document.getElementById(decodeURIComponent(n.hash.slice(1)));b?scrollTo(b.x,b.y):w?w.scrollIntoView():scrollTo(0,0)}const A=document.activeElement!==m&&document.activeElement!==document.body;!a&&!A&&Zt(),Ue=!0,l.props.page&&(I=l.props.page),B=!1,e==="popstate"&&Xe(L),g.fulfil(void 0),j.forEach(w=>w(g.navigation)),U.navigating.set(null)}async function at(e,n,t,a){return e.origin===K&&e.pathname===location.pathname&&!we?await oe({status:a,error:t,url:e,route:n}):await C(e)}function Jt(){let e;T.addEventListener("mousemove",o=>{const i=o.target;clearTimeout(e),e=setTimeout(()=>{a(i,2)},20)});function n(o){a(o.composedPath()[0],1)}T.addEventListener("mousedown",n),T.addEventListener("touchstart",n,{passive:!0});const t=new IntersectionObserver(o=>{for(const i of o)i.isIntersecting&&(fe(i.target.href),t.unobserve(i.target))},{threshold:0});function a(o,i){const s=He(o,T);if(!s)return;const{url:c,external:f,download:u}=ue(s,P);if(f||u)return;const h=W(s);if(!h.reload)if(i<=h.preload_data){const g=Se(c,!1);g&&Bt(g)}else i<=h.preload_code&&fe(c.pathname)}function r(){t.disconnect();for(const o of T.querySelectorAll("a")){const{url:i,external:s,download:c}=ue(o,P);if(s||c)continue;const f=W(o);f.reload||(f.preload_code===J.viewport&&t.observe(o),f.preload_code===J.eager&&fe(i.pathname))}}j.push(r),r()}function $(e,n){if(e instanceof ae)return e.body;const t=z(e),a=qt(e);return V.hooks.handleError({error:e,event:n,status:t,message:a})??{message:a}}function Wt(e,n={}){return e=Ge(e),e.origin!==K?Promise.reject(new Error("goto: invalid URL")):Ze(e,n,0)}function zt(){var n;history.scrollRestoration="manual",addEventListener("beforeunload",t=>{let a=!1;if(xe(),!B){const r=st(y,void 0,null,"leave"),o={...r.navigation,cancel:()=>{a=!0,r.reject(new Error("navigation cancelled"))}};Je.forEach(i=>i(o))}a?(t.preventDefault(),t.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&xe()}),(n=navigator.connection)!=null&&n.saveData||Jt(),T.addEventListener("click",t=>{var g;if(t.button||t.which!==1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.defaultPrevented)return;const a=He(t.composedPath()[0],T);if(!a)return;const{url:r,external:o,target:i,download:s}=ue(a,P);if(!r)return;if(i==="_parent"||i==="_top"){if(window.parent!==window)return}else if(i&&i!=="_self")return;const c=W(a);if(!(a instanceof SVGAElement)&&r.protocol!==location.protocol&&!(r.protocol==="https:"||r.protocol==="http:")||s)return;if(o||c.reload){nt({url:r,type:"link"})?B=!0:t.preventDefault();return}const[u,h]=r.href.split("#");if(h!==void 0&&u===ce(location)){const[,d]=y.url.href.split("#");if(d===h){t.preventDefault(),h===""||h==="top"&&a.ownerDocument.getElementById("top")===null?window.scrollTo({top:0}):(g=a.ownerDocument.getElementById(h))==null||g.scrollIntoView();return}if(F=!0,ye(S),e(r),!c.replace_state)return;F=!1}t.preventDefault(),Y({type:"link",url:r,keepfocus:c.keepfocus,noscroll:c.noscroll,replace_state:c.replace_state??r.href===location.href})}),T.addEventListener("submit",t=>{if(t.defaultPrevented)return;const a=HTMLFormElement.prototype.cloneNode.call(t.target),r=t.submitter;if(((r==null?void 0:r.formMethod)||a.method)!=="get")return;const i=new URL((r==null?void 0:r.hasAttribute("formaction"))&&(r==null?void 0:r.formAction)||a.action);if(ne(i,P))return;const s=t.target,c=W(s);if(c.reload)return;t.preventDefault(),t.stopPropagation();const f=new FormData(s),u=r==null?void 0:r.getAttribute("name");u&&f.append(u,(r==null?void 0:r.getAttribute("value"))??""),i.search=new URLSearchParams(f).toString(),Y({type:"form",url:i,keepfocus:c.keepfocus,noscroll:c.noscroll,replace_state:c.replace_state??i.href===location.href})}),addEventListener("popstate",async t=>{var a;if((a=t.state)!=null&&a[D]){const r=t.state[D];if(ee={},r===S)return;const o=N[r],i=t.state[qe]??{},s=new URL(t.state[Lt]??location.href),c=t.state[M],f=ce(location)===ce(y.url);if(c===L&&(We||f)){e(s),N[S]=me(),o&&scrollTo(o.x,o.y),i!==I.state&&(I={...I,state:i},be.$set({page:I})),S=r;return}const h=r-S;await Y({type:"popstate",url:s,popped:{state:i,scroll:o,delta:h},accept:()=>{S=r,L=c},block:()=>{history.go(-h)},nav_token:ee})}else if(!F){const r=new URL(location.href);e(r)}}),addEventListener("hashchange",()=>{F&&(F=!1,history.replaceState({...history.state,[D]:++S,[M]:L},"",location.href))});for(const t of document.querySelectorAll("link"))t.rel==="icon"&&(t.href=t.href);addEventListener("pageshow",t=>{t.persisted&&U.navigating.set(null)});function e(t){y.url=t,U.page.set({...I,url:t}),U.page.notify()}}async function Xt(e,{status:n=200,error:t,node_ids:a,params:r,route:o,data:i,form:s}){we=!0;const c=new URL(location.href);({params:r={},route:o={id:null}}=Se(c,!1)||{});let f;try{const u=a.map(async(d,_)=>{const l=i[_];return l!=null&&l.uses&&(l.uses=ot(l.uses)),Ee({loader:V.nodes[d],url:c,params:r,route:o,parent:async()=>{const m={};for(let b=0;b<_;b+=1)Object.assign(m,(await u[b]).data);return m},server_data_node:ke(l)})}),h=await Promise.all(u),g=re.find(({id:d})=>d===o.id);if(g){const d=g.layouts;for(let _=0;_<d.length;_++)d[_]||h.splice(_,0,void 0)}f=await te({url:c,params:r,branch:h,status:n,error:t,form:s,route:g??null})}catch(u){if(u instanceof Ke){await C(new URL(u.location,location.href));return}f=await oe({status:z(u),error:await $(u,{url:c,params:r,route:o}),url:c,route:o})}f.props.page&&(f.props.page.state={}),Qe(f,e,!0)}async function rt(e,n){var r;const t=new URL(e);t.pathname=gt(e.pathname),e.pathname.endsWith("/")&&t.searchParams.append(Ft,"1"),t.searchParams.append(Vt,n.map(o=>o?"1":"0").join(""));const a=await $e(t.href);if(!a.ok){let o;throw(r=a.headers.get("content-type"))!=null&&r.includes("application/json")?o=await a.json():a.status===404?o="Not Found":a.status===500&&(o="Internal Error"),new ae(a.status,o)}return new Promise(async o=>{var h;const i=new Map,s=a.body.getReader(),c=new TextDecoder;function f(g){return Dt(g,{Promise:d=>new Promise((_,l)=>{i.set(d,{fulfil:_,reject:l})})})}let u="";for(;;){const{done:g,value:d}=await s.read();if(g&&!u)break;for(u+=!d&&u?`
`:c.decode(d,{stream:!0});;){const _=u.indexOf(`
`);if(_===-1)break;const l=JSON.parse(u.slice(0,_));if(u=u.slice(_+1),l.type==="redirect")return o(l);if(l.type==="data")(h=l.nodes)==null||h.forEach(m=>{(m==null?void 0:m.type)==="data"&&(m.uses=ot(m.uses),m.data=f(m.data))}),o(l);else if(l.type==="chunk"){const{id:m,data:b,error:A}=l,w=i.get(m);i.delete(m),A?w.reject(f(A)):w.fulfil(f(b))}}}})}function ot(e){return{dependencies:new Set((e==null?void 0:e.dependencies)??[]),params:new Set((e==null?void 0:e.params)??[]),parent:!!(e!=null&&e.parent),route:!!(e!=null&&e.route),url:!!(e!=null&&e.url),search_params:new Set((e==null?void 0:e.search_params)??[])}}function Zt(){const e=document.querySelector("[autofocus]");if(e)e.focus();else{const n=document.body,t=n.getAttribute("tabindex");n.tabIndex=-1,n.focus({preventScroll:!0,focusVisible:!1}),t!==null?n.setAttribute("tabindex",t):n.removeAttribute("tabindex");const a=getSelection();if(a&&a.type!=="None"){const r=[];for(let o=0;o<a.rangeCount;o+=1)r.push(a.getRangeAt(o));setTimeout(()=>{if(a.rangeCount===r.length){for(let o=0;o<a.rangeCount;o+=1){const i=r[o],s=a.getRangeAt(o);if(i.commonAncestorContainer!==s.commonAncestorContainer||i.startContainer!==s.startContainer||i.endContainer!==s.endContainer||i.startOffset!==s.startOffset||i.endOffset!==s.endOffset)return}a.removeAllRanges()}})}}}function st(e,n,t,a){var c,f;let r,o;const i=new Promise((u,h)=>{r=u,o=h});return i.catch(()=>{}),{navigation:{from:{params:e.params,route:{id:((c=e.route)==null?void 0:c.id)??null},url:e.url},to:t&&{params:(n==null?void 0:n.params)??null,route:{id:((f=n==null?void 0:n.route)==null?void 0:f.id)??null},url:t},willUnload:!n,type:a,complete:i},fulfil:r,reject:o}}export{tn as a,U as s};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW50cnkucnE4UGVtZmIuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3ZlbHRlanMva2l0L3NyYy91dGlscy91cmwuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHN2ZWx0ZWpzL2tpdC9zcmMvcnVudGltZS9oYXNoLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9raXQvc3JjL3J1bnRpbWUvdXRpbHMuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHN2ZWx0ZWpzL2tpdC9zcmMvcnVudGltZS9jbGllbnQvZmV0Y2hlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3ZlbHRlanMva2l0L3NyYy91dGlscy9yb3V0aW5nLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9raXQvc3JjL3J1bnRpbWUvY2xpZW50L3BhcnNlLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9raXQvc3JjL3J1bnRpbWUvY2xpZW50L3Nlc3Npb24tc3RvcmFnZS5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3ZlbHRlanMva2l0L3NyYy9ydW50aW1lL2NsaWVudC9jb25zdGFudHMuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHN2ZWx0ZWpzL2tpdC9zcmMvcnVudGltZS9jbGllbnQvdXRpbHMuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZGV2YWx1ZS9zcmMvY29uc3RhbnRzLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RldmFsdWUvc3JjL3BhcnNlLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9raXQvc3JjL3V0aWxzL2V4cG9ydHMuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHN2ZWx0ZWpzL2tpdC9zcmMvdXRpbHMvYXJyYXkuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHN2ZWx0ZWpzL2tpdC9zcmMvcnVudGltZS9jb250cm9sLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9raXQvc3JjL3J1bnRpbWUvc2hhcmVkLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9raXQvc3JjL3V0aWxzL2Vycm9yLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9raXQvc3JjL3J1bnRpbWUvY2xpZW50L2NsaWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCUk9XU0VSLCBERVYgfSBmcm9tICdlc20tZW52JztcblxuLyoqXG4gKiBNYXRjaGVzIGEgVVJJIHNjaGVtZS4gU2VlIGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmMzOTg2I3NlY3Rpb24tMy4xXG4gKiBAdHlwZSB7UmVnRXhwfVxuICovXG5leHBvcnQgY29uc3QgU0NIRU1FID0gL15bYS16XVthLXpcXGQrXFwtLl0rOi9pO1xuXG5jb25zdCBpbnRlcm5hbCA9IG5ldyBVUkwoJ3N2ZWx0ZWtpdC1pbnRlcm5hbDovLycpO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZShiYXNlLCBwYXRoKSB7XG5cdC8vIHNwZWNpYWwgY2FzZVxuXHRpZiAocGF0aFswXSA9PT0gJy8nICYmIHBhdGhbMV0gPT09ICcvJykgcmV0dXJuIHBhdGg7XG5cblx0bGV0IHVybCA9IG5ldyBVUkwoYmFzZSwgaW50ZXJuYWwpO1xuXHR1cmwgPSBuZXcgVVJMKHBhdGgsIHVybCk7XG5cblx0cmV0dXJuIHVybC5wcm90b2NvbCA9PT0gaW50ZXJuYWwucHJvdG9jb2wgPyB1cmwucGF0aG5hbWUgKyB1cmwuc2VhcmNoICsgdXJsLmhhc2ggOiB1cmwuaHJlZjtcbn1cblxuLyoqIEBwYXJhbSB7c3RyaW5nfSBwYXRoICovXG5leHBvcnQgZnVuY3Rpb24gaXNfcm9vdF9yZWxhdGl2ZShwYXRoKSB7XG5cdHJldHVybiBwYXRoWzBdID09PSAnLycgJiYgcGF0aFsxXSAhPT0gJy8nO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gKiBAcGFyYW0ge2ltcG9ydCgndHlwZXMnKS5UcmFpbGluZ1NsYXNofSB0cmFpbGluZ19zbGFzaFxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplX3BhdGgocGF0aCwgdHJhaWxpbmdfc2xhc2gpIHtcblx0aWYgKHBhdGggPT09ICcvJyB8fCB0cmFpbGluZ19zbGFzaCA9PT0gJ2lnbm9yZScpIHJldHVybiBwYXRoO1xuXG5cdGlmICh0cmFpbGluZ19zbGFzaCA9PT0gJ25ldmVyJykge1xuXHRcdHJldHVybiBwYXRoLmVuZHNXaXRoKCcvJykgPyBwYXRoLnNsaWNlKDAsIC0xKSA6IHBhdGg7XG5cdH0gZWxzZSBpZiAodHJhaWxpbmdfc2xhc2ggPT09ICdhbHdheXMnICYmICFwYXRoLmVuZHNXaXRoKCcvJykpIHtcblx0XHRyZXR1cm4gcGF0aCArICcvJztcblx0fVxuXG5cdHJldHVybiBwYXRoO1xufVxuXG4vKipcbiAqIERlY29kZSBwYXRobmFtZSBleGNsdWRpbmcgJTI1IHRvIHByZXZlbnQgZnVydGhlciBkb3VibGUgZGVjb2Rpbmcgb2YgcGFyYW1zXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aG5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZV9wYXRobmFtZShwYXRobmFtZSkge1xuXHRyZXR1cm4gcGF0aG5hbWUuc3BsaXQoJyUyNScpLm1hcChkZWNvZGVVUkkpLmpvaW4oJyUyNScpO1xufVxuXG4vKiogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+fSBwYXJhbXMgKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVfcGFyYW1zKHBhcmFtcykge1xuXHRmb3IgKGNvbnN0IGtleSBpbiBwYXJhbXMpIHtcblx0XHQvLyBpbnB1dCBoYXMgYWxyZWFkeSBiZWVuIGRlY29kZWQgYnkgZGVjb2RlVVJJXG5cdFx0Ly8gbm93IGhhbmRsZSB0aGUgcmVzdFxuXHRcdHBhcmFtc1trZXldID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhcmFtc1trZXldKTtcblx0fVxuXG5cdHJldHVybiBwYXJhbXM7XG59XG5cbi8qKlxuICogVGhlIGVycm9yIHdoZW4gYSBVUkwgaXMgbWFsZm9ybWVkIGlzIG5vdCB2ZXJ5IGhlbHBmdWwsIHNvIHdlIGF1Z21lbnQgaXQgd2l0aCB0aGUgVVJJXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVfdXJpKHVyaSkge1xuXHR0cnkge1xuXHRcdHJldHVybiBkZWNvZGVVUkkodXJpKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmIChlIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRcdGUubWVzc2FnZSA9IGBGYWlsZWQgdG8gZGVjb2RlIFVSSTogJHt1cml9XFxuYCArIGUubWVzc2FnZTtcblx0XHR9XG5cdFx0dGhyb3cgZTtcblx0fVxufVxuXG4vKipcbiAqIFJldHVybnMgZXZlcnl0aGluZyB1cCB0byB0aGUgZmlyc3QgYCNgIGluIGEgVVJMXG4gKiBAcGFyYW0ge3tocmVmOiBzdHJpbmd9fSB1cmxfbGlrZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaXBfaGFzaCh7IGhyZWYgfSkge1xuXHRyZXR1cm4gaHJlZi5zcGxpdCgnIycpWzBdO1xufVxuXG4vKipcbiAqIFVSTCBwcm9wZXJ0aWVzIHRoYXQgY291bGQgY2hhbmdlIGR1cmluZyB0aGUgbGlmZXRpbWUgb2YgdGhlIHBhZ2UsXG4gKiB3aGljaCBleGNsdWRlcyB0aGluZ3MgbGlrZSBgb3JpZ2luYFxuICovXG5jb25zdCB0cmFja2VkX3VybF9wcm9wZXJ0aWVzID0gLyoqIEB0eXBlIHtjb25zdH0gKi8gKFtcblx0J2hyZWYnLFxuXHQncGF0aG5hbWUnLFxuXHQnc2VhcmNoJyxcblx0J3RvU3RyaW5nJyxcblx0J3RvSlNPTidcbl0pO1xuXG4vKipcbiAqIEBwYXJhbSB7VVJMfSB1cmxcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7KHNlYXJjaF9wYXJhbTogc3RyaW5nKSA9PiB2b2lkfSBzZWFyY2hfcGFyYW1zX2NhbGxiYWNrXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlX3RyYWNrYWJsZSh1cmwsIGNhbGxiYWNrLCBzZWFyY2hfcGFyYW1zX2NhbGxiYWNrKSB7XG5cdGNvbnN0IHRyYWNrZWQgPSBuZXcgVVJMKHVybCk7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRyYWNrZWQsICdzZWFyY2hQYXJhbXMnLCB7XG5cdFx0dmFsdWU6IG5ldyBQcm94eSh0cmFja2VkLnNlYXJjaFBhcmFtcywge1xuXHRcdFx0Z2V0KG9iaiwga2V5KSB7XG5cdFx0XHRcdGlmIChrZXkgPT09ICdnZXQnIHx8IGtleSA9PT0gJ2dldEFsbCcgfHwga2V5ID09PSAnaGFzJykge1xuXHRcdFx0XHRcdHJldHVybiAoLyoqQHR5cGUge3N0cmluZ30qLyBwYXJhbSkgPT4ge1xuXHRcdFx0XHRcdFx0c2VhcmNoX3BhcmFtc19jYWxsYmFjayhwYXJhbSk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gb2JqW2tleV0ocGFyYW0pO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpZiB0aGV5IHRyeSB0byBhY2Nlc3Mgc29tZXRoaW5nIGRpZmZlcmVudCBmcm9tIHdoYXQgaXMgaW4gYHRyYWNrZWRfc2VhcmNoX3BhcmFtc19wcm9wZXJ0aWVzYFxuXHRcdFx0XHQvLyB3ZSB0cmFjayB0aGUgd2hvbGUgdXJsIChlbnRyaWVzLCB2YWx1ZXMsIGtleXMgZXRjKVxuXHRcdFx0XHRjYWxsYmFjaygpO1xuXG5cdFx0XHRcdGNvbnN0IHZhbHVlID0gUmVmbGVjdC5nZXQob2JqLCBrZXkpO1xuXHRcdFx0XHRyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gdmFsdWUuYmluZChvYmopIDogdmFsdWU7XG5cdFx0XHR9XG5cdFx0fSksXG5cdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRjb25maWd1cmFibGU6IHRydWVcblx0fSk7XG5cblx0Zm9yIChjb25zdCBwcm9wZXJ0eSBvZiB0cmFja2VkX3VybF9wcm9wZXJ0aWVzKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRyYWNrZWQsIHByb3BlcnR5LCB7XG5cdFx0XHRnZXQoKSB7XG5cdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdHJldHVybiB1cmxbcHJvcGVydHldO1xuXHRcdFx0fSxcblxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdH0pO1xuXHR9XG5cblx0aWYgKCFCUk9XU0VSKSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHRyYWNrZWRbU3ltYm9sLmZvcignbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKV0gPSAoZGVwdGgsIG9wdHMsIGluc3BlY3QpID0+IHtcblx0XHRcdHJldHVybiBpbnNwZWN0KHVybCwgb3B0cyk7XG5cdFx0fTtcblx0fVxuXG5cdGlmIChERVYgfHwgIUJST1dTRVIpIHtcblx0XHRkaXNhYmxlX2hhc2godHJhY2tlZCk7XG5cdH1cblxuXHRyZXR1cm4gdHJhY2tlZDtcbn1cblxuLyoqXG4gKiBEaXNhbGxvdyBhY2Nlc3MgdG8gYHVybC5oYXNoYCBvbiB0aGUgc2VydmVyIGFuZCBpbiBgbG9hZGBcbiAqIEBwYXJhbSB7VVJMfSB1cmxcbiAqL1xuZnVuY3Rpb24gZGlzYWJsZV9oYXNoKHVybCkge1xuXHRhbGxvd19ub2RlanNfY29uc29sZV9sb2codXJsKTtcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkodXJsLCAnaGFzaCcsIHtcblx0XHRnZXQoKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdCdDYW5ub3QgYWNjZXNzIGV2ZW50LnVybC5oYXNoLiBDb25zaWRlciB1c2luZyBgJHBhZ2UudXJsLmhhc2hgIGluc2lkZSBhIGNvbXBvbmVudCBpbnN0ZWFkJ1xuXHRcdFx0KTtcblx0XHR9XG5cdH0pO1xufVxuXG4vKipcbiAqIERpc2FsbG93IGFjY2VzcyB0byBgdXJsLnNlYXJjaGAgYW5kIGB1cmwuc2VhcmNoUGFyYW1zYCBkdXJpbmcgcHJlcmVuZGVyaW5nXG4gKiBAcGFyYW0ge1VSTH0gdXJsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXNhYmxlX3NlYXJjaCh1cmwpIHtcblx0YWxsb3dfbm9kZWpzX2NvbnNvbGVfbG9nKHVybCk7XG5cblx0Zm9yIChjb25zdCBwcm9wZXJ0eSBvZiBbJ3NlYXJjaCcsICdzZWFyY2hQYXJhbXMnXSkge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1cmwsIHByb3BlcnR5LCB7XG5cdFx0XHRnZXQoKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGFjY2VzcyB1cmwuJHtwcm9wZXJ0eX0gb24gYSBwYWdlIHdpdGggcHJlcmVuZGVyaW5nIGVuYWJsZWRgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxufVxuXG4vKipcbiAqIEFsbG93IFVSTCB0byBiZSBjb25zb2xlIGxvZ2dlZCwgYnlwYXNzaW5nIGRpc2FibGVkIHByb3BlcnRpZXMuXG4gKiBAcGFyYW0ge1VSTH0gdXJsXG4gKi9cbmZ1bmN0aW9uIGFsbG93X25vZGVqc19jb25zb2xlX2xvZyh1cmwpIHtcblx0aWYgKCFCUk9XU0VSKSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHVybFtTeW1ib2wuZm9yKCdub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbScpXSA9IChkZXB0aCwgb3B0cywgaW5zcGVjdCkgPT4ge1xuXHRcdFx0cmV0dXJuIGluc3BlY3QobmV3IFVSTCh1cmwpLCBvcHRzKTtcblx0XHR9O1xuXHR9XG59XG5cbmNvbnN0IERBVEFfU1VGRklYID0gJy9fX2RhdGEuanNvbic7XG5jb25zdCBIVE1MX0RBVEFfU1VGRklYID0gJy5odG1sX19kYXRhLmpzb24nO1xuXG4vKiogQHBhcmFtIHtzdHJpbmd9IHBhdGhuYW1lICovXG5leHBvcnQgZnVuY3Rpb24gaGFzX2RhdGFfc3VmZml4KHBhdGhuYW1lKSB7XG5cdHJldHVybiBwYXRobmFtZS5lbmRzV2l0aChEQVRBX1NVRkZJWCkgfHwgcGF0aG5hbWUuZW5kc1dpdGgoSFRNTF9EQVRBX1NVRkZJWCk7XG59XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gcGF0aG5hbWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfZGF0YV9zdWZmaXgocGF0aG5hbWUpIHtcblx0aWYgKHBhdGhuYW1lLmVuZHNXaXRoKCcuaHRtbCcpKSByZXR1cm4gcGF0aG5hbWUucmVwbGFjZSgvXFwuaHRtbCQvLCBIVE1MX0RBVEFfU1VGRklYKTtcblx0cmV0dXJuIHBhdGhuYW1lLnJlcGxhY2UoL1xcLyQvLCAnJykgKyBEQVRBX1NVRkZJWDtcbn1cblxuLyoqIEBwYXJhbSB7c3RyaW5nfSBwYXRobmFtZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwX2RhdGFfc3VmZml4KHBhdGhuYW1lKSB7XG5cdGlmIChwYXRobmFtZS5lbmRzV2l0aChIVE1MX0RBVEFfU1VGRklYKSkge1xuXHRcdHJldHVybiBwYXRobmFtZS5zbGljZSgwLCAtSFRNTF9EQVRBX1NVRkZJWC5sZW5ndGgpICsgJy5odG1sJztcblx0fVxuXG5cdHJldHVybiBwYXRobmFtZS5zbGljZSgwLCAtREFUQV9TVUZGSVgubGVuZ3RoKTtcbn1cbiIsIi8qKlxuICogSGFzaCB1c2luZyBkamIyXG4gKiBAcGFyYW0ge2ltcG9ydCgndHlwZXMnKS5TdHJpY3RCb2R5W119IHZhbHVlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzaCguLi52YWx1ZXMpIHtcblx0bGV0IGhhc2ggPSA1MzgxO1xuXG5cdGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7XG5cdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdGxldCBpID0gdmFsdWUubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKGkpIGhhc2ggPSAoaGFzaCAqIDMzKSBeIHZhbHVlLmNoYXJDb2RlQXQoLS1pKTtcblx0XHR9IGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyh2YWx1ZSkpIHtcblx0XHRcdGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHZhbHVlLmJ1ZmZlciwgdmFsdWUuYnl0ZU9mZnNldCwgdmFsdWUuYnl0ZUxlbmd0aCk7XG5cdFx0XHRsZXQgaSA9IGJ1ZmZlci5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoaSkgaGFzaCA9IChoYXNoICogMzMpIF4gYnVmZmVyWy0taV07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbHVlIG11c3QgYmUgYSBzdHJpbmcgb3IgVHlwZWRBcnJheScpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiAoaGFzaCA+Pj4gMCkudG9TdHJpbmcoMzYpO1xufVxuIiwiLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICogQHJldHVybnMge0FycmF5QnVmZmVyTGlrZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGI2NF9kZWNvZGUodGV4dCkge1xuXHRjb25zdCBkID0gYXRvYih0ZXh0KTtcblxuXHRjb25zdCB1OCA9IG5ldyBVaW50OEFycmF5KGQubGVuZ3RoKTtcblxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGQubGVuZ3RoOyBpKyspIHtcblx0XHR1OFtpXSA9IGQuY2hhckNvZGVBdChpKTtcblx0fVxuXG5cdHJldHVybiB1OC5idWZmZXI7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYnVmZmVyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYjY0X2VuY29kZShidWZmZXIpIHtcblx0aWYgKGdsb2JhbFRoaXMuQnVmZmVyKSB7XG5cdFx0cmV0dXJuIEJ1ZmZlci5mcm9tKGJ1ZmZlcikudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuXHR9XG5cblx0Y29uc3QgbGl0dGxlX2VuZGlhbiA9IG5ldyBVaW50OEFycmF5KG5ldyBVaW50MTZBcnJheShbMV0pLmJ1ZmZlcilbMF0gPiAwO1xuXG5cdC8vIFRoZSBVaW50MTZBcnJheShVaW50OEFycmF5KC4uLikpIGVuc3VyZXMgdGhlIGNvZGUgcG9pbnRzIGFyZSBwYWRkZWQgd2l0aCAwJ3Ncblx0cmV0dXJuIGJ0b2EoXG5cdFx0bmV3IFRleHREZWNvZGVyKGxpdHRsZV9lbmRpYW4gPyAndXRmLTE2bGUnIDogJ3V0Zi0xNmJlJykuZGVjb2RlKFxuXHRcdFx0bmV3IFVpbnQxNkFycmF5KG5ldyBVaW50OEFycmF5KGJ1ZmZlcikpXG5cdFx0KVxuXHQpO1xufVxuIiwiaW1wb3J0IHsgQlJPV1NFUiwgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQgeyBoYXNoIH0gZnJvbSAnLi4vaGFzaC5qcyc7XG5pbXBvcnQgeyBiNjRfZGVjb2RlIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuXG5sZXQgbG9hZGluZyA9IDA7XG5cbi8qKiBAdHlwZSB7dHlwZW9mIGZldGNofSAqL1xuZXhwb3J0IGNvbnN0IG5hdGl2ZV9mZXRjaCA9IEJST1dTRVIgPyB3aW5kb3cuZmV0Y2ggOiAvKiogQHR5cGUge2FueX0gKi8gKCgpID0+IHt9KTtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvY2tfZmV0Y2goKSB7XG5cdGxvYWRpbmcgKz0gMTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVubG9ja19mZXRjaCgpIHtcblx0bG9hZGluZyAtPSAxO1xufVxuXG5pZiAoREVWICYmIEJST1dTRVIpIHtcblx0bGV0IGNhbl9pbnNwZWN0X3N0YWNrX3RyYWNlID0gZmFsc2U7XG5cblx0Ly8gZGV0ZWN0IHdoZXRoZXIgYXN5bmMgc3RhY2sgdHJhY2VzIHdvcmtcblx0Y29uc3QgY2hlY2tfc3RhY2tfdHJhY2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3Qgc3RhY2sgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKG5ldyBFcnJvcigpLnN0YWNrKTtcblx0XHRjYW5faW5zcGVjdF9zdGFja190cmFjZSA9IHN0YWNrLmluY2x1ZGVzKCdjaGVja19zdGFja190cmFjZScpO1xuXHR9O1xuXG5cdGNoZWNrX3N0YWNrX3RyYWNlKCk7XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7UmVxdWVzdEluZm8gfCBVUkx9IGlucHV0XG5cdCAqIEBwYXJhbSB7UmVxdWVzdEluaXQgJiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgdW5kZWZpbmVkfSBpbml0XG5cdCAqL1xuXHR3aW5kb3cuZmV0Y2ggPSAoaW5wdXQsIGluaXQpID0+IHtcblx0XHQvLyBDaGVjayBpZiBmZXRjaCB3YXMgY2FsbGVkIHZpYSBsb2FkX25vZGUuIHRoZSBsb2NrIG1ldGhvZCBvbmx5IGNoZWNrcyBpZiBpdCB3YXMgY2FsbGVkIGF0IHRoZVxuXHRcdC8vIHNhbWUgdGltZSwgYnV0IG5vdCBuZWNlc3NhcmlseSBpZiBpdCB3YXMgY2FsbGVkIGZyb20gYGxvYWRgLlxuXHRcdC8vIFdlIHVzZSBqdXN0IHRoZSBmaWxlbmFtZSBhcyB0aGUgbWV0aG9kIG5hbWUgc29tZXRpbWVzIGRvZXMgbm90IGFwcGVhciBvbiB0aGUgQ0kuXG5cdFx0Y29uc3QgdXJsID0gaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0ID8gaW5wdXQudXJsIDogaW5wdXQudG9TdHJpbmcoKTtcblx0XHRjb25zdCBzdGFja19hcnJheSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAobmV3IEVycm9yKCkuc3RhY2spLnNwbGl0KCdcXG4nKTtcblx0XHQvLyBXZSBuZWVkIHRvIGRvIGEgY3V0b2ZmIGJlY2F1c2UgU2FmYXJpIGFuZCBGaXJlZm94IG1haW50YWluIHRoZSBzdGFja1xuXHRcdC8vIGFjcm9zcyBldmVudHMgYW5kIGZvciBleGFtcGxlIHRyYWNlcyBhIGBmZXRjaGAgY2FsbCB0cmlnZ2VyZWQgZnJvbSBhIGJ1dHRvblxuXHRcdC8vIGJhY2sgdG8gdGhlIGNyZWF0aW9uIG9mIHRoZSBldmVudCBsaXN0ZW5lciBhbmQgdGhlIGVsZW1lbnQgY3JlYXRpb24gaXRzZWxmLFxuXHRcdC8vIHdoZXJlIGF0IHNvbWUgcG9pbnQgY2xpZW50LmpzIHdpbGwgc2hvdyB1cCwgbGVhZGluZyB0byBmYWxzZSBwb3NpdGl2ZXMuXG5cdFx0Y29uc3QgY3V0b2ZmID0gc3RhY2tfYXJyYXkuZmluZEluZGV4KChhKSA9PiBhLmluY2x1ZGVzKCdsb2FkQCcpIHx8IGEuaW5jbHVkZXMoJ2F0IGxvYWQnKSk7XG5cdFx0Y29uc3Qgc3RhY2sgPSBzdGFja19hcnJheS5zbGljZSgwLCBjdXRvZmYgKyAyKS5qb2luKCdcXG4nKTtcblxuXHRcdGNvbnN0IGluX2xvYWRfaGV1cmlzdGljID0gY2FuX2luc3BlY3Rfc3RhY2tfdHJhY2Vcblx0XHRcdD8gc3RhY2suaW5jbHVkZXMoJ3NyYy9ydW50aW1lL2NsaWVudC9jbGllbnQuanMnKVxuXHRcdFx0OiBsb2FkaW5nO1xuXG5cdFx0Ly8gVGhpcyBmbGFnIGlzIHNldCBpbiBpbml0aWFsX2ZldGNoIGFuZCBzdWJzZXF1ZW50X2ZldGNoXG5cdFx0Y29uc3QgdXNlZF9raXRfZmV0Y2ggPSBpbml0Py5fX3N2ZWx0ZWtpdF9mZXRjaF9fO1xuXG5cdFx0aWYgKGluX2xvYWRfaGV1cmlzdGljICYmICF1c2VkX2tpdF9mZXRjaCkge1xuXHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHRgTG9hZGluZyAke3VybH0gdXNpbmcgXFxgd2luZG93LmZldGNoXFxgLiBGb3IgYmVzdCByZXN1bHRzLCB1c2UgdGhlIFxcYGZldGNoXFxgIHRoYXQgaXMgcGFzc2VkIHRvIHlvdXIgXFxgbG9hZFxcYCBmdW5jdGlvbjogaHR0cHM6Ly9raXQuc3ZlbHRlLmRldi9kb2NzL2xvYWQjbWFraW5nLWZldGNoLXJlcXVlc3RzYFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCBtZXRob2QgPSBpbnB1dCBpbnN0YW5jZW9mIFJlcXVlc3QgPyBpbnB1dC5tZXRob2QgOiBpbml0Py5tZXRob2QgfHwgJ0dFVCc7XG5cblx0XHRpZiAobWV0aG9kICE9PSAnR0VUJykge1xuXHRcdFx0Y2FjaGUuZGVsZXRlKGJ1aWxkX3NlbGVjdG9yKGlucHV0KSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5hdGl2ZV9mZXRjaChpbnB1dCwgaW5pdCk7XG5cdH07XG59IGVsc2UgaWYgKEJST1dTRVIpIHtcblx0d2luZG93LmZldGNoID0gKGlucHV0LCBpbml0KSA9PiB7XG5cdFx0Y29uc3QgbWV0aG9kID0gaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0ID8gaW5wdXQubWV0aG9kIDogaW5pdD8ubWV0aG9kIHx8ICdHRVQnO1xuXG5cdFx0aWYgKG1ldGhvZCAhPT0gJ0dFVCcpIHtcblx0XHRcdGNhY2hlLmRlbGV0ZShidWlsZF9zZWxlY3RvcihpbnB1dCkpO1xuXHRcdH1cblxuXHRcdHJldHVybiBuYXRpdmVfZmV0Y2goaW5wdXQsIGluaXQpO1xuXHR9O1xufVxuXG5jb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcblxuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIG9uIHRoZSBpbml0aWFsIHJ1biBvZiBsb2FkIGZ1bmN0aW9ucyB0aGF0IGh5ZHJhdGUgdGhlIHBhZ2UuXG4gKiBTYXZlcyBhbnkgcmVxdWVzdHMgd2l0aCBjYWNoZS1jb250cm9sIG1heC1hZ2UgdG8gdGhlIGNhY2hlLlxuICogQHBhcmFtIHtVUkwgfCBzdHJpbmd9IHJlc291cmNlXG4gKiBAcGFyYW0ge1JlcXVlc3RJbml0fSBbb3B0c11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxfZmV0Y2gocmVzb3VyY2UsIG9wdHMpIHtcblx0Y29uc3Qgc2VsZWN0b3IgPSBidWlsZF9zZWxlY3RvcihyZXNvdXJjZSwgb3B0cyk7XG5cblx0Y29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG5cdGlmIChzY3JpcHQ/LnRleHRDb250ZW50KSB7XG5cdFx0bGV0IHsgYm9keSwgLi4uaW5pdCB9ID0gSlNPTi5wYXJzZShzY3JpcHQudGV4dENvbnRlbnQpO1xuXG5cdFx0Y29uc3QgdHRsID0gc2NyaXB0LmdldEF0dHJpYnV0ZSgnZGF0YS10dGwnKTtcblx0XHRpZiAodHRsKSBjYWNoZS5zZXQoc2VsZWN0b3IsIHsgYm9keSwgaW5pdCwgdHRsOiAxMDAwICogTnVtYmVyKHR0bCkgfSk7XG5cdFx0Y29uc3QgYjY0ID0gc2NyaXB0LmdldEF0dHJpYnV0ZSgnZGF0YS1iNjQnKTtcblx0XHRpZiAoYjY0ICE9PSBudWxsKSB7XG5cdFx0XHQvLyBDYW4ndCB1c2UgbmF0aXZlX2ZldGNoKCdkYXRhOi4uLjtiYXNlNjQsJHtib2R5fScpXG5cdFx0XHQvLyBjc3AgY2FuIGJsb2NrIHRoZSByZXF1ZXN0XG5cdFx0XHRib2R5ID0gYjY0X2RlY29kZShib2R5KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBpbml0KSk7XG5cdH1cblxuXHRyZXR1cm4gREVWID8gZGV2X2ZldGNoKHJlc291cmNlLCBvcHRzKSA6IHdpbmRvdy5mZXRjaChyZXNvdXJjZSwgb3B0cyk7XG59XG5cbi8qKlxuICogVHJpZXMgdG8gZ2V0IHRoZSByZXNwb25zZSBmcm9tIHRoZSBjYWNoZSwgaWYgbWF4LWFnZSBhbGxvd3MgaXQsIGVsc2UgZG9lcyBhIGZldGNoLlxuICogQHBhcmFtIHtVUkwgfCBzdHJpbmd9IHJlc291cmNlXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVzb2x2ZWRcbiAqIEBwYXJhbSB7UmVxdWVzdEluaXR9IFtvcHRzXVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3Vic2VxdWVudF9mZXRjaChyZXNvdXJjZSwgcmVzb2x2ZWQsIG9wdHMpIHtcblx0aWYgKGNhY2hlLnNpemUgPiAwKSB7XG5cdFx0Y29uc3Qgc2VsZWN0b3IgPSBidWlsZF9zZWxlY3RvcihyZXNvdXJjZSwgb3B0cyk7XG5cdFx0Y29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KHNlbGVjdG9yKTtcblx0XHRpZiAoY2FjaGVkKSB7XG5cdFx0XHQvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUmVxdWVzdC9jYWNoZSN2YWx1ZVxuXHRcdFx0aWYgKFxuXHRcdFx0XHRwZXJmb3JtYW5jZS5ub3coKSA8IGNhY2hlZC50dGwgJiZcblx0XHRcdFx0WydkZWZhdWx0JywgJ2ZvcmNlLWNhY2hlJywgJ29ubHktaWYtY2FjaGVkJywgdW5kZWZpbmVkXS5pbmNsdWRlcyhvcHRzPy5jYWNoZSlcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm4gbmV3IFJlc3BvbnNlKGNhY2hlZC5ib2R5LCBjYWNoZWQuaW5pdCk7XG5cdFx0XHR9XG5cblx0XHRcdGNhY2hlLmRlbGV0ZShzZWxlY3Rvcik7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIERFViA/IGRldl9mZXRjaChyZXNvbHZlZCwgb3B0cykgOiB3aW5kb3cuZmV0Y2gocmVzb2x2ZWQsIG9wdHMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVxdWVzdEluZm8gfCBVUkx9IHJlc291cmNlXG4gKiBAcGFyYW0ge1JlcXVlc3RJbml0ICYgUmVjb3JkPHN0cmluZywgYW55PiB8IHVuZGVmaW5lZH0gb3B0c1xuICovXG5mdW5jdGlvbiBkZXZfZmV0Y2gocmVzb3VyY2UsIG9wdHMpIHtcblx0Y29uc3QgcGF0Y2hlZF9vcHRzID0geyAuLi5vcHRzIH07XG5cdC8vIFRoaXMgYXNzaWducyB0aGUgX19zdmVsdGVraXRfZmV0Y2hfXyBmbGFnIGFuZCBtYWtlcyBpdCBub24tZW51bWVyYWJsZVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkocGF0Y2hlZF9vcHRzLCAnX19zdmVsdGVraXRfZmV0Y2hfXycsIHtcblx0XHR2YWx1ZTogdHJ1ZSxcblx0XHR3cml0YWJsZTogdHJ1ZSxcblx0XHRjb25maWd1cmFibGU6IHRydWVcblx0fSk7XG5cdHJldHVybiB3aW5kb3cuZmV0Y2gocmVzb3VyY2UsIHBhdGNoZWRfb3B0cyk7XG59XG5cbi8qKlxuICogQnVpbGQgdGhlIGNhY2hlIGtleSBmb3IgYSBnaXZlbiByZXF1ZXN0XG4gKiBAcGFyYW0ge1VSTCB8IFJlcXVlc3RJbmZvfSByZXNvdXJjZVxuICogQHBhcmFtIHtSZXF1ZXN0SW5pdH0gW29wdHNdXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkX3NlbGVjdG9yKHJlc291cmNlLCBvcHRzKSB7XG5cdGNvbnN0IHVybCA9IEpTT04uc3RyaW5naWZ5KHJlc291cmNlIGluc3RhbmNlb2YgUmVxdWVzdCA/IHJlc291cmNlLnVybCA6IHJlc291cmNlKTtcblxuXHRsZXQgc2VsZWN0b3IgPSBgc2NyaXB0W2RhdGEtc3ZlbHRla2l0LWZldGNoZWRdW2RhdGEtdXJsPSR7dXJsfV1gO1xuXG5cdGlmIChvcHRzPy5oZWFkZXJzIHx8IG9wdHM/LmJvZHkpIHtcblx0XHQvKiogQHR5cGUge2ltcG9ydCgndHlwZXMnKS5TdHJpY3RCb2R5W119ICovXG5cdFx0Y29uc3QgdmFsdWVzID0gW107XG5cblx0XHRpZiAob3B0cy5oZWFkZXJzKSB7XG5cdFx0XHR2YWx1ZXMucHVzaChbLi4ubmV3IEhlYWRlcnMob3B0cy5oZWFkZXJzKV0uam9pbignLCcpKTtcblx0XHR9XG5cblx0XHRpZiAob3B0cy5ib2R5ICYmICh0eXBlb2Ygb3B0cy5ib2R5ID09PSAnc3RyaW5nJyB8fCBBcnJheUJ1ZmZlci5pc1ZpZXcob3B0cy5ib2R5KSkpIHtcblx0XHRcdHZhbHVlcy5wdXNoKG9wdHMuYm9keSk7XG5cdFx0fVxuXG5cdFx0c2VsZWN0b3IgKz0gYFtkYXRhLWhhc2g9XCIke2hhc2goLi4udmFsdWVzKX1cIl1gO1xuXHR9XG5cblx0cmV0dXJuIHNlbGVjdG9yO1xufVxuIiwiaW1wb3J0IHsgQlJPV1NFUiB9IGZyb20gJ2VzbS1lbnYnO1xuXG5jb25zdCBwYXJhbV9wYXR0ZXJuID0gL14oXFxbKT8oXFwuXFwuXFwuKT8oXFx3KykoPzo9KFxcdyspKT8oXFxdKT8kLztcblxuLyoqXG4gKiBDcmVhdGVzIHRoZSByZWdleCBwYXR0ZXJuLCBleHRyYWN0cyBwYXJhbWV0ZXIgbmFtZXMsIGFuZCBnZW5lcmF0ZXMgdHlwZXMgZm9yIGEgcm91dGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2Vfcm91dGVfaWQoaWQpIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJ3R5cGVzJykuUm91dGVQYXJhbVtdfSAqL1xuXHRjb25zdCBwYXJhbXMgPSBbXTtcblxuXHRjb25zdCBwYXR0ZXJuID1cblx0XHRpZCA9PT0gJy8nXG5cdFx0XHQ/IC9eXFwvJC9cblx0XHRcdDogbmV3IFJlZ0V4cChcblx0XHRcdFx0XHRgXiR7Z2V0X3JvdXRlX3NlZ21lbnRzKGlkKVxuXHRcdFx0XHRcdFx0Lm1hcCgoc2VnbWVudCkgPT4ge1xuXHRcdFx0XHRcdFx0XHQvLyBzcGVjaWFsIGNhc2Ug4oCUIC9bLi4ucmVzdF0vIGNvdWxkIGNvbnRhaW4gemVybyBzZWdtZW50c1xuXHRcdFx0XHRcdFx0XHRjb25zdCByZXN0X21hdGNoID0gL15cXFtcXC5cXC5cXC4oXFx3KykoPzo9KFxcdyspKT9cXF0kLy5leGVjKHNlZ21lbnQpO1xuXHRcdFx0XHRcdFx0XHRpZiAocmVzdF9tYXRjaCkge1xuXHRcdFx0XHRcdFx0XHRcdHBhcmFtcy5wdXNoKHtcblx0XHRcdFx0XHRcdFx0XHRcdG5hbWU6IHJlc3RfbWF0Y2hbMV0sXG5cdFx0XHRcdFx0XHRcdFx0XHRtYXRjaGVyOiByZXN0X21hdGNoWzJdLFxuXHRcdFx0XHRcdFx0XHRcdFx0b3B0aW9uYWw6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdFx0cmVzdDogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdGNoYWluZWQ6IHRydWVcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJyg/Oi8oLiopKT8nO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdC8vIHNwZWNpYWwgY2FzZSDigJQgL1tbb3B0aW9uYWxdXS8gY291bGQgY29udGFpbiB6ZXJvIHNlZ21lbnRzXG5cdFx0XHRcdFx0XHRcdGNvbnN0IG9wdGlvbmFsX21hdGNoID0gL15cXFtcXFsoXFx3KykoPzo9KFxcdyspKT9cXF1cXF0kLy5leGVjKHNlZ21lbnQpO1xuXHRcdFx0XHRcdFx0XHRpZiAob3B0aW9uYWxfbWF0Y2gpIHtcblx0XHRcdFx0XHRcdFx0XHRwYXJhbXMucHVzaCh7XG5cdFx0XHRcdFx0XHRcdFx0XHRuYW1lOiBvcHRpb25hbF9tYXRjaFsxXSxcblx0XHRcdFx0XHRcdFx0XHRcdG1hdGNoZXI6IG9wdGlvbmFsX21hdGNoWzJdLFxuXHRcdFx0XHRcdFx0XHRcdFx0b3B0aW9uYWw6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXN0OiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRcdGNoYWluZWQ6IHRydWVcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJyg/Oi8oW14vXSspKT8nO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0aWYgKCFzZWdtZW50KSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgcGFydHMgPSBzZWdtZW50LnNwbGl0KC9cXFsoLis/KVxcXSg/IVxcXSkvKTtcblx0XHRcdFx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gcGFydHNcblx0XHRcdFx0XHRcdFx0XHQubWFwKChjb250ZW50LCBpKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoaSAlIDIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGNvbnRlbnQuc3RhcnRzV2l0aCgneCsnKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBlc2NhcGUoU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChjb250ZW50LnNsaWNlKDIpLCAxNikpKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChjb250ZW50LnN0YXJ0c1dpdGgoJ3UrJykpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZXNjYXBlKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0U3RyaW5nLmZyb21DaGFyQ29kZShcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Li4uY29udGVudFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC5zbGljZSgyKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC5zcGxpdCgnLScpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Lm1hcCgoY29kZSkgPT4gcGFyc2VJbnQoY29kZSwgMTYpKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBXZSBrbm93IHRoZSBtYXRjaCBjYW5ub3QgYmUgbnVsbCBpbiB0aGUgYnJvd3NlciBiZWNhdXNlIG1hbmlmZXN0IGdlbmVyYXRpb25cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gd291bGQgaGF2ZSBpbnZva2VkIHRoaXMgZHVyaW5nIGJ1aWxkIGFuZCBmYWlsZWQgaWYgd2UgaGl0IGFuIGludmFsaWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gcGFyYW0vbWF0Y2hlciBuYW1lIHdpdGggbm9uLWFscGhhbnVtZXJpYyBjaGFyYWN0ZXIuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IG1hdGNoID0gLyoqIEB0eXBlIHtSZWdFeHBFeGVjQXJyYXl9ICovIChwYXJhbV9wYXR0ZXJuLmV4ZWMoY29udGVudCkpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIUJST1dTRVIgJiYgIW1hdGNoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YEludmFsaWQgcGFyYW06ICR7Y29udGVudH0uIFBhcmFtcyBhbmQgbWF0Y2hlciBuYW1lcyBjYW4gb25seSBoYXZlIHVuZGVyc2NvcmVzIGFuZCBhbHBoYW51bWVyaWMgY2hhcmFjdGVycy5gXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IFssIGlzX29wdGlvbmFsLCBpc19yZXN0LCBuYW1lLCBtYXRjaGVyXSA9IG1hdGNoO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBJdCdzIGFzc3VtZWQgdGhhdCB0aGUgZm9sbG93aW5nIGludmFsaWQgcm91dGUgaWQgY2FzZXMgYXJlIGFscmVhZHkgY2hlY2tlZFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAtIHVuYmFsYW5jZWQgYnJhY2tldHNcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gLSBvcHRpb25hbCBwYXJhbSBmb2xsb3dpbmcgcmVzdCBwYXJhbVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBhcmFtcy5wdXNoKHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRuYW1lLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGNoZXIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3B0aW9uYWw6ICEhaXNfb3B0aW9uYWwsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzdDogISFpc19yZXN0LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoYWluZWQ6IGlzX3Jlc3QgPyBpID09PSAxICYmIHBhcnRzWzBdID09PSAnJyA6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gaXNfcmVzdCA/ICcoLio/KScgOiBpc19vcHRpb25hbCA/ICcoW14vXSopPycgOiAnKFteL10rPyknO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZXNjYXBlKGNvbnRlbnQpO1xuXHRcdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdFx0LmpvaW4oJycpO1xuXG5cdFx0XHRcdFx0XHRcdHJldHVybiAnLycgKyByZXN1bHQ7XG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0LmpvaW4oJycpfS8/JGBcblx0XHRcdFx0KTtcblxuXHRyZXR1cm4geyBwYXR0ZXJuLCBwYXJhbXMgfTtcbn1cblxuY29uc3Qgb3B0aW9uYWxfcGFyYW1fcmVnZXggPSAvXFwvXFxbXFxbXFx3Kz8oPzo9XFx3Kyk/XFxdXFxdLztcblxuLyoqXG4gKiBSZW1vdmVzIG9wdGlvbmFsIHBhcmFtcyBmcm9tIGEgcm91dGUgSUQuXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEByZXR1cm5zIFRoZSByb3V0ZSBpZCB3aXRoIG9wdGlvbmFsIHBhcmFtcyByZW1vdmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVfb3B0aW9uYWxfcGFyYW1zKGlkKSB7XG5cdHJldHVybiBpZC5yZXBsYWNlKG9wdGlvbmFsX3BhcmFtX3JlZ2V4LCAnJyk7XG59XG5cbi8qKlxuICogUmV0dXJucyBgZmFsc2VgIGZvciBgKGdyb3VwKWAgc2VnbWVudHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWdtZW50XG4gKi9cbmZ1bmN0aW9uIGFmZmVjdHNfcGF0aChzZWdtZW50KSB7XG5cdHJldHVybiAhL15cXChbXildK1xcKSQvLnRlc3Qoc2VnbWVudCk7XG59XG5cbi8qKlxuICogU3BsaXRzIGEgcm91dGUgaWQgaW50byBpdHMgc2VnbWVudHMsIHJlbW92aW5nIHNlZ21lbnRzIHRoYXRcbiAqIGRvbid0IGFmZmVjdCB0aGUgcGF0aCAoaS5lLiBncm91cHMpLiBUaGUgcm9vdCByb3V0ZSBpcyByZXByZXNlbnRlZCBieSBgL2BcbiAqIGFuZCB3aWxsIGJlIHJldHVybmVkIGFzIGBbJyddYC5cbiAqIEBwYXJhbSB7c3RyaW5nfSByb3V0ZVxuICogQHJldHVybnMgc3RyaW5nW11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9yb3V0ZV9zZWdtZW50cyhyb3V0ZSkge1xuXHRyZXR1cm4gcm91dGUuc2xpY2UoMSkuc3BsaXQoJy8nKS5maWx0ZXIoYWZmZWN0c19wYXRoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1JlZ0V4cE1hdGNoQXJyYXl9IG1hdGNoXG4gKiBAcGFyYW0ge2ltcG9ydCgndHlwZXMnKS5Sb3V0ZVBhcmFtW119IHBhcmFtc1xuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBpbXBvcnQoJ0BzdmVsdGVqcy9raXQnKS5QYXJhbU1hdGNoZXI+fSBtYXRjaGVyc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZXhlYyhtYXRjaCwgcGFyYW1zLCBtYXRjaGVycykge1xuXHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIHN0cmluZz59ICovXG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXG5cdGNvbnN0IHZhbHVlcyA9IG1hdGNoLnNsaWNlKDEpO1xuXHRjb25zdCB2YWx1ZXNfbmVlZGluZ19tYXRjaCA9IHZhbHVlcy5maWx0ZXIoKHZhbHVlKSA9PiB2YWx1ZSAhPT0gdW5kZWZpbmVkKTtcblxuXHRsZXQgYnVmZmVyZWQgPSAwO1xuXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0Y29uc3QgcGFyYW0gPSBwYXJhbXNbaV07XG5cdFx0bGV0IHZhbHVlID0gdmFsdWVzW2kgLSBidWZmZXJlZF07XG5cblx0XHQvLyBpbiB0aGUgYFtbYT1iXV0vLi4uL1suLi5yZXN0XWAgY2FzZSwgaWYgb25lIG9yIG1vcmUgb3B0aW9uYWwgcGFyYW1ldGVyc1xuXHRcdC8vIHdlcmVuJ3QgbWF0Y2hlZCwgcm9sbCB0aGUgc2tpcHBlZCB2YWx1ZXMgaW50byB0aGUgcmVzdFxuXHRcdGlmIChwYXJhbS5jaGFpbmVkICYmIHBhcmFtLnJlc3QgJiYgYnVmZmVyZWQpIHtcblx0XHRcdHZhbHVlID0gdmFsdWVzXG5cdFx0XHRcdC5zbGljZShpIC0gYnVmZmVyZWQsIGkgKyAxKVxuXHRcdFx0XHQuZmlsdGVyKChzKSA9PiBzKVxuXHRcdFx0XHQuam9pbignLycpO1xuXG5cdFx0XHRidWZmZXJlZCA9IDA7XG5cdFx0fVxuXG5cdFx0Ly8gaWYgYHZhbHVlYCBpcyB1bmRlZmluZWQsIGl0IG1lYW5zIHRoaXMgaXMgYW4gb3B0aW9uYWwgb3IgcmVzdCBwYXJhbWV0ZXJcblx0XHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aWYgKHBhcmFtLnJlc3QpIHJlc3VsdFtwYXJhbS5uYW1lXSA9ICcnO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0aWYgKCFwYXJhbS5tYXRjaGVyIHx8IG1hdGNoZXJzW3BhcmFtLm1hdGNoZXJdKHZhbHVlKSkge1xuXHRcdFx0cmVzdWx0W3BhcmFtLm5hbWVdID0gdmFsdWU7XG5cblx0XHRcdC8vIE5vdyB0aGF0IHRoZSBwYXJhbXMgbWF0Y2gsIHJlc2V0IHRoZSBidWZmZXIgaWYgdGhlIG5leHQgcGFyYW0gaXNuJ3QgdGhlIFsuLi5yZXN0XVxuXHRcdFx0Ly8gYW5kIHRoZSBuZXh0IHZhbHVlIGlzIGRlZmluZWQsIG90aGVyd2lzZSB0aGUgYnVmZmVyIHdpbGwgY2F1c2UgdXMgdG8gc2tpcCB2YWx1ZXNcblx0XHRcdGNvbnN0IG5leHRfcGFyYW0gPSBwYXJhbXNbaSArIDFdO1xuXHRcdFx0Y29uc3QgbmV4dF92YWx1ZSA9IHZhbHVlc1tpICsgMV07XG5cdFx0XHRpZiAobmV4dF9wYXJhbSAmJiAhbmV4dF9wYXJhbS5yZXN0ICYmIG5leHRfcGFyYW0ub3B0aW9uYWwgJiYgbmV4dF92YWx1ZSAmJiBwYXJhbS5jaGFpbmVkKSB7XG5cdFx0XHRcdGJ1ZmZlcmVkID0gMDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVGhlcmUgYXJlIG5vIG1vcmUgcGFyYW1zIGFuZCBubyBtb3JlIHZhbHVlcywgYnV0IGFsbCBub24tZW1wdHkgdmFsdWVzIGhhdmUgYmVlbiBtYXRjaGVkXG5cdFx0XHRpZiAoXG5cdFx0XHRcdCFuZXh0X3BhcmFtICYmXG5cdFx0XHRcdCFuZXh0X3ZhbHVlICYmXG5cdFx0XHRcdE9iamVjdC5rZXlzKHJlc3VsdCkubGVuZ3RoID09PSB2YWx1ZXNfbmVlZGluZ19tYXRjaC5sZW5ndGhcblx0XHRcdCkge1xuXHRcdFx0XHRidWZmZXJlZCA9IDA7XG5cdFx0XHR9XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHQvLyBpbiB0aGUgYC9bW2E9Yl1dLy4uLmAgY2FzZSwgaWYgdGhlIHZhbHVlIGRpZG4ndCBzYXRpc2Z5IHRoZSBtYXRjaGVyLFxuXHRcdC8vIGtlZXAgdHJhY2sgb2YgdGhlIG51bWJlciBvZiBza2lwcGVkIG9wdGlvbmFsIHBhcmFtZXRlcnMgYW5kIGNvbnRpbnVlXG5cdFx0aWYgKHBhcmFtLm9wdGlvbmFsICYmIHBhcmFtLmNoYWluZWQpIHtcblx0XHRcdGJ1ZmZlcmVkKys7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHQvLyBvdGhlcndpc2UsIGlmIHRoZSBtYXRjaGVyIHJldHVybnMgYGZhbHNlYCwgdGhlIHJvdXRlIGRpZCBub3QgbWF0Y2hcblx0XHRyZXR1cm47XG5cdH1cblxuXHRpZiAoYnVmZmVyZWQpIHJldHVybjtcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIEBwYXJhbSB7c3RyaW5nfSBzdHIgKi9cbmZ1bmN0aW9uIGVzY2FwZShzdHIpIHtcblx0cmV0dXJuIChcblx0XHRzdHJcblx0XHRcdC5ub3JtYWxpemUoKVxuXHRcdFx0Ly8gZXNjYXBlIFsgYW5kIF0gYmVmb3JlIGVzY2FwaW5nIG90aGVyIGNoYXJhY3RlcnMsIHNpbmNlIHRoZXkgYXJlIHVzZWQgaW4gdGhlIHJlcGxhY2VtZW50c1xuXHRcdFx0LnJlcGxhY2UoL1tbXFxdXS9nLCAnXFxcXCQmJylcblx0XHRcdC8vIHJlcGxhY2UgJSwgLywgPyBhbmQgIyB3aXRoIHRoZWlyIGVuY29kZWQgdmVyc2lvbnMgYmVjYXVzZSBkZWNvZGVfcGF0aG5hbWUgbGVhdmVzIHRoZW0gdW50b3VjaGVkXG5cdFx0XHQucmVwbGFjZSgvJS9nLCAnJTI1Jylcblx0XHRcdC5yZXBsYWNlKC9cXC8vZywgJyUyW0ZmXScpXG5cdFx0XHQucmVwbGFjZSgvXFw/L2csICclM1tGZl0nKVxuXHRcdFx0LnJlcGxhY2UoLyMvZywgJyUyMycpXG5cdFx0XHQvLyBlc2NhcGUgY2hhcmFjdGVycyB0aGF0IGhhdmUgc3BlY2lhbCBtZWFuaW5nIGluIHJlZ2V4XG5cdFx0XHQucmVwbGFjZSgvWy4qKz9eJHt9KCl8XFxcXF0vZywgJ1xcXFwkJicpXG5cdCk7XG59XG5cbmNvbnN0IGJhc2ljX3BhcmFtX3BhdHRlcm4gPSAvXFxbKFxcWyk/KFxcLlxcLlxcLik/KFxcdys/KSg/Oj0oXFx3KykpP1xcXVxcXT8vZztcblxuLyoqXG4gKiBQb3B1bGF0ZSBhIHJvdXRlIElEIHdpdGggcGFyYW1zIHRvIHJlc29sdmUgYSBwYXRobmFtZS5cbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogcmVzb2x2ZVJvdXRlKFxuICogICBgL2Jsb2cvW3NsdWddL1suLi5zb21ldGhpbmdFbHNlXWAsXG4gKiAgIHtcbiAqICAgICBzbHVnOiAnaGVsbG8td29ybGQnLFxuICogICAgIHNvbWV0aGluZ0Vsc2U6ICdzb21ldGhpbmcvZWxzZSdcbiAqICAgfVxuICogKTsgLy8gYC9ibG9nL2hlbGxvLXdvcmxkL3NvbWV0aGluZy9lbHNlYFxuICogYGBgXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPn0gcGFyYW1zXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZV9yb3V0ZShpZCwgcGFyYW1zKSB7XG5cdGNvbnN0IHNlZ21lbnRzID0gZ2V0X3JvdXRlX3NlZ21lbnRzKGlkKTtcblx0cmV0dXJuIChcblx0XHQnLycgK1xuXHRcdHNlZ21lbnRzXG5cdFx0XHQubWFwKChzZWdtZW50KSA9PlxuXHRcdFx0XHRzZWdtZW50LnJlcGxhY2UoYmFzaWNfcGFyYW1fcGF0dGVybiwgKF8sIG9wdGlvbmFsLCByZXN0LCBuYW1lKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgcGFyYW1fdmFsdWUgPSBwYXJhbXNbbmFtZV07XG5cblx0XHRcdFx0XHQvLyBUaGlzIGlzIG5lc3RlZCBzbyBUUyBjb3JyZWN0bHkgbmFycm93cyB0aGUgdHlwZVxuXHRcdFx0XHRcdGlmICghcGFyYW1fdmFsdWUpIHtcblx0XHRcdFx0XHRcdGlmIChvcHRpb25hbCkgcmV0dXJuICcnO1xuXHRcdFx0XHRcdFx0aWYgKHJlc3QgJiYgcGFyYW1fdmFsdWUgIT09IHVuZGVmaW5lZCkgcmV0dXJuICcnO1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIHBhcmFtZXRlciAnJHtuYW1lfScgaW4gcm91dGUgJHtpZH1gKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAocGFyYW1fdmFsdWUuc3RhcnRzV2l0aCgnLycpIHx8IHBhcmFtX3ZhbHVlLmVuZHNXaXRoKCcvJykpXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRcdGBQYXJhbWV0ZXIgJyR7bmFtZX0nIGluIHJvdXRlICR7aWR9IGNhbm5vdCBzdGFydCBvciBlbmQgd2l0aCBhIHNsYXNoIC0tIHRoaXMgd291bGQgY2F1c2UgYW4gaW52YWxpZCByb3V0ZSBsaWtlIGZvby8vYmFyYFxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRyZXR1cm4gcGFyYW1fdmFsdWU7XG5cdFx0XHRcdH0pXG5cdFx0XHQpXG5cdFx0XHQuZmlsdGVyKEJvb2xlYW4pXG5cdFx0XHQuam9pbignLycpXG5cdCk7XG59XG4iLCJpbXBvcnQgeyBleGVjLCBwYXJzZV9yb3V0ZV9pZCB9IGZyb20gJy4uLy4uL3V0aWxzL3JvdXRpbmcuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3R5cGVzLmpzJykuU3ZlbHRlS2l0QXBwfSBhcHBcbiAqIEByZXR1cm5zIHtpbXBvcnQoJ3R5cGVzJykuQ1NSUm91dGVbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKHsgbm9kZXMsIHNlcnZlcl9sb2FkcywgZGljdGlvbmFyeSwgbWF0Y2hlcnMgfSkge1xuXHRjb25zdCBsYXlvdXRzX3dpdGhfc2VydmVyX2xvYWQgPSBuZXcgU2V0KHNlcnZlcl9sb2Fkcyk7XG5cblx0cmV0dXJuIE9iamVjdC5lbnRyaWVzKGRpY3Rpb25hcnkpLm1hcCgoW2lkLCBbbGVhZiwgbGF5b3V0cywgZXJyb3JzXV0pID0+IHtcblx0XHRjb25zdCB7IHBhdHRlcm4sIHBhcmFtcyB9ID0gcGFyc2Vfcm91dGVfaWQoaWQpO1xuXG5cdFx0Y29uc3Qgcm91dGUgPSB7XG5cdFx0XHRpZCxcblx0XHRcdC8qKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAqL1xuXHRcdFx0ZXhlYzogKHBhdGgpID0+IHtcblx0XHRcdFx0Y29uc3QgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMocGF0aCk7XG5cdFx0XHRcdGlmIChtYXRjaCkgcmV0dXJuIGV4ZWMobWF0Y2gsIHBhcmFtcywgbWF0Y2hlcnMpO1xuXHRcdFx0fSxcblx0XHRcdGVycm9yczogWzEsIC4uLihlcnJvcnMgfHwgW10pXS5tYXAoKG4pID0+IG5vZGVzW25dKSxcblx0XHRcdGxheW91dHM6IFswLCAuLi4obGF5b3V0cyB8fCBbXSldLm1hcChjcmVhdGVfbGF5b3V0X2xvYWRlciksXG5cdFx0XHRsZWFmOiBjcmVhdGVfbGVhZl9sb2FkZXIobGVhZilcblx0XHR9O1xuXG5cdFx0Ly8gYml0IG9mIGEgaGFjaywgYnV0IGVuc3VyZXMgdGhhdCBsYXlvdXQvZXJyb3Igbm9kZSBsaXN0cyBhcmUgdGhlIHNhbWVcblx0XHQvLyBsZW5ndGgsIHdpdGhvdXQgd2hpY2ggdGhlIHdyb25nIGRhdGEgd2lsbCBiZSBhcHBsaWVkIGlmIHRoZSByb3V0ZVxuXHRcdC8vIG1hbmlmZXN0IGxvb2tzIGxpa2UgYFtbYSwgYl0sIFtjLF0sIGRdYFxuXHRcdHJvdXRlLmVycm9ycy5sZW5ndGggPSByb3V0ZS5sYXlvdXRzLmxlbmd0aCA9IE1hdGgubWF4KFxuXHRcdFx0cm91dGUuZXJyb3JzLmxlbmd0aCxcblx0XHRcdHJvdXRlLmxheW91dHMubGVuZ3RoXG5cdFx0KTtcblxuXHRcdHJldHVybiByb3V0ZTtcblx0fSk7XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBpZFxuXHQgKiBAcmV0dXJucyB7W2Jvb2xlYW4sIGltcG9ydCgndHlwZXMnKS5DU1JQYWdlTm9kZUxvYWRlcl19XG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVfbGVhZl9sb2FkZXIoaWQpIHtcblx0XHQvLyB3aGV0aGVyIG9yIG5vdCB0aGUgcm91dGUgdXNlcyB0aGUgc2VydmVyIGRhdGEgaXNcblx0XHQvLyBlbmNvZGVkIHVzaW5nIHRoZSBvbmVzJyBjb21wbGVtZW50LCB0byBzYXZlIHNwYWNlXG5cdFx0Y29uc3QgdXNlc19zZXJ2ZXJfZGF0YSA9IGlkIDwgMDtcblx0XHRpZiAodXNlc19zZXJ2ZXJfZGF0YSkgaWQgPSB+aWQ7XG5cdFx0cmV0dXJuIFt1c2VzX3NlcnZlcl9kYXRhLCBub2Rlc1tpZF1dO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7bnVtYmVyIHwgdW5kZWZpbmVkfSBpZFxuXHQgKiBAcmV0dXJucyB7W2Jvb2xlYW4sIGltcG9ydCgndHlwZXMnKS5DU1JQYWdlTm9kZUxvYWRlcl0gfCB1bmRlZmluZWR9XG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVfbGF5b3V0X2xvYWRlcihpZCkge1xuXHRcdC8vIHdoZXRoZXIgb3Igbm90IHRoZSBsYXlvdXQgdXNlcyB0aGUgc2VydmVyIGRhdGEgaXNcblx0XHQvLyBlbmNvZGVkIGluIHRoZSBsYXlvdXRzIGFycmF5LCB0byBzYXZlIHNwYWNlXG5cdFx0cmV0dXJuIGlkID09PSB1bmRlZmluZWQgPyBpZCA6IFtsYXlvdXRzX3dpdGhfc2VydmVyX2xvYWQuaGFzKGlkKSwgbm9kZXNbaWRdXTtcblx0fVxufVxuIiwiLyoqXG4gKiBSZWFkIGEgdmFsdWUgZnJvbSBgc2Vzc2lvblN0b3JhZ2VgXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKiBAcGFyYW0geyh2YWx1ZTogc3RyaW5nKSA9PiBhbnl9IHBhcnNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQoa2V5LCBwYXJzZSA9IEpTT04ucGFyc2UpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gcGFyc2Uoc2Vzc2lvblN0b3JhZ2Vba2V5XSk7XG5cdH0gY2F0Y2gge1xuXHRcdC8vIGRvIG5vdGhpbmdcblx0fVxufVxuXG4vKipcbiAqIFdyaXRlIGEgdmFsdWUgdG8gYHNlc3Npb25TdG9yYWdlYFxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKiBAcGFyYW0geyh2YWx1ZTogYW55KSA9PiBzdHJpbmd9IHN0cmluZ2lmeVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUsIHN0cmluZ2lmeSA9IEpTT04uc3RyaW5naWZ5KSB7XG5cdGNvbnN0IGRhdGEgPSBzdHJpbmdpZnkodmFsdWUpO1xuXHR0cnkge1xuXHRcdHNlc3Npb25TdG9yYWdlW2tleV0gPSBkYXRhO1xuXHR9IGNhdGNoIHtcblx0XHQvLyBkbyBub3RoaW5nXG5cdH1cbn1cbiIsImV4cG9ydCBjb25zdCBTTkFQU0hPVF9LRVkgPSAnc3ZlbHRla2l0OnNuYXBzaG90JztcbmV4cG9ydCBjb25zdCBTQ1JPTExfS0VZID0gJ3N2ZWx0ZWtpdDpzY3JvbGwnO1xuZXhwb3J0IGNvbnN0IFNUQVRFU19LRVkgPSAnc3ZlbHRla2l0OnN0YXRlcyc7XG5leHBvcnQgY29uc3QgUEFHRV9VUkxfS0VZID0gJ3N2ZWx0ZWtpdDpwYWdldXJsJztcblxuZXhwb3J0IGNvbnN0IEhJU1RPUllfSU5ERVggPSAnc3ZlbHRla2l0Omhpc3RvcnknO1xuZXhwb3J0IGNvbnN0IE5BVklHQVRJT05fSU5ERVggPSAnc3ZlbHRla2l0Om5hdmlnYXRpb24nO1xuXG5leHBvcnQgY29uc3QgUFJFTE9BRF9QUklPUklUSUVTID0gLyoqIEB0eXBlIHtjb25zdH0gKi8gKHtcblx0dGFwOiAxLFxuXHRob3ZlcjogMixcblx0dmlld3BvcnQ6IDMsXG5cdGVhZ2VyOiA0LFxuXHRvZmY6IC0xLFxuXHRmYWxzZTogLTFcbn0pO1xuIiwiaW1wb3J0IHsgQlJPV1NFUiwgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQgeyB3cml0YWJsZSB9IGZyb20gJ3N2ZWx0ZS9zdG9yZSc7XG5pbXBvcnQgeyBhc3NldHMgfSBmcm9tICdfX3N2ZWx0ZWtpdC9wYXRocyc7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnX19zdmVsdGVraXQvZW52aXJvbm1lbnQnO1xuaW1wb3J0IHsgUFJFTE9BRF9QUklPUklUSUVTIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuXG4vKiBnbG9iYWwgX19TVkVMVEVLSVRfQVBQX1ZFUlNJT05fRklMRV9fLCBfX1NWRUxURUtJVF9BUFBfVkVSU0lPTl9QT0xMX0lOVEVSVkFMX18gKi9cblxuZXhwb3J0IGNvbnN0IG9yaWdpbiA9IEJST1dTRVIgPyBsb2NhdGlvbi5vcmlnaW4gOiAnJztcblxuLyoqIEBwYXJhbSB7c3RyaW5nIHwgVVJMfSB1cmwgKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlX3VybCh1cmwpIHtcblx0aWYgKHVybCBpbnN0YW5jZW9mIFVSTCkgcmV0dXJuIHVybDtcblxuXHRsZXQgYmFzZVVSSSA9IGRvY3VtZW50LmJhc2VVUkk7XG5cblx0aWYgKCFiYXNlVVJJKSB7XG5cdFx0Y29uc3QgYmFzZVRhZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYmFzZScpO1xuXHRcdGJhc2VVUkkgPSBiYXNlVGFncy5sZW5ndGggPyBiYXNlVGFnc1swXS5ocmVmIDogZG9jdW1lbnQuVVJMO1xuXHR9XG5cblx0cmV0dXJuIG5ldyBVUkwodXJsLCBiYXNlVVJJKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbF9zdGF0ZSgpIHtcblx0cmV0dXJuIHtcblx0XHR4OiBwYWdlWE9mZnNldCxcblx0XHR5OiBwYWdlWU9mZnNldFxuXHR9O1xufVxuXG5jb25zdCB3YXJuZWQgPSBuZXcgV2Vha1NldCgpO1xuXG4vKiogQHR5cGVkZWYge2tleW9mIHR5cGVvZiB2YWxpZF9saW5rX29wdGlvbnN9IExpbmtPcHRpb25OYW1lICovXG5cbmNvbnN0IHZhbGlkX2xpbmtfb3B0aW9ucyA9IC8qKiBAdHlwZSB7Y29uc3R9ICovICh7XG5cdCdwcmVsb2FkLWNvZGUnOiBbJycsICdvZmYnLCAnZmFsc2UnLCAndGFwJywgJ2hvdmVyJywgJ3ZpZXdwb3J0JywgJ2VhZ2VyJ10sXG5cdCdwcmVsb2FkLWRhdGEnOiBbJycsICdvZmYnLCAnZmFsc2UnLCAndGFwJywgJ2hvdmVyJ10sXG5cdGtlZXBmb2N1czogWycnLCAndHJ1ZScsICdvZmYnLCAnZmFsc2UnXSxcblx0bm9zY3JvbGw6IFsnJywgJ3RydWUnLCAnb2ZmJywgJ2ZhbHNlJ10sXG5cdHJlbG9hZDogWycnLCAndHJ1ZScsICdvZmYnLCAnZmFsc2UnXSxcblx0cmVwbGFjZXN0YXRlOiBbJycsICd0cnVlJywgJ29mZicsICdmYWxzZSddXG59KTtcblxuLyoqXG4gKiBAdGVtcGxhdGUge0xpbmtPcHRpb25OYW1lfSBUXG4gKiBAdHlwZWRlZiB7dHlwZW9mIHZhbGlkX2xpbmtfb3B0aW9uc1tUXVtudW1iZXJdfSBWYWxpZExpbmtPcHRpb25zXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUge0xpbmtPcHRpb25OYW1lfSBUXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7VH0gbmFtZVxuICovXG5mdW5jdGlvbiBsaW5rX29wdGlvbihlbGVtZW50LCBuYW1lKSB7XG5cdGNvbnN0IHZhbHVlID0gLyoqIEB0eXBlIHtWYWxpZExpbmtPcHRpb25zPFQ+IHwgbnVsbH0gKi8gKFxuXHRcdGVsZW1lbnQuZ2V0QXR0cmlidXRlKGBkYXRhLXN2ZWx0ZWtpdC0ke25hbWV9YClcblx0KTtcblxuXHRpZiAoREVWKSB7XG5cdFx0dmFsaWRhdGVfbGlua19vcHRpb24oZWxlbWVudCwgbmFtZSwgdmFsdWUpO1xuXHR9XG5cblx0cmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7TGlua09wdGlvbk5hbWV9IFRcbiAqIEB0ZW1wbGF0ZSB7VmFsaWRMaW5rT3B0aW9uczxUPiB8IG51bGx9IFVcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtUfSBuYW1lXG4gKiBAcGFyYW0ge1V9IHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlX2xpbmtfb3B0aW9uKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XG5cdGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuO1xuXG5cdC8vIEB0cy1leHBlY3QtZXJyb3IgLSBpbmNsdWRlcyBpcyBkdW1iXG5cdGlmICghd2FybmVkLmhhcyhlbGVtZW50KSAmJiAhdmFsaWRfbGlua19vcHRpb25zW25hbWVdLmluY2x1ZGVzKHZhbHVlKSkge1xuXHRcdGNvbnNvbGUuZXJyb3IoXG5cdFx0XHRgVW5leHBlY3RlZCB2YWx1ZSBmb3IgJHtuYW1lfSDigJQgc2hvdWxkIGJlIG9uZSBvZiAke3ZhbGlkX2xpbmtfb3B0aW9uc1tuYW1lXVxuXHRcdFx0XHQubWFwKChvcHRpb24pID0+IEpTT04uc3RyaW5naWZ5KG9wdGlvbikpXG5cdFx0XHRcdC5qb2luKCcsICcpfWAsXG5cdFx0XHRlbGVtZW50XG5cdFx0KTtcblxuXHRcdHdhcm5lZC5hZGQoZWxlbWVudCk7XG5cdH1cbn1cblxuY29uc3QgbGV2ZWxzID0ge1xuXHQuLi5QUkVMT0FEX1BSSU9SSVRJRVMsXG5cdCcnOiBQUkVMT0FEX1BSSU9SSVRJRVMuaG92ZXJcbn07XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7RWxlbWVudCB8IG51bGx9XG4gKi9cbmZ1bmN0aW9uIHBhcmVudF9lbGVtZW50KGVsZW1lbnQpIHtcblx0bGV0IHBhcmVudCA9IGVsZW1lbnQuYXNzaWduZWRTbG90ID8/IGVsZW1lbnQucGFyZW50Tm9kZTtcblxuXHQvLyBAdHMtZXhwZWN0LWVycm9yIGhhbmRsZSBzaGFkb3cgcm9vdHNcblx0aWYgKHBhcmVudD8ubm9kZVR5cGUgPT09IDExKSBwYXJlbnQgPSBwYXJlbnQuaG9zdDtcblxuXHRyZXR1cm4gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAocGFyZW50KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kX2FuY2hvcihlbGVtZW50LCB0YXJnZXQpIHtcblx0d2hpbGUgKGVsZW1lbnQgJiYgZWxlbWVudCAhPT0gdGFyZ2V0KSB7XG5cdFx0aWYgKGVsZW1lbnQubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gJ0EnICYmIGVsZW1lbnQuaGFzQXR0cmlidXRlKCdocmVmJykpIHtcblx0XHRcdHJldHVybiAvKiogQHR5cGUge0hUTUxBbmNob3JFbGVtZW50IHwgU1ZHQUVsZW1lbnR9ICovIChlbGVtZW50KTtcblx0XHR9XG5cblx0XHRlbGVtZW50ID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAocGFyZW50X2VsZW1lbnQoZWxlbWVudCkpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MQW5jaG9yRWxlbWVudCB8IFNWR0FFbGVtZW50fSBhXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2xpbmtfaW5mbyhhLCBiYXNlKSB7XG5cdC8qKiBAdHlwZSB7VVJMIHwgdW5kZWZpbmVkfSAqL1xuXHRsZXQgdXJsO1xuXG5cdHRyeSB7XG5cdFx0dXJsID0gbmV3IFVSTChhIGluc3RhbmNlb2YgU1ZHQUVsZW1lbnQgPyBhLmhyZWYuYmFzZVZhbCA6IGEuaHJlZiwgZG9jdW1lbnQuYmFzZVVSSSk7XG5cdH0gY2F0Y2gge31cblxuXHRjb25zdCB0YXJnZXQgPSBhIGluc3RhbmNlb2YgU1ZHQUVsZW1lbnQgPyBhLnRhcmdldC5iYXNlVmFsIDogYS50YXJnZXQ7XG5cblx0Y29uc3QgZXh0ZXJuYWwgPVxuXHRcdCF1cmwgfHxcblx0XHQhIXRhcmdldCB8fFxuXHRcdGlzX2V4dGVybmFsX3VybCh1cmwsIGJhc2UpIHx8XG5cdFx0KGEuZ2V0QXR0cmlidXRlKCdyZWwnKSB8fCAnJykuc3BsaXQoL1xccysvKS5pbmNsdWRlcygnZXh0ZXJuYWwnKTtcblxuXHRjb25zdCBkb3dubG9hZCA9IHVybD8ub3JpZ2luID09PSBvcmlnaW4gJiYgYS5oYXNBdHRyaWJ1dGUoJ2Rvd25sb2FkJyk7XG5cblx0cmV0dXJuIHsgdXJsLCBleHRlcm5hbCwgdGFyZ2V0LCBkb3dubG9hZCB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEZvcm1FbGVtZW50IHwgSFRNTEFuY2hvckVsZW1lbnQgfCBTVkdBRWxlbWVudH0gZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3JvdXRlcl9vcHRpb25zKGVsZW1lbnQpIHtcblx0LyoqIEB0eXBlIHtWYWxpZExpbmtPcHRpb25zPCdrZWVwZm9jdXMnPiB8IG51bGx9ICovXG5cdGxldCBrZWVwZm9jdXMgPSBudWxsO1xuXG5cdC8qKiBAdHlwZSB7VmFsaWRMaW5rT3B0aW9uczwnbm9zY3JvbGwnPiB8IG51bGx9ICovXG5cdGxldCBub3Njcm9sbCA9IG51bGw7XG5cblx0LyoqIEB0eXBlIHtWYWxpZExpbmtPcHRpb25zPCdwcmVsb2FkLWNvZGUnPiB8IG51bGx9ICovXG5cdGxldCBwcmVsb2FkX2NvZGUgPSBudWxsO1xuXG5cdC8qKiBAdHlwZSB7VmFsaWRMaW5rT3B0aW9uczwncHJlbG9hZC1kYXRhJz4gfCBudWxsfSAqL1xuXHRsZXQgcHJlbG9hZF9kYXRhID0gbnVsbDtcblxuXHQvKiogQHR5cGUge1ZhbGlkTGlua09wdGlvbnM8J3JlbG9hZCc+IHwgbnVsbH0gKi9cblx0bGV0IHJlbG9hZCA9IG51bGw7XG5cblx0LyoqIEB0eXBlIHtWYWxpZExpbmtPcHRpb25zPCdyZXBsYWNlc3RhdGUnPiB8IG51bGx9ICovXG5cdGxldCByZXBsYWNlX3N0YXRlID0gbnVsbDtcblxuXHQvKiogQHR5cGUge0VsZW1lbnR9ICovXG5cdGxldCBlbCA9IGVsZW1lbnQ7XG5cblx0d2hpbGUgKGVsICYmIGVsICE9PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcblx0XHRpZiAocHJlbG9hZF9jb2RlID09PSBudWxsKSBwcmVsb2FkX2NvZGUgPSBsaW5rX29wdGlvbihlbCwgJ3ByZWxvYWQtY29kZScpO1xuXHRcdGlmIChwcmVsb2FkX2RhdGEgPT09IG51bGwpIHByZWxvYWRfZGF0YSA9IGxpbmtfb3B0aW9uKGVsLCAncHJlbG9hZC1kYXRhJyk7XG5cdFx0aWYgKGtlZXBmb2N1cyA9PT0gbnVsbCkga2VlcGZvY3VzID0gbGlua19vcHRpb24oZWwsICdrZWVwZm9jdXMnKTtcblx0XHRpZiAobm9zY3JvbGwgPT09IG51bGwpIG5vc2Nyb2xsID0gbGlua19vcHRpb24oZWwsICdub3Njcm9sbCcpO1xuXHRcdGlmIChyZWxvYWQgPT09IG51bGwpIHJlbG9hZCA9IGxpbmtfb3B0aW9uKGVsLCAncmVsb2FkJyk7XG5cdFx0aWYgKHJlcGxhY2Vfc3RhdGUgPT09IG51bGwpIHJlcGxhY2Vfc3RhdGUgPSBsaW5rX29wdGlvbihlbCwgJ3JlcGxhY2VzdGF0ZScpO1xuXG5cdFx0ZWwgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovIChwYXJlbnRfZWxlbWVudChlbCkpO1xuXHR9XG5cblx0LyoqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbH0gdmFsdWUgKi9cblx0ZnVuY3Rpb24gZ2V0X29wdGlvbl9zdGF0ZSh2YWx1ZSkge1xuXHRcdHN3aXRjaCAodmFsdWUpIHtcblx0XHRcdGNhc2UgJyc6XG5cdFx0XHRjYXNlICd0cnVlJzpcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRjYXNlICdvZmYnOlxuXHRcdFx0Y2FzZSAnZmFsc2UnOlxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB7XG5cdFx0cHJlbG9hZF9jb2RlOiBsZXZlbHNbcHJlbG9hZF9jb2RlID8/ICdvZmYnXSxcblx0XHRwcmVsb2FkX2RhdGE6IGxldmVsc1twcmVsb2FkX2RhdGEgPz8gJ29mZiddLFxuXHRcdGtlZXBmb2N1czogZ2V0X29wdGlvbl9zdGF0ZShrZWVwZm9jdXMpLFxuXHRcdG5vc2Nyb2xsOiBnZXRfb3B0aW9uX3N0YXRlKG5vc2Nyb2xsKSxcblx0XHRyZWxvYWQ6IGdldF9vcHRpb25fc3RhdGUocmVsb2FkKSxcblx0XHRyZXBsYWNlX3N0YXRlOiBnZXRfb3B0aW9uX3N0YXRlKHJlcGxhY2Vfc3RhdGUpXG5cdH07XG59XG5cbi8qKiBAcGFyYW0ge2FueX0gdmFsdWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBub3RpZmlhYmxlX3N0b3JlKHZhbHVlKSB7XG5cdGNvbnN0IHN0b3JlID0gd3JpdGFibGUodmFsdWUpO1xuXHRsZXQgcmVhZHkgPSB0cnVlO1xuXG5cdGZ1bmN0aW9uIG5vdGlmeSgpIHtcblx0XHRyZWFkeSA9IHRydWU7XG5cdFx0c3RvcmUudXBkYXRlKCh2YWwpID0+IHZhbCk7XG5cdH1cblxuXHQvKiogQHBhcmFtIHthbnl9IG5ld192YWx1ZSAqL1xuXHRmdW5jdGlvbiBzZXQobmV3X3ZhbHVlKSB7XG5cdFx0cmVhZHkgPSBmYWxzZTtcblx0XHRzdG9yZS5zZXQobmV3X3ZhbHVlKTtcblx0fVxuXG5cdC8qKiBAcGFyYW0geyh2YWx1ZTogYW55KSA9PiB2b2lkfSBydW4gKi9cblx0ZnVuY3Rpb24gc3Vic2NyaWJlKHJ1bikge1xuXHRcdC8qKiBAdHlwZSB7YW55fSAqL1xuXHRcdGxldCBvbGRfdmFsdWU7XG5cdFx0cmV0dXJuIHN0b3JlLnN1YnNjcmliZSgobmV3X3ZhbHVlKSA9PiB7XG5cdFx0XHRpZiAob2xkX3ZhbHVlID09PSB1bmRlZmluZWQgfHwgKHJlYWR5ICYmIG5ld192YWx1ZSAhPT0gb2xkX3ZhbHVlKSkge1xuXHRcdFx0XHRydW4oKG9sZF92YWx1ZSA9IG5ld192YWx1ZSkpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cmV0dXJuIHsgbm90aWZ5LCBzZXQsIHN1YnNjcmliZSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX3VwZGF0ZWRfc3RvcmUoKSB7XG5cdGNvbnN0IHsgc2V0LCBzdWJzY3JpYmUgfSA9IHdyaXRhYmxlKGZhbHNlKTtcblxuXHRpZiAoREVWIHx8ICFCUk9XU0VSKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1YnNjcmliZSxcblx0XHRcdGNoZWNrOiBhc3luYyAoKSA9PiBmYWxzZVxuXHRcdH07XG5cdH1cblxuXHRjb25zdCBpbnRlcnZhbCA9IF9fU1ZFTFRFS0lUX0FQUF9WRVJTSU9OX1BPTExfSU5URVJWQUxfXztcblxuXHQvKiogQHR5cGUge05vZGVKUy5UaW1lb3V0fSAqL1xuXHRsZXQgdGltZW91dDtcblxuXHQvKiogQHR5cGUgeygpID0+IFByb21pc2U8Ym9vbGVhbj59ICovXG5cdGFzeW5jIGZ1bmN0aW9uIGNoZWNrKCkge1xuXHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblxuXHRcdGlmIChpbnRlcnZhbCkgdGltZW91dCA9IHNldFRpbWVvdXQoY2hlY2ssIGludGVydmFsKTtcblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHthc3NldHN9LyR7X19TVkVMVEVLSVRfQVBQX1ZFUlNJT05fRklMRV9ffWAsIHtcblx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdHByYWdtYTogJ25vLWNhY2hlJyxcblx0XHRcdFx0XHQnY2FjaGUtY29udHJvbCc6ICduby1jYWNoZSdcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGlmICghcmVzLm9rKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG5cdFx0XHRjb25zdCB1cGRhdGVkID0gZGF0YS52ZXJzaW9uICE9PSB2ZXJzaW9uO1xuXG5cdFx0XHRpZiAodXBkYXRlZCkge1xuXHRcdFx0XHRzZXQodHJ1ZSk7XG5cdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHVwZGF0ZWQ7XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGludGVydmFsKSB0aW1lb3V0ID0gc2V0VGltZW91dChjaGVjaywgaW50ZXJ2YWwpO1xuXG5cdHJldHVybiB7XG5cdFx0c3Vic2NyaWJlLFxuXHRcdGNoZWNrXG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtVUkx9IHVybFxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2V4dGVybmFsX3VybCh1cmwsIGJhc2UpIHtcblx0cmV0dXJuIHVybC5vcmlnaW4gIT09IG9yaWdpbiB8fCAhdXJsLnBhdGhuYW1lLnN0YXJ0c1dpdGgoYmFzZSk7XG59XG4iLCJleHBvcnQgY29uc3QgVU5ERUZJTkVEID0gLTE7XG5leHBvcnQgY29uc3QgSE9MRSA9IC0yO1xuZXhwb3J0IGNvbnN0IE5BTiA9IC0zO1xuZXhwb3J0IGNvbnN0IFBPU0lUSVZFX0lORklOSVRZID0gLTQ7XG5leHBvcnQgY29uc3QgTkVHQVRJVkVfSU5GSU5JVFkgPSAtNTtcbmV4cG9ydCBjb25zdCBORUdBVElWRV9aRVJPID0gLTY7XG4iLCJpbXBvcnQge1xuXHRIT0xFLFxuXHROQU4sXG5cdE5FR0FUSVZFX0lORklOSVRZLFxuXHRORUdBVElWRV9aRVJPLFxuXHRQT1NJVElWRV9JTkZJTklUWSxcblx0VU5ERUZJTkVEXG59IGZyb20gJy4vY29uc3RhbnRzLmpzJztcblxuLyoqXG4gKiBSZXZpdmUgYSB2YWx1ZSBzZXJpYWxpemVkIHdpdGggYGRldmFsdWUuc3RyaW5naWZ5YFxuICogQHBhcmFtIHtzdHJpbmd9IHNlcmlhbGl6ZWRcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgKHZhbHVlOiBhbnkpID0+IGFueT59IFtyZXZpdmVyc11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKHNlcmlhbGl6ZWQsIHJldml2ZXJzKSB7XG5cdHJldHVybiB1bmZsYXR0ZW4oSlNPTi5wYXJzZShzZXJpYWxpemVkKSwgcmV2aXZlcnMpO1xufVxuXG4vKipcbiAqIFJldml2ZSBhIHZhbHVlIGZsYXR0ZW5lZCB3aXRoIGBkZXZhbHVlLnN0cmluZ2lmeWBcbiAqIEBwYXJhbSB7bnVtYmVyIHwgYW55W119IHBhcnNlZFxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCAodmFsdWU6IGFueSkgPT4gYW55Pn0gW3Jldml2ZXJzXVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5mbGF0dGVuKHBhcnNlZCwgcmV2aXZlcnMpIHtcblx0aWYgKHR5cGVvZiBwYXJzZWQgPT09ICdudW1iZXInKSByZXR1cm4gaHlkcmF0ZShwYXJzZWQsIHRydWUpO1xuXG5cdGlmICghQXJyYXkuaXNBcnJheShwYXJzZWQpIHx8IHBhcnNlZC5sZW5ndGggPT09IDApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaW5wdXQnKTtcblx0fVxuXG5cdGNvbnN0IHZhbHVlcyA9IC8qKiBAdHlwZSB7YW55W119ICovIChwYXJzZWQpO1xuXG5cdGNvbnN0IGh5ZHJhdGVkID0gQXJyYXkodmFsdWVzLmxlbmd0aCk7XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuXHQgKiBAcmV0dXJucyB7YW55fVxuXHQgKi9cblx0ZnVuY3Rpb24gaHlkcmF0ZShpbmRleCwgc3RhbmRhbG9uZSA9IGZhbHNlKSB7XG5cdFx0aWYgKGluZGV4ID09PSBVTkRFRklORUQpIHJldHVybiB1bmRlZmluZWQ7XG5cdFx0aWYgKGluZGV4ID09PSBOQU4pIHJldHVybiBOYU47XG5cdFx0aWYgKGluZGV4ID09PSBQT1NJVElWRV9JTkZJTklUWSkgcmV0dXJuIEluZmluaXR5O1xuXHRcdGlmIChpbmRleCA9PT0gTkVHQVRJVkVfSU5GSU5JVFkpIHJldHVybiAtSW5maW5pdHk7XG5cdFx0aWYgKGluZGV4ID09PSBORUdBVElWRV9aRVJPKSByZXR1cm4gLTA7XG5cblx0XHRpZiAoc3RhbmRhbG9uZSkgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGlucHV0YCk7XG5cblx0XHRpZiAoaW5kZXggaW4gaHlkcmF0ZWQpIHJldHVybiBoeWRyYXRlZFtpbmRleF07XG5cblx0XHRjb25zdCB2YWx1ZSA9IHZhbHVlc1tpbmRleF07XG5cblx0XHRpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHtcblx0XHRcdGh5ZHJhdGVkW2luZGV4XSA9IHZhbHVlO1xuXHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRcdGlmICh0eXBlb2YgdmFsdWVbMF0gPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdGNvbnN0IHR5cGUgPSB2YWx1ZVswXTtcblxuXHRcdFx0XHRjb25zdCByZXZpdmVyID0gcmV2aXZlcnM/Llt0eXBlXTtcblx0XHRcdFx0aWYgKHJldml2ZXIpIHtcblx0XHRcdFx0XHRyZXR1cm4gKGh5ZHJhdGVkW2luZGV4XSA9IHJldml2ZXIoaHlkcmF0ZSh2YWx1ZVsxXSkpKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0XHRcdGNhc2UgJ0RhdGUnOlxuXHRcdFx0XHRcdFx0aHlkcmF0ZWRbaW5kZXhdID0gbmV3IERhdGUodmFsdWVbMV0pO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlICdTZXQnOlxuXHRcdFx0XHRcdFx0Y29uc3Qgc2V0ID0gbmV3IFNldCgpO1xuXHRcdFx0XHRcdFx0aHlkcmF0ZWRbaW5kZXhdID0gc2V0O1xuXHRcdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDE7IGkgPCB2YWx1ZS5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRcdFx0XHRzZXQuYWRkKGh5ZHJhdGUodmFsdWVbaV0pKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSAnTWFwJzpcblx0XHRcdFx0XHRcdGNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcblx0XHRcdFx0XHRcdGh5ZHJhdGVkW2luZGV4XSA9IG1hcDtcblx0XHRcdFx0XHRcdGZvciAobGV0IGkgPSAxOyBpIDwgdmFsdWUubGVuZ3RoOyBpICs9IDIpIHtcblx0XHRcdFx0XHRcdFx0bWFwLnNldChoeWRyYXRlKHZhbHVlW2ldKSwgaHlkcmF0ZSh2YWx1ZVtpICsgMV0pKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSAnUmVnRXhwJzpcblx0XHRcdFx0XHRcdGh5ZHJhdGVkW2luZGV4XSA9IG5ldyBSZWdFeHAodmFsdWVbMV0sIHZhbHVlWzJdKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSAnT2JqZWN0Jzpcblx0XHRcdFx0XHRcdGh5ZHJhdGVkW2luZGV4XSA9IE9iamVjdCh2YWx1ZVsxXSk7XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgJ0JpZ0ludCc6XG5cdFx0XHRcdFx0XHRoeWRyYXRlZFtpbmRleF0gPSBCaWdJbnQodmFsdWVbMV0pO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlICdudWxsJzpcblx0XHRcdFx0XHRcdGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdFx0XHRcdFx0XHRoeWRyYXRlZFtpbmRleF0gPSBvYmo7XG5cdFx0XHRcdFx0XHRmb3IgKGxldCBpID0gMTsgaSA8IHZhbHVlLmxlbmd0aDsgaSArPSAyKSB7XG5cdFx0XHRcdFx0XHRcdG9ialt2YWx1ZVtpXV0gPSBoeWRyYXRlKHZhbHVlW2kgKyAxXSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gdHlwZSAke3R5cGV9YCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGFycmF5ID0gbmV3IEFycmF5KHZhbHVlLmxlbmd0aCk7XG5cdFx0XHRcdGh5ZHJhdGVkW2luZGV4XSA9IGFycmF5O1xuXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHRjb25zdCBuID0gdmFsdWVbaV07XG5cdFx0XHRcdFx0aWYgKG4gPT09IEhPTEUpIGNvbnRpbnVlO1xuXG5cdFx0XHRcdFx0YXJyYXlbaV0gPSBoeWRyYXRlKG4pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gKi9cblx0XHRcdGNvbnN0IG9iamVjdCA9IHt9O1xuXHRcdFx0aHlkcmF0ZWRbaW5kZXhdID0gb2JqZWN0O1xuXG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZSkge1xuXHRcdFx0XHRjb25zdCBuID0gdmFsdWVba2V5XTtcblx0XHRcdFx0b2JqZWN0W2tleV0gPSBoeWRyYXRlKG4pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBoeWRyYXRlZFtpbmRleF07XG5cdH1cblxuXHRyZXR1cm4gaHlkcmF0ZSgwKTtcbn1cbiIsIi8qKlxuICogQHBhcmFtIHtTZXQ8c3RyaW5nPn0gZXhwZWN0ZWRcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdG9yKGV4cGVjdGVkKSB7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge2FueX0gbW9kdWxlXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBbZmlsZV1cblx0ICovXG5cdGZ1bmN0aW9uIHZhbGlkYXRlKG1vZHVsZSwgZmlsZSkge1xuXHRcdGlmICghbW9kdWxlKSByZXR1cm47XG5cblx0XHRmb3IgKGNvbnN0IGtleSBpbiBtb2R1bGUpIHtcblx0XHRcdGlmIChrZXlbMF0gPT09ICdfJyB8fCBleHBlY3RlZC5oYXMoa2V5KSkgY29udGludWU7IC8vIGtleSBpcyB2YWxpZCBpbiB0aGlzIG1vZHVsZVxuXG5cdFx0XHRjb25zdCB2YWx1ZXMgPSBbLi4uZXhwZWN0ZWQudmFsdWVzKCldO1xuXG5cdFx0XHRjb25zdCBoaW50ID1cblx0XHRcdFx0aGludF9mb3Jfc3VwcG9ydGVkX2ZpbGVzKGtleSwgZmlsZT8uc2xpY2UoZmlsZS5sYXN0SW5kZXhPZignLicpKSkgPz9cblx0XHRcdFx0YHZhbGlkIGV4cG9ydHMgYXJlICR7dmFsdWVzLmpvaW4oJywgJyl9LCBvciBhbnl0aGluZyB3aXRoIGEgJ18nIHByZWZpeGA7XG5cblx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBleHBvcnQgJyR7a2V5fScke2ZpbGUgPyBgIGluICR7ZmlsZX1gIDogJyd9ICgke2hpbnR9KWApO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB2YWxpZGF0ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKiBAcGFyYW0ge3N0cmluZ30gZXh0XG4gKiBAcmV0dXJucyB7c3RyaW5nIHwgdm9pZH1cbiAqL1xuZnVuY3Rpb24gaGludF9mb3Jfc3VwcG9ydGVkX2ZpbGVzKGtleSwgZXh0ID0gJy5qcycpIHtcblx0Y29uc3Qgc3VwcG9ydGVkX2ZpbGVzID0gW107XG5cblx0aWYgKHZhbGlkX2xheW91dF9leHBvcnRzLmhhcyhrZXkpKSB7XG5cdFx0c3VwcG9ydGVkX2ZpbGVzLnB1c2goYCtsYXlvdXQke2V4dH1gKTtcblx0fVxuXG5cdGlmICh2YWxpZF9wYWdlX2V4cG9ydHMuaGFzKGtleSkpIHtcblx0XHRzdXBwb3J0ZWRfZmlsZXMucHVzaChgK3BhZ2Uke2V4dH1gKTtcblx0fVxuXG5cdGlmICh2YWxpZF9sYXlvdXRfc2VydmVyX2V4cG9ydHMuaGFzKGtleSkpIHtcblx0XHRzdXBwb3J0ZWRfZmlsZXMucHVzaChgK2xheW91dC5zZXJ2ZXIke2V4dH1gKTtcblx0fVxuXG5cdGlmICh2YWxpZF9wYWdlX3NlcnZlcl9leHBvcnRzLmhhcyhrZXkpKSB7XG5cdFx0c3VwcG9ydGVkX2ZpbGVzLnB1c2goYCtwYWdlLnNlcnZlciR7ZXh0fWApO1xuXHR9XG5cblx0aWYgKHZhbGlkX3NlcnZlcl9leHBvcnRzLmhhcyhrZXkpKSB7XG5cdFx0c3VwcG9ydGVkX2ZpbGVzLnB1c2goYCtzZXJ2ZXIke2V4dH1gKTtcblx0fVxuXG5cdGlmIChzdXBwb3J0ZWRfZmlsZXMubGVuZ3RoID4gMCkge1xuXHRcdHJldHVybiBgJyR7a2V5fScgaXMgYSB2YWxpZCBleHBvcnQgaW4gJHtzdXBwb3J0ZWRfZmlsZXMuc2xpY2UoMCwgLTEpLmpvaW4oJywgJyl9JHtcblx0XHRcdHN1cHBvcnRlZF9maWxlcy5sZW5ndGggPiAxID8gJyBvciAnIDogJydcblx0XHR9JHtzdXBwb3J0ZWRfZmlsZXMuYXQoLTEpfWA7XG5cdH1cbn1cblxuY29uc3QgdmFsaWRfbGF5b3V0X2V4cG9ydHMgPSBuZXcgU2V0KFtcblx0J2xvYWQnLFxuXHQncHJlcmVuZGVyJyxcblx0J2NzcicsXG5cdCdzc3InLFxuXHQndHJhaWxpbmdTbGFzaCcsXG5cdCdjb25maWcnXG5dKTtcbmNvbnN0IHZhbGlkX3BhZ2VfZXhwb3J0cyA9IG5ldyBTZXQoWy4uLnZhbGlkX2xheW91dF9leHBvcnRzLCAnZW50cmllcyddKTtcbmNvbnN0IHZhbGlkX2xheW91dF9zZXJ2ZXJfZXhwb3J0cyA9IG5ldyBTZXQoWy4uLnZhbGlkX2xheW91dF9leHBvcnRzXSk7XG5jb25zdCB2YWxpZF9wYWdlX3NlcnZlcl9leHBvcnRzID0gbmV3IFNldChbLi4udmFsaWRfbGF5b3V0X3NlcnZlcl9leHBvcnRzLCAnYWN0aW9ucycsICdlbnRyaWVzJ10pO1xuY29uc3QgdmFsaWRfc2VydmVyX2V4cG9ydHMgPSBuZXcgU2V0KFtcblx0J0dFVCcsXG5cdCdQT1NUJyxcblx0J1BBVENIJyxcblx0J1BVVCcsXG5cdCdERUxFVEUnLFxuXHQnT1BUSU9OUycsXG5cdCdIRUFEJyxcblx0J2ZhbGxiYWNrJyxcblx0J3ByZXJlbmRlcicsXG5cdCd0cmFpbGluZ1NsYXNoJyxcblx0J2NvbmZpZycsXG5cdCdlbnRyaWVzJ1xuXSk7XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZV9sYXlvdXRfZXhwb3J0cyA9IHZhbGlkYXRvcih2YWxpZF9sYXlvdXRfZXhwb3J0cyk7XG5leHBvcnQgY29uc3QgdmFsaWRhdGVfcGFnZV9leHBvcnRzID0gdmFsaWRhdG9yKHZhbGlkX3BhZ2VfZXhwb3J0cyk7XG5leHBvcnQgY29uc3QgdmFsaWRhdGVfbGF5b3V0X3NlcnZlcl9leHBvcnRzID0gdmFsaWRhdG9yKHZhbGlkX2xheW91dF9zZXJ2ZXJfZXhwb3J0cyk7XG5leHBvcnQgY29uc3QgdmFsaWRhdGVfcGFnZV9zZXJ2ZXJfZXhwb3J0cyA9IHZhbGlkYXRvcih2YWxpZF9wYWdlX3NlcnZlcl9leHBvcnRzKTtcbmV4cG9ydCBjb25zdCB2YWxpZGF0ZV9zZXJ2ZXJfZXhwb3J0cyA9IHZhbGlkYXRvcih2YWxpZF9zZXJ2ZXJfZXhwb3J0cyk7XG4iLCIvKipcbiAqIFJlbW92ZXMgbnVsbGlzaCB2YWx1ZXMgZnJvbSBhbiBhcnJheS5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtBcnJheTxUPn0gYXJyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wYWN0KGFycikge1xuXHRyZXR1cm4gYXJyLmZpbHRlcigvKiogQHJldHVybnMge3ZhbCBpcyBOb25OdWxsYWJsZTxUPn0gKi8gKHZhbCkgPT4gdmFsICE9IG51bGwpO1xufVxuIiwiZXhwb3J0IGNsYXNzIEh0dHBFcnJvciB7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge251bWJlcn0gc3RhdHVzXG5cdCAqIEBwYXJhbSB7e21lc3NhZ2U6IHN0cmluZ30gZXh0ZW5kcyBBcHAuRXJyb3IgPyAoQXBwLkVycm9yIHwgc3RyaW5nIHwgdW5kZWZpbmVkKSA6IEFwcC5FcnJvcn0gYm9keVxuXHQgKi9cblx0Y29uc3RydWN0b3Ioc3RhdHVzLCBib2R5KSB7XG5cdFx0dGhpcy5zdGF0dXMgPSBzdGF0dXM7XG5cdFx0aWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuXHRcdFx0dGhpcy5ib2R5ID0geyBtZXNzYWdlOiBib2R5IH07XG5cdFx0fSBlbHNlIGlmIChib2R5KSB7XG5cdFx0XHR0aGlzLmJvZHkgPSBib2R5O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmJvZHkgPSB7IG1lc3NhZ2U6IGBFcnJvcjogJHtzdGF0dXN9YCB9O1xuXHRcdH1cblx0fVxuXG5cdHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmJvZHkpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBSZWRpcmVjdCB7XG5cdC8qKlxuXHQgKiBAcGFyYW0gezMwMCB8IDMwMSB8IDMwMiB8IDMwMyB8IDMwNCB8IDMwNSB8IDMwNiB8IDMwNyB8IDMwOH0gc3RhdHVzXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvblxuXHQgKi9cblx0Y29uc3RydWN0b3Ioc3RhdHVzLCBsb2NhdGlvbikge1xuXHRcdHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuXHRcdHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcblx0fVxufVxuXG4vKipcbiAqIEFuIGVycm9yIHRoYXQgd2FzIHRocm93biBmcm9tIHdpdGhpbiB0aGUgU3ZlbHRlS2l0IHJ1bnRpbWUgdGhhdCBpcyBub3QgZmF0YWwgYW5kIGRvZXNuJ3QgcmVzdWx0IGluIGEgNTAwLCBzdWNoIGFzIGEgNDA0LlxuICogYFN2ZWx0ZUtpdEVycm9yYCBnb2VzIHRocm91Z2ggYGhhbmRsZUVycm9yYC5cbiAqIEBleHRlbmRzIEVycm9yXG4gKi9cbmV4cG9ydCBjbGFzcyBTdmVsdGVLaXRFcnJvciBleHRlbmRzIEVycm9yIHtcblx0LyoqXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBzdGF0dXNcblx0ICogQHBhcmFtIHtzdHJpbmd9IHRleHRcblx0ICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2Vcblx0ICovXG5cdGNvbnN0cnVjdG9yKHN0YXR1cywgdGV4dCwgbWVzc2FnZSkge1xuXHRcdHN1cGVyKG1lc3NhZ2UpO1xuXHRcdHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuXHRcdHRoaXMudGV4dCA9IHRleHQ7XG5cdH1cbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIHVua25vd24+IHwgdW5kZWZpbmVkfSBbVD11bmRlZmluZWRdXG4gKi9cbmV4cG9ydCBjbGFzcyBBY3Rpb25GYWlsdXJlIHtcblx0LyoqXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBzdGF0dXNcblx0ICogQHBhcmFtIHtUfSBkYXRhXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihzdGF0dXMsIGRhdGEpIHtcblx0XHR0aGlzLnN0YXR1cyA9IHN0YXR1cztcblx0XHR0aGlzLmRhdGEgPSBkYXRhO1xuXHR9XG59XG5cbi8qKlxuICogVGhpcyBpcyBhIGdyb3Rlc3F1ZSBoYWNrIHRoYXQsIGluIGRldiwgYWxsb3dzIHVzIHRvIHJlcGxhY2UgdGhlIGltcGxlbWVudGF0aW9uc1xuICogb2YgdGhlc2UgY2xhc3NlcyB0aGF0IHlvdSdkIGdldCBieSBpbXBvcnRpbmcgdGhlbSBmcm9tIGBAc3ZlbHRlanMva2l0YCB3aXRoIHRoZVxuICogb25lcyB0aGF0IGFyZSBpbXBvcnRlZCB2aWEgVml0ZSBhbmQgbG9hZGVkIGludGVybmFsbHksIHNvIHRoYXQgaW5zdGFuY2VvZlxuICogY2hlY2tzIHdvcmsgZXZlbiB0aG91Z2ggU3ZlbHRlS2l0IGltcG9ydHMgdGhpcyBtb2R1bGUgdmlhIFZpdGUgYW5kIGNvbnN1bWVyc1xuICogaW1wb3J0IGl0IHZpYSBOb2RlXG4gKiBAcGFyYW0ge3tcbiAqICAgQWN0aW9uRmFpbHVyZTogdHlwZW9mIEFjdGlvbkZhaWx1cmU7XG4gKiAgIEh0dHBFcnJvcjogdHlwZW9mIEh0dHBFcnJvcjtcbiAqICAgUmVkaXJlY3Q6IHR5cGVvZiBSZWRpcmVjdDtcbiAqICAgU3ZlbHRlS2l0RXJyb3I6IHR5cGVvZiBTdmVsdGVLaXRFcnJvcjtcbiAqIH19IGltcGxlbWVudGF0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZV9pbXBsZW1lbnRhdGlvbnMoaW1wbGVtZW50YXRpb25zKSB7XG5cdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0QWN0aW9uRmFpbHVyZSA9IGltcGxlbWVudGF0aW9ucy5BY3Rpb25GYWlsdXJlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNsYXNzLWFzc2lnblxuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdEh0dHBFcnJvciA9IGltcGxlbWVudGF0aW9ucy5IdHRwRXJyb3I7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY2xhc3MtYXNzaWduXG5cdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0UmVkaXJlY3QgPSBpbXBsZW1lbnRhdGlvbnMuUmVkaXJlY3Q7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY2xhc3MtYXNzaWduXG5cdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0U3ZlbHRlS2l0RXJyb3IgPSBpbXBsZW1lbnRhdGlvbnMuU3ZlbHRlS2l0RXJyb3I7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY2xhc3MtYXNzaWduXG59XG4iLCIvKipcbiAqIEBwYXJhbSB7c3RyaW5nfSByb3V0ZV9pZFxuICogQHBhcmFtIHtzdHJpbmd9IGRlcFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVfZGVwZW5kcyhyb3V0ZV9pZCwgZGVwKSB7XG5cdGNvbnN0IG1hdGNoID0gL14obW96LWljb258dmlldy1zb3VyY2V8amFyKTovLmV4ZWMoZGVwKTtcblx0aWYgKG1hdGNoKSB7XG5cdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0YCR7cm91dGVfaWR9OiBDYWxsaW5nIFxcYGRlcGVuZHMoJyR7ZGVwfScpXFxgIHdpbGwgdGhyb3cgYW4gZXJyb3IgaW4gRmlyZWZveCBiZWNhdXNlIFxcYCR7bWF0Y2hbMV19XFxgIGlzIGEgc3BlY2lhbCBVUkkgc2NoZW1lYFxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGNvbnN0IElOVkFMSURBVEVEX1BBUkFNID0gJ3gtc3ZlbHRla2l0LWludmFsaWRhdGVkJztcblxuZXhwb3J0IGNvbnN0IFRSQUlMSU5HX1NMQVNIX1BBUkFNID0gJ3gtc3ZlbHRla2l0LXRyYWlsaW5nLXNsYXNoJztcbiIsImltcG9ydCB7IEh0dHBFcnJvciwgU3ZlbHRlS2l0RXJyb3IgfSBmcm9tICcuLi9ydW50aW1lL2NvbnRyb2wuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7dW5rbm93bn0gZXJyXG4gKiBAcmV0dXJuIHtFcnJvcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvYWxlc2NlX3RvX2Vycm9yKGVycikge1xuXHRyZXR1cm4gZXJyIGluc3RhbmNlb2YgRXJyb3IgfHxcblx0XHQoZXJyICYmIC8qKiBAdHlwZSB7YW55fSAqLyAoZXJyKS5uYW1lICYmIC8qKiBAdHlwZSB7YW55fSAqLyAoZXJyKS5tZXNzYWdlKVxuXHRcdD8gLyoqIEB0eXBlIHtFcnJvcn0gKi8gKGVycilcblx0XHQ6IG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeShlcnIpKTtcbn1cblxuLyoqXG4gKiBUaGlzIGlzIGFuIGlkZW50aXR5IGZ1bmN0aW9uIHRoYXQgZXhpc3RzIHRvIG1ha2UgVHlwZVNjcmlwdCBsZXNzXG4gKiBwYXJhbm9pZCBhYm91dCBwZW9wbGUgdGhyb3dpbmcgdGhpbmdzIHRoYXQgYXJlbid0IGVycm9ycywgd2hpY2hcbiAqIGZyYW5rbHkgaXMgbm90IHNvbWV0aGluZyB3ZSBzaG91bGQgY2FyZSBhYm91dFxuICogQHBhcmFtIHt1bmtub3dufSBlcnJvclxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplX2Vycm9yKGVycm9yKSB7XG5cdHJldHVybiAvKiogQHR5cGUge2ltcG9ydCgnLi4vcnVudGltZS9jb250cm9sLmpzJykuUmVkaXJlY3QgfCBIdHRwRXJyb3IgfCBTdmVsdGVLaXRFcnJvciB8IEVycm9yfSAqLyAoXG5cdFx0ZXJyb3Jcblx0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3Vua25vd259IGVycm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfc3RhdHVzKGVycm9yKSB7XG5cdHJldHVybiBlcnJvciBpbnN0YW5jZW9mIEh0dHBFcnJvciB8fCBlcnJvciBpbnN0YW5jZW9mIFN2ZWx0ZUtpdEVycm9yID8gZXJyb3Iuc3RhdHVzIDogNTAwO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dW5rbm93bn0gZXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9tZXNzYWdlKGVycm9yKSB7XG5cdHJldHVybiBlcnJvciBpbnN0YW5jZW9mIFN2ZWx0ZUtpdEVycm9yID8gZXJyb3IudGV4dCA6ICdJbnRlcm5hbCBFcnJvcic7XG59XG4iLCJpbXBvcnQgeyBCUk9XU0VSLCBERVYgfSBmcm9tICdlc20tZW52JztcbmltcG9ydCB7IG9uTW91bnQsIHRpY2sgfSBmcm9tICdzdmVsdGUnO1xuaW1wb3J0IHtcblx0YWRkX2RhdGFfc3VmZml4LFxuXHRkZWNvZGVfcGFyYW1zLFxuXHRkZWNvZGVfcGF0aG5hbWUsXG5cdHN0cmlwX2hhc2gsXG5cdG1ha2VfdHJhY2thYmxlLFxuXHRub3JtYWxpemVfcGF0aFxufSBmcm9tICcuLi8uLi91dGlscy91cmwuanMnO1xuaW1wb3J0IHtcblx0aW5pdGlhbF9mZXRjaCxcblx0bG9ja19mZXRjaCxcblx0bmF0aXZlX2ZldGNoLFxuXHRzdWJzZXF1ZW50X2ZldGNoLFxuXHR1bmxvY2tfZmV0Y2hcbn0gZnJvbSAnLi9mZXRjaGVyLmpzJztcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSAnLi9wYXJzZS5qcyc7XG5pbXBvcnQgKiBhcyBzdG9yYWdlIGZyb20gJy4vc2Vzc2lvbi1zdG9yYWdlLmpzJztcbmltcG9ydCB7XG5cdGZpbmRfYW5jaG9yLFxuXHRyZXNvbHZlX3VybCxcblx0Z2V0X2xpbmtfaW5mbyxcblx0Z2V0X3JvdXRlcl9vcHRpb25zLFxuXHRpc19leHRlcm5hbF91cmwsXG5cdG9yaWdpbixcblx0c2Nyb2xsX3N0YXRlLFxuXHRub3RpZmlhYmxlX3N0b3JlLFxuXHRjcmVhdGVfdXBkYXRlZF9zdG9yZVxufSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IGJhc2UgfSBmcm9tICdfX3N2ZWx0ZWtpdC9wYXRocyc7XG5pbXBvcnQgKiBhcyBkZXZhbHVlIGZyb20gJ2RldmFsdWUnO1xuaW1wb3J0IHtcblx0SElTVE9SWV9JTkRFWCxcblx0TkFWSUdBVElPTl9JTkRFWCxcblx0UFJFTE9BRF9QUklPUklUSUVTLFxuXHRTQ1JPTExfS0VZLFxuXHRTVEFURVNfS0VZLFxuXHRTTkFQU0hPVF9LRVksXG5cdFBBR0VfVVJMX0tFWVxufSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyB2YWxpZGF0ZV9wYWdlX2V4cG9ydHMgfSBmcm9tICcuLi8uLi91dGlscy9leHBvcnRzLmpzJztcbmltcG9ydCB7IGNvbXBhY3QgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBIdHRwRXJyb3IsIFJlZGlyZWN0LCBTdmVsdGVLaXRFcnJvciB9IGZyb20gJy4uL2NvbnRyb2wuanMnO1xuaW1wb3J0IHsgSU5WQUxJREFURURfUEFSQU0sIFRSQUlMSU5HX1NMQVNIX1BBUkFNLCB2YWxpZGF0ZV9kZXBlbmRzIH0gZnJvbSAnLi4vc2hhcmVkLmpzJztcbmltcG9ydCB7IGdldF9tZXNzYWdlLCBnZXRfc3RhdHVzIH0gZnJvbSAnLi4vLi4vdXRpbHMvZXJyb3IuanMnO1xuaW1wb3J0IHsgd3JpdGFibGUgfSBmcm9tICdzdmVsdGUvc3RvcmUnO1xuXG5sZXQgZXJyb3JlZCA9IGZhbHNlO1xuXG4vLyBXZSB0cmFjayB0aGUgc2Nyb2xsIHBvc2l0aW9uIGFzc29jaWF0ZWQgd2l0aCBlYWNoIGhpc3RvcnkgZW50cnkgaW4gc2Vzc2lvblN0b3JhZ2UsXG4vLyByYXRoZXIgdGhhbiBvbiBoaXN0b3J5LnN0YXRlIGl0c2VsZiwgYmVjYXVzZSB3aGVuIG5hdmlnYXRpb24gaXMgZHJpdmVuIGJ5XG4vLyBwb3BzdGF0ZSBpdCdzIHRvbyBsYXRlIHRvIHVwZGF0ZSB0aGUgc2Nyb2xsIHBvc2l0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGVcbi8vIHN0YXRlIHdlJ3JlIG5hdmlnYXRpbmcgZnJvbVxuLyoqXG4gKiBoaXN0b3J5IGluZGV4IC0+IHsgeCwgeSB9XG4gKiBAdHlwZSB7UmVjb3JkPG51bWJlciwgeyB4OiBudW1iZXI7IHk6IG51bWJlciB9Pn1cbiAqL1xuY29uc3Qgc2Nyb2xsX3Bvc2l0aW9ucyA9IHN0b3JhZ2UuZ2V0KFNDUk9MTF9LRVkpID8/IHt9O1xuXG4vKipcbiAqIG5hdmlnYXRpb24gaW5kZXggLT4gYW55XG4gKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgYW55W10+fVxuICovXG5jb25zdCBzbmFwc2hvdHMgPSBzdG9yYWdlLmdldChTTkFQU0hPVF9LRVkpID8/IHt9O1xuXG5pZiAoREVWICYmIEJST1dTRVIpIHtcblx0bGV0IHdhcm5lZCA9IGZhbHNlO1xuXG5cdGNvbnN0IGN1cnJlbnRfbW9kdWxlX3VybCA9IGltcG9ydC5tZXRhLnVybC5zcGxpdCgnPycpWzBdOyAvLyByZW1vdmUgcXVlcnkgcGFyYW1zIHRoYXQgdml0ZSBhZGRzIHRvIHRoZSBVUkwgd2hlbiBpdCBpcyBsb2FkZWQgZnJvbSBub2RlX21vZHVsZXNcblxuXHRjb25zdCB3YXJuID0gKCkgPT4ge1xuXHRcdGlmICh3YXJuZWQpIHJldHVybjtcblxuXHRcdC8vIFJhdGhlciB0aGFuIHNhdmluZyBhIHBvaW50ZXIgdG8gdGhlIG9yaWdpbmFsIGhpc3RvcnkgbWV0aG9kcywgd2hpY2ggd291bGQgcHJldmVudCBtb25rZXlwYXRjaGluZyBieSBvdGhlciBsaWJzLFxuXHRcdC8vIGluc3BlY3QgdGhlIHN0YWNrIHRyYWNlIHRvIHNlZSBpZiB3ZSdyZSBiZWluZyBjYWxsZWQgZnJvbSB3aXRoaW4gU3ZlbHRlS2l0LlxuXHRcdGxldCBzdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrPy5zcGxpdCgnXFxuJyk7XG5cdFx0aWYgKCFzdGFjaykgcmV0dXJuO1xuXHRcdGlmICghc3RhY2tbMF0uaW5jbHVkZXMoJ2h0dHBzOicpICYmICFzdGFja1swXS5pbmNsdWRlcygnaHR0cDonKSkgc3RhY2sgPSBzdGFjay5zbGljZSgxKTsgLy8gQ2hyb21lIGluY2x1ZGVzIHRoZSBlcnJvciBtZXNzYWdlIGluIHRoZSBzdGFja1xuXHRcdHN0YWNrID0gc3RhY2suc2xpY2UoMik7IC8vIHJlbW92ZSBgd2FybmAgYW5kIHRoZSBwbGFjZSB3aGVyZSBgd2FybmAgd2FzIGNhbGxlZFxuXHRcdC8vIENhbiBiZSBmYWxzeSBpZiB3YXMgY2FsbGVkIGRpcmVjdGx5IGZyb20gYW4gYW5vbnltb3VzIGZ1bmN0aW9uXG5cdFx0aWYgKHN0YWNrWzBdPy5pbmNsdWRlcyhjdXJyZW50X21vZHVsZV91cmwpKSByZXR1cm47XG5cblx0XHR3YXJuZWQgPSB0cnVlO1xuXG5cdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XCJBdm9pZCB1c2luZyBgaGlzdG9yeS5wdXNoU3RhdGUoLi4uKWAgYW5kIGBoaXN0b3J5LnJlcGxhY2VTdGF0ZSguLi4pYCBhcyB0aGVzZSB3aWxsIGNvbmZsaWN0IHdpdGggU3ZlbHRlS2l0J3Mgcm91dGVyLiBVc2UgdGhlIGBwdXNoU3RhdGVgIGFuZCBgcmVwbGFjZVN0YXRlYCBpbXBvcnRzIGZyb20gYCRhcHAvbmF2aWdhdGlvbmAgaW5zdGVhZC5cIlxuXHRcdCk7XG5cdH07XG5cblx0Y29uc3QgcHVzaF9zdGF0ZSA9IGhpc3RvcnkucHVzaFN0YXRlO1xuXHRoaXN0b3J5LnB1c2hTdGF0ZSA9ICguLi5hcmdzKSA9PiB7XG5cdFx0d2FybigpO1xuXHRcdHJldHVybiBwdXNoX3N0YXRlLmFwcGx5KGhpc3RvcnksIGFyZ3MpO1xuXHR9O1xuXG5cdGNvbnN0IHJlcGxhY2Vfc3RhdGUgPSBoaXN0b3J5LnJlcGxhY2VTdGF0ZTtcblx0aGlzdG9yeS5yZXBsYWNlU3RhdGUgPSAoLi4uYXJncykgPT4ge1xuXHRcdHdhcm4oKTtcblx0XHRyZXR1cm4gcmVwbGFjZV9zdGF0ZS5hcHBseShoaXN0b3J5LCBhcmdzKTtcblx0fTtcbn1cblxuZXhwb3J0IGNvbnN0IHN0b3JlcyA9IHtcblx0dXJsOiAvKiBAX19QVVJFX18gKi8gbm90aWZpYWJsZV9zdG9yZSh7fSksXG5cdHBhZ2U6IC8qIEBfX1BVUkVfXyAqLyBub3RpZmlhYmxlX3N0b3JlKHt9KSxcblx0bmF2aWdhdGluZzogLyogQF9fUFVSRV9fICovIHdyaXRhYmxlKFxuXHRcdC8qKiBAdHlwZSB7aW1wb3J0KCdAc3ZlbHRlanMva2l0JykuTmF2aWdhdGlvbiB8IG51bGx9ICovIChudWxsKVxuXHQpLFxuXHR1cGRhdGVkOiAvKiBAX19QVVJFX18gKi8gY3JlYXRlX3VwZGF0ZWRfc3RvcmUoKVxufTtcblxuLyoqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAqL1xuZnVuY3Rpb24gdXBkYXRlX3Njcm9sbF9wb3NpdGlvbnMoaW5kZXgpIHtcblx0c2Nyb2xsX3Bvc2l0aW9uc1tpbmRleF0gPSBzY3JvbGxfc3RhdGUoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gY3VycmVudF9oaXN0b3J5X2luZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gY3VycmVudF9uYXZpZ2F0aW9uX2luZGV4XG4gKi9cbmZ1bmN0aW9uIGNsZWFyX29ud2FyZF9oaXN0b3J5KGN1cnJlbnRfaGlzdG9yeV9pbmRleCwgY3VycmVudF9uYXZpZ2F0aW9uX2luZGV4KSB7XG5cdC8vIGlmIHdlIG5hdmlnYXRlZCBiYWNrLCB0aGVuIHB1c2hlZCBhIG5ldyBzdGF0ZSwgd2UgY2FuXG5cdC8vIHJlbGVhc2UgbWVtb3J5IGJ5IHBydW5pbmcgdGhlIHNjcm9sbC9zbmFwc2hvdCBsb29rdXBcblx0bGV0IGkgPSBjdXJyZW50X2hpc3RvcnlfaW5kZXggKyAxO1xuXHR3aGlsZSAoc2Nyb2xsX3Bvc2l0aW9uc1tpXSkge1xuXHRcdGRlbGV0ZSBzY3JvbGxfcG9zaXRpb25zW2ldO1xuXHRcdGkgKz0gMTtcblx0fVxuXG5cdGkgPSBjdXJyZW50X25hdmlnYXRpb25faW5kZXggKyAxO1xuXHR3aGlsZSAoc25hcHNob3RzW2ldKSB7XG5cdFx0ZGVsZXRlIHNuYXBzaG90c1tpXTtcblx0XHRpICs9IDE7XG5cdH1cbn1cblxuLyoqXG4gKiBMb2FkcyBgaHJlZmAgdGhlIG9sZC1mYXNoaW9uZWQgd2F5LCB3aXRoIGEgZnVsbCBwYWdlIHJlbG9hZC5cbiAqIFJldHVybnMgYSBgUHJvbWlzZWAgdGhhdCBuZXZlciByZXNvbHZlcyAodG8gcHJldmVudCBhbnlcbiAqIHN1YnNlcXVlbnQgd29yaywgZS5nLiBoaXN0b3J5IG1hbmlwdWxhdGlvbiwgZnJvbSBoYXBwZW5pbmcpXG4gKiBAcGFyYW0ge1VSTH0gdXJsXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZV9uYXZpZ2F0aW9uKHVybCkge1xuXHRsb2NhdGlvbi5ocmVmID0gdXJsLmhyZWY7XG5cdHJldHVybiBuZXcgUHJvbWlzZSgoKSA9PiB7fSk7XG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4vKiogQHR5cGUge2ltcG9ydCgndHlwZXMnKS5DU1JSb3V0ZVtdfSAqL1xubGV0IHJvdXRlcztcbi8qKiBAdHlwZSB7aW1wb3J0KCd0eXBlcycpLkNTUlBhZ2VOb2RlTG9hZGVyfSAqL1xubGV0IGRlZmF1bHRfbGF5b3V0X2xvYWRlcjtcbi8qKiBAdHlwZSB7aW1wb3J0KCd0eXBlcycpLkNTUlBhZ2VOb2RlTG9hZGVyfSAqL1xubGV0IGRlZmF1bHRfZXJyb3JfbG9hZGVyO1xuLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi9cbmxldCBjb250YWluZXI7XG4vKiogQHR5cGUge0hUTUxFbGVtZW50fSAqL1xubGV0IHRhcmdldDtcbi8qKiBAdHlwZSB7aW1wb3J0KCcuL3R5cGVzLmpzJykuU3ZlbHRlS2l0QXBwfSAqL1xubGV0IGFwcDtcblxuLyoqIEB0eXBlIHtBcnJheTwoKHVybDogVVJMKSA9PiBib29sZWFuKT59ICovXG5jb25zdCBpbnZhbGlkYXRlZCA9IFtdO1xuXG4vKipcbiAqIEFuIGFycmF5IG9mIHRoZSBgK2xheW91dC5zdmVsdGVgIGFuZCBgK3BhZ2Uuc3ZlbHRlYCBjb21wb25lbnQgaW5zdGFuY2VzXG4gKiB0aGF0IGN1cnJlbnRseSBsaXZlIG9uIHRoZSBwYWdlIOKAlCB1c2VkIGZvciBjYXB0dXJpbmcgYW5kIHJlc3RvcmluZyBzbmFwc2hvdHMuXG4gKiBJdCdzIHVwZGF0ZWQvbWFuaXB1bGF0ZWQgdGhyb3VnaCBgYmluZDp0aGlzYCBpbiBgUm9vdC5zdmVsdGVgLlxuICogQHR5cGUge2ltcG9ydCgnc3ZlbHRlJykuU3ZlbHRlQ29tcG9uZW50W119XG4gKi9cbmNvbnN0IGNvbXBvbmVudHMgPSBbXTtcblxuLyoqIEB0eXBlIHt7aWQ6IHN0cmluZywgdG9rZW46IHt9LCBwcm9taXNlOiBQcm9taXNlPGltcG9ydCgnLi90eXBlcy5qcycpLk5hdmlnYXRpb25SZXN1bHQ+fSB8IG51bGx9ICovXG5sZXQgbG9hZF9jYWNoZSA9IG51bGw7XG5cbi8qKiBAdHlwZSB7QXJyYXk8KG5hdmlnYXRpb246IGltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLkJlZm9yZU5hdmlnYXRlKSA9PiB2b2lkPn0gKi9cbmNvbnN0IGJlZm9yZV9uYXZpZ2F0ZV9jYWxsYmFja3MgPSBbXTtcblxuLyoqIEB0eXBlIHtBcnJheTwobmF2aWdhdGlvbjogaW1wb3J0KCdAc3ZlbHRlanMva2l0JykuT25OYXZpZ2F0ZSkgPT4gaW1wb3J0KCd0eXBlcycpLk1heWJlUHJvbWlzZTwoKCkgPT4gdm9pZCkgfCB2b2lkPj59ICovXG5jb25zdCBvbl9uYXZpZ2F0ZV9jYWxsYmFja3MgPSBbXTtcblxuLyoqIEB0eXBlIHtBcnJheTwobmF2aWdhdGlvbjogaW1wb3J0KCdAc3ZlbHRlanMva2l0JykuQWZ0ZXJOYXZpZ2F0ZSkgPT4gdm9pZD59ICovXG5sZXQgYWZ0ZXJfbmF2aWdhdGVfY2FsbGJhY2tzID0gW107XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL3R5cGVzLmpzJykuTmF2aWdhdGlvblN0YXRlfSAqL1xubGV0IGN1cnJlbnQgPSB7XG5cdGJyYW5jaDogW10sXG5cdGVycm9yOiBudWxsLFxuXHQvLyBAdHMtaWdub3JlIC0gd2UgbmVlZCB0aGUgaW5pdGlhbCB2YWx1ZSB0byBiZSBudWxsXG5cdHVybDogbnVsbFxufTtcblxuLyoqIHRoaXMgYmVpbmcgdHJ1ZSBtZWFucyB3ZSBTU1InZCAqL1xubGV0IGh5ZHJhdGVkID0gZmFsc2U7XG5sZXQgc3RhcnRlZCA9IGZhbHNlO1xubGV0IGF1dG9zY3JvbGwgPSB0cnVlO1xubGV0IHVwZGF0aW5nID0gZmFsc2U7XG5sZXQgbmF2aWdhdGluZyA9IGZhbHNlO1xubGV0IGhhc2hfbmF2aWdhdGluZyA9IGZhbHNlO1xuLyoqIFRydWUgYXMgc29vbiBhcyB0aGVyZSBoYXBwZW5lZCBvbmUgY2xpZW50LXNpZGUgbmF2aWdhdGlvbiAoZXhjbHVkaW5nIHRoZSBTdmVsdGVLaXQtaW5pdGlhbGl6ZWQgaW5pdGlhbCBvbmUgd2hlbiBpbiBTUEEgbW9kZSkgKi9cbmxldCBoYXNfbmF2aWdhdGVkID0gZmFsc2U7XG5cbmxldCBmb3JjZV9pbnZhbGlkYXRpb24gPSBmYWxzZTtcblxuLyoqIEB0eXBlIHtpbXBvcnQoJ3N2ZWx0ZScpLlN2ZWx0ZUNvbXBvbmVudH0gKi9cbmxldCByb290O1xuXG4vKiogQHR5cGUge251bWJlcn0ga2VlcGluZyB0cmFjayBvZiB0aGUgaGlzdG9yeSBpbmRleCBpbiBvcmRlciB0byBwcmV2ZW50IHBvcHN0YXRlIG5hdmlnYXRpb24gZXZlbnRzIGlmIG5lZWRlZCAqL1xubGV0IGN1cnJlbnRfaGlzdG9yeV9pbmRleDtcblxuLyoqIEB0eXBlIHtudW1iZXJ9ICovXG5sZXQgY3VycmVudF9uYXZpZ2F0aW9uX2luZGV4O1xuXG4vKiogQHR5cGUge2ltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLlBhZ2V9ICovXG5sZXQgcGFnZTtcblxuLyoqIEB0eXBlIHt7fX0gKi9cbmxldCB0b2tlbjtcblxuLyoqXG4gKiBBIHNldCBvZiB0b2tlbnMgd2hpY2ggYXJlIGFzc29jaWF0ZWQgdG8gY3VycmVudCBwcmVsb2Fkcy5cbiAqIElmIGEgcHJlbG9hZCBiZWNvbWVzIGEgcmVhbCBuYXZpZ2F0aW9uLCBpdCdzIHJlbW92ZWQgZnJvbSB0aGUgc2V0LlxuICogSWYgYSBwcmVsb2FkIHRva2VuIGlzIGluIHRoZSBzZXQgYW5kIHRoZSBwcmVsb2FkIGVycm9ycywgdGhlIGVycm9yXG4gKiBoYW5kbGluZyBsb2dpYyAoZm9yIGV4YW1wbGUgcmVsb2FkaW5nKSBpcyBza2lwcGVkLlxuICovXG5jb25zdCBwcmVsb2FkX3Rva2VucyA9IG5ldyBTZXQoKTtcblxuLyoqIEB0eXBlIHtQcm9taXNlPHZvaWQ+IHwgbnVsbH0gKi9cbmxldCBwZW5kaW5nX2ludmFsaWRhdGU7XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vdHlwZXMuanMnKS5TdmVsdGVLaXRBcHB9IF9hcHBcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IF90YXJnZXRcbiAqIEBwYXJhbSB7UGFyYW1ldGVyczx0eXBlb2YgX2h5ZHJhdGU+WzFdfSBbaHlkcmF0ZV1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0YXJ0KF9hcHAsIF90YXJnZXQsIGh5ZHJhdGUpIHtcblx0aWYgKERFViAmJiBfdGFyZ2V0ID09PSBkb2N1bWVudC5ib2R5KSB7XG5cdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0J1BsYWNpbmcgJXN2ZWx0ZWtpdC5ib2R5JSBkaXJlY3RseSBpbnNpZGUgPGJvZHk+IGlzIG5vdCByZWNvbW1lbmRlZCwgYXMgeW91ciBhcHAgbWF5IGJyZWFrIGZvciB1c2VycyB3aG8gaGF2ZSBjZXJ0YWluIGJyb3dzZXIgZXh0ZW5zaW9ucyBpbnN0YWxsZWQuXFxuXFxuQ29uc2lkZXIgd3JhcHBpbmcgaXQgaW4gYW4gZWxlbWVudDpcXG5cXG48ZGl2IHN0eWxlPVwiZGlzcGxheTogY29udGVudHNcIj5cXG4gICVzdmVsdGVraXQuYm9keSVcXG48L2Rpdj4nXG5cdFx0KTtcblx0fVxuXG5cdC8vIGRldGVjdCBiYXNpYyBhdXRoIGNyZWRlbnRpYWxzIGluIHRoZSBjdXJyZW50IFVSTFxuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMva2l0L3B1bGwvMTExNzlcblx0Ly8gaWYgc28sIHJlZnJlc2ggdGhlIHBhZ2Ugd2l0aG91dCBjcmVkZW50aWFsc1xuXHRpZiAoZG9jdW1lbnQuVVJMICE9PSBsb2NhdGlvbi5ocmVmKSB7XG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtYXNzaWduXG5cdFx0bG9jYXRpb24uaHJlZiA9IGxvY2F0aW9uLmhyZWY7XG5cdH1cblxuXHRhcHAgPSBfYXBwO1xuXHRyb3V0ZXMgPSBwYXJzZShfYXBwKTtcblx0Y29udGFpbmVyID0gX19TVkVMVEVLSVRfRU1CRURERURfXyA/IF90YXJnZXQgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdHRhcmdldCA9IF90YXJnZXQ7XG5cblx0Ly8gd2UgaW1wb3J0IHRoZSByb290IGxheW91dC9lcnJvciBub2RlcyBlYWdlcmx5LCBzbyB0aGF0XG5cdC8vIGNvbm5lY3Rpdml0eSBlcnJvcnMgYWZ0ZXIgaW5pdGlhbGlzYXRpb24gZG9uJ3QgbnVrZSB0aGUgYXBwXG5cdGRlZmF1bHRfbGF5b3V0X2xvYWRlciA9IF9hcHAubm9kZXNbMF07XG5cdGRlZmF1bHRfZXJyb3JfbG9hZGVyID0gX2FwcC5ub2Rlc1sxXTtcblx0ZGVmYXVsdF9sYXlvdXRfbG9hZGVyKCk7XG5cdGRlZmF1bHRfZXJyb3JfbG9hZGVyKCk7XG5cblx0Y3VycmVudF9oaXN0b3J5X2luZGV4ID0gaGlzdG9yeS5zdGF0ZT8uW0hJU1RPUllfSU5ERVhdO1xuXHRjdXJyZW50X25hdmlnYXRpb25faW5kZXggPSBoaXN0b3J5LnN0YXRlPy5bTkFWSUdBVElPTl9JTkRFWF07XG5cblx0aWYgKCFjdXJyZW50X2hpc3RvcnlfaW5kZXgpIHtcblx0XHQvLyB3ZSB1c2UgRGF0ZS5ub3coKSBhcyBhbiBvZmZzZXQgc28gdGhhdCBjcm9zcy1kb2N1bWVudCBuYXZpZ2F0aW9uc1xuXHRcdC8vIHdpdGhpbiB0aGUgYXBwIGRvbid0IHJlc3VsdCBpbiBkYXRhIGxvc3Ncblx0XHRjdXJyZW50X2hpc3RvcnlfaW5kZXggPSBjdXJyZW50X25hdmlnYXRpb25faW5kZXggPSBEYXRlLm5vdygpO1xuXG5cdFx0Ly8gY3JlYXRlIGluaXRpYWwgaGlzdG9yeSBlbnRyeSwgc28gd2UgY2FuIHJldHVybiBoZXJlXG5cdFx0aGlzdG9yeS5yZXBsYWNlU3RhdGUoXG5cdFx0XHR7XG5cdFx0XHRcdC4uLmhpc3Rvcnkuc3RhdGUsXG5cdFx0XHRcdFtISVNUT1JZX0lOREVYXTogY3VycmVudF9oaXN0b3J5X2luZGV4LFxuXHRcdFx0XHRbTkFWSUdBVElPTl9JTkRFWF06IGN1cnJlbnRfbmF2aWdhdGlvbl9pbmRleFxuXHRcdFx0fSxcblx0XHRcdCcnXG5cdFx0KTtcblx0fVxuXG5cdC8vIGlmIHdlIHJlbG9hZCB0aGUgcGFnZSwgb3IgQ21kLVNoaWZ0LVQgYmFjayB0byBpdCxcblx0Ly8gcmVjb3ZlciBzY3JvbGwgcG9zaXRpb25cblx0Y29uc3Qgc2Nyb2xsID0gc2Nyb2xsX3Bvc2l0aW9uc1tjdXJyZW50X2hpc3RvcnlfaW5kZXhdO1xuXHRpZiAoc2Nyb2xsKSB7XG5cdFx0aGlzdG9yeS5zY3JvbGxSZXN0b3JhdGlvbiA9ICdtYW51YWwnO1xuXHRcdHNjcm9sbFRvKHNjcm9sbC54LCBzY3JvbGwueSk7XG5cdH1cblxuXHRpZiAoaHlkcmF0ZSkge1xuXHRcdGF3YWl0IF9oeWRyYXRlKHRhcmdldCwgaHlkcmF0ZSk7XG5cdH0gZWxzZSB7XG5cdFx0Z290byhsb2NhdGlvbi5ocmVmLCB7IHJlcGxhY2VTdGF0ZTogdHJ1ZSB9KTtcblx0fVxuXG5cdF9zdGFydF9yb3V0ZXIoKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX2ludmFsaWRhdGUoKSB7XG5cdC8vIEFjY2VwdCBhbGwgaW52YWxpZGF0aW9ucyBhcyB0aGV5IGNvbWUsIGRvbid0IHN3YWxsb3cgYW55IHdoaWxlIGFub3RoZXIgaW52YWxpZGF0aW9uXG5cdC8vIGlzIHJ1bm5pbmcgYmVjYXVzZSBzdWJzZXF1ZW50IGludmFsaWRhdGlvbnMgbWF5IG1ha2UgZWFybGllciBvbmVzIG91dGRhdGVkLFxuXHQvLyBidXQgYmF0Y2ggbXVsdGlwbGUgc3luY2hyb25vdXMgaW52YWxpZGF0aW9ucy5cblx0YXdhaXQgKHBlbmRpbmdfaW52YWxpZGF0ZSB8fD0gUHJvbWlzZS5yZXNvbHZlKCkpO1xuXHRpZiAoIXBlbmRpbmdfaW52YWxpZGF0ZSkgcmV0dXJuO1xuXHRwZW5kaW5nX2ludmFsaWRhdGUgPSBudWxsO1xuXG5cdGNvbnN0IGludGVudCA9IGdldF9uYXZpZ2F0aW9uX2ludGVudChjdXJyZW50LnVybCwgdHJ1ZSk7XG5cblx0Ly8gQ2xlYXIgcHJlbG9hZCwgaXQgbWlnaHQgYmUgYWZmZWN0ZWQgYnkgdGhlIGludmFsaWRhdGlvbi5cblx0Ly8gQWxzbyBzb2x2ZXMgYW4gZWRnZSBjYXNlIHdoZXJlIGEgcHJlbG9hZCBpcyB0cmlnZ2VyZWQsIHRoZSBuYXZpZ2F0aW9uIGZvciBpdFxuXHQvLyB3YXMgdGhlbiB0cmlnZ2VyZWQgYW5kIGlzIHN0aWxsIHJ1bm5pbmcgd2hpbGUgdGhlIGludmFsaWRhdGlvbiBraWNrcyBpbixcblx0Ly8gYXQgd2hpY2ggcG9pbnQgdGhlIGludmFsaWRhdGlvbiBzaG91bGQgdGFrZSBvdmVyIGFuZCBcIndpblwiLlxuXHRsb2FkX2NhY2hlID0gbnVsbDtcblxuXHRjb25zdCBuYXZfdG9rZW4gPSAodG9rZW4gPSB7fSk7XG5cdGNvbnN0IG5hdmlnYXRpb25fcmVzdWx0ID0gaW50ZW50ICYmIChhd2FpdCBsb2FkX3JvdXRlKGludGVudCkpO1xuXHRpZiAoIW5hdmlnYXRpb25fcmVzdWx0IHx8IG5hdl90b2tlbiAhPT0gdG9rZW4pIHJldHVybjtcblxuXHRpZiAobmF2aWdhdGlvbl9yZXN1bHQudHlwZSA9PT0gJ3JlZGlyZWN0Jykge1xuXHRcdHJldHVybiBfZ290byhuZXcgVVJMKG5hdmlnYXRpb25fcmVzdWx0LmxvY2F0aW9uLCBjdXJyZW50LnVybCkuaHJlZiwge30sIDEsIG5hdl90b2tlbik7XG5cdH1cblxuXHRpZiAobmF2aWdhdGlvbl9yZXN1bHQucHJvcHMucGFnZSkge1xuXHRcdHBhZ2UgPSBuYXZpZ2F0aW9uX3Jlc3VsdC5wcm9wcy5wYWdlO1xuXHR9XG5cdGN1cnJlbnQgPSBuYXZpZ2F0aW9uX3Jlc3VsdC5zdGF0ZTtcblx0cmVzZXRfaW52YWxpZGF0aW9uKCk7XG5cdHJvb3QuJHNldChuYXZpZ2F0aW9uX3Jlc3VsdC5wcm9wcyk7XG59XG5cbmZ1bmN0aW9uIHJlc2V0X2ludmFsaWRhdGlvbigpIHtcblx0aW52YWxpZGF0ZWQubGVuZ3RoID0gMDtcblx0Zm9yY2VfaW52YWxpZGF0aW9uID0gZmFsc2U7XG59XG5cbi8qKiBAcGFyYW0ge251bWJlcn0gaW5kZXggKi9cbmZ1bmN0aW9uIGNhcHR1cmVfc25hcHNob3QoaW5kZXgpIHtcblx0aWYgKGNvbXBvbmVudHMuc29tZSgoYykgPT4gYz8uc25hcHNob3QpKSB7XG5cdFx0c25hcHNob3RzW2luZGV4XSA9IGNvbXBvbmVudHMubWFwKChjKSA9PiBjPy5zbmFwc2hvdD8uY2FwdHVyZSgpKTtcblx0fVxufVxuXG4vKiogQHBhcmFtIHtudW1iZXJ9IGluZGV4ICovXG5mdW5jdGlvbiByZXN0b3JlX3NuYXBzaG90KGluZGV4KSB7XG5cdHNuYXBzaG90c1tpbmRleF0/LmZvckVhY2goKHZhbHVlLCBpKSA9PiB7XG5cdFx0Y29tcG9uZW50c1tpXT8uc25hcHNob3Q/LnJlc3RvcmUodmFsdWUpO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gcGVyc2lzdF9zdGF0ZSgpIHtcblx0dXBkYXRlX3Njcm9sbF9wb3NpdGlvbnMoY3VycmVudF9oaXN0b3J5X2luZGV4KTtcblx0c3RvcmFnZS5zZXQoU0NST0xMX0tFWSwgc2Nyb2xsX3Bvc2l0aW9ucyk7XG5cblx0Y2FwdHVyZV9zbmFwc2hvdChjdXJyZW50X25hdmlnYXRpb25faW5kZXgpO1xuXHRzdG9yYWdlLnNldChTTkFQU0hPVF9LRVksIHNuYXBzaG90cyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmcgfCBVUkx9IHVybFxuICogQHBhcmFtIHt7IHJlcGxhY2VTdGF0ZT86IGJvb2xlYW47IG5vU2Nyb2xsPzogYm9vbGVhbjsga2VlcEZvY3VzPzogYm9vbGVhbjsgaW52YWxpZGF0ZUFsbD86IGJvb2xlYW47IHN0YXRlPzogUmVjb3JkPHN0cmluZywgYW55PiB9fSBvcHRpb25zXG4gKiBAcGFyYW0ge251bWJlcn0gcmVkaXJlY3RfY291bnRcbiAqIEBwYXJhbSB7e319IFtuYXZfdG9rZW5dXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIF9nb3RvKHVybCwgb3B0aW9ucywgcmVkaXJlY3RfY291bnQsIG5hdl90b2tlbikge1xuXHRyZXR1cm4gbmF2aWdhdGUoe1xuXHRcdHR5cGU6ICdnb3RvJyxcblx0XHR1cmw6IHJlc29sdmVfdXJsKHVybCksXG5cdFx0a2VlcGZvY3VzOiBvcHRpb25zLmtlZXBGb2N1cyxcblx0XHRub3Njcm9sbDogb3B0aW9ucy5ub1Njcm9sbCxcblx0XHRyZXBsYWNlX3N0YXRlOiBvcHRpb25zLnJlcGxhY2VTdGF0ZSxcblx0XHRzdGF0ZTogb3B0aW9ucy5zdGF0ZSxcblx0XHRyZWRpcmVjdF9jb3VudCxcblx0XHRuYXZfdG9rZW4sXG5cdFx0YWNjZXB0OiAoKSA9PiB7XG5cdFx0XHRpZiAob3B0aW9ucy5pbnZhbGlkYXRlQWxsKSB7XG5cdFx0XHRcdGZvcmNlX2ludmFsaWRhdGlvbiA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn1cblxuLyoqIEBwYXJhbSB7aW1wb3J0KCcuL3R5cGVzLmpzJykuTmF2aWdhdGlvbkludGVudH0gaW50ZW50ICovXG5hc3luYyBmdW5jdGlvbiBfcHJlbG9hZF9kYXRhKGludGVudCkge1xuXHQvLyBSZXVzZSB0aGUgZXhpc3RpbmcgcGVuZGluZyBwcmVsb2FkIGlmIGl0J3MgZm9yIHRoZSBzYW1lIG5hdmlnYXRpb24uXG5cdC8vIFByZXZlbnRzIGFuIGVkZ2UgY2FzZSB3aGVyZSBzYW1lIHByZWxvYWQgaXMgdHJpZ2dlcmVkIG11bHRpcGxlIHRpbWVzLFxuXHQvLyB0aGVuIGEgbGF0ZXIgb25lIGlzIGJlY29taW5nIHRoZSByZWFsIG5hdmlnYXRpb24gYW5kIHRoZSBwcmVsb2FkIHRva2Vuc1xuXHQvLyBnZXQgb3V0IG9mIHN5bmMuXG5cdGlmIChpbnRlbnQuaWQgIT09IGxvYWRfY2FjaGU/LmlkKSB7XG5cdFx0Y29uc3QgcHJlbG9hZCA9IHt9O1xuXHRcdHByZWxvYWRfdG9rZW5zLmFkZChwcmVsb2FkKTtcblx0XHRsb2FkX2NhY2hlID0ge1xuXHRcdFx0aWQ6IGludGVudC5pZCxcblx0XHRcdHRva2VuOiBwcmVsb2FkLFxuXHRcdFx0cHJvbWlzZTogbG9hZF9yb3V0ZSh7IC4uLmludGVudCwgcHJlbG9hZCB9KS50aGVuKChyZXN1bHQpID0+IHtcblx0XHRcdFx0cHJlbG9hZF90b2tlbnMuZGVsZXRlKHByZWxvYWQpO1xuXHRcdFx0XHRpZiAocmVzdWx0LnR5cGUgPT09ICdsb2FkZWQnICYmIHJlc3VsdC5zdGF0ZS5lcnJvcikge1xuXHRcdFx0XHRcdC8vIERvbid0IGNhY2hlIGVycm9ycywgYmVjYXVzZSB0aGV5IG1pZ2h0IGJlIHRyYW5zaWVudFxuXHRcdFx0XHRcdGxvYWRfY2FjaGUgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHR9KVxuXHRcdH07XG5cdH1cblxuXHRyZXR1cm4gbG9hZF9jYWNoZS5wcm9taXNlO1xufVxuXG4vKiogQHBhcmFtIHtzdHJpbmd9IHBhdGhuYW1lICovXG5hc3luYyBmdW5jdGlvbiBfcHJlbG9hZF9jb2RlKHBhdGhuYW1lKSB7XG5cdGNvbnN0IHJvdXRlID0gcm91dGVzLmZpbmQoKHJvdXRlKSA9PiByb3V0ZS5leGVjKGdldF91cmxfcGF0aChwYXRobmFtZSkpKTtcblxuXHRpZiAocm91dGUpIHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbChbLi4ucm91dGUubGF5b3V0cywgcm91dGUubGVhZl0ubWFwKChsb2FkKSA9PiBsb2FkPy5bMV0oKSkpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vdHlwZXMuanMnKS5OYXZpZ2F0aW9uRmluaXNoZWR9IHJlc3VsdFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGh5ZHJhdGVcbiAqL1xuZnVuY3Rpb24gaW5pdGlhbGl6ZShyZXN1bHQsIHRhcmdldCwgaHlkcmF0ZSkge1xuXHRpZiAoREVWICYmIHJlc3VsdC5zdGF0ZS5lcnJvciAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd2aXRlLWVycm9yLW92ZXJsYXknKSkgcmV0dXJuO1xuXG5cdGN1cnJlbnQgPSByZXN1bHQuc3RhdGU7XG5cblx0Y29uc3Qgc3R5bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzdHlsZVtkYXRhLXN2ZWx0ZWtpdF0nKTtcblx0aWYgKHN0eWxlKSBzdHlsZS5yZW1vdmUoKTtcblxuXHRwYWdlID0gLyoqIEB0eXBlIHtpbXBvcnQoJ0BzdmVsdGVqcy9raXQnKS5QYWdlfSAqLyAocmVzdWx0LnByb3BzLnBhZ2UpO1xuXG5cdHJvb3QgPSBuZXcgYXBwLnJvb3Qoe1xuXHRcdHRhcmdldCxcblx0XHRwcm9wczogeyAuLi5yZXN1bHQucHJvcHMsIHN0b3JlcywgY29tcG9uZW50cyB9LFxuXHRcdGh5ZHJhdGVcblx0fSk7XG5cblx0cmVzdG9yZV9zbmFwc2hvdChjdXJyZW50X25hdmlnYXRpb25faW5kZXgpO1xuXG5cdC8qKiBAdHlwZSB7aW1wb3J0KCdAc3ZlbHRlanMva2l0JykuQWZ0ZXJOYXZpZ2F0ZX0gKi9cblx0Y29uc3QgbmF2aWdhdGlvbiA9IHtcblx0XHRmcm9tOiBudWxsLFxuXHRcdHRvOiB7XG5cdFx0XHRwYXJhbXM6IGN1cnJlbnQucGFyYW1zLFxuXHRcdFx0cm91dGU6IHsgaWQ6IGN1cnJlbnQucm91dGU/LmlkID8/IG51bGwgfSxcblx0XHRcdHVybDogbmV3IFVSTChsb2NhdGlvbi5ocmVmKVxuXHRcdH0sXG5cdFx0d2lsbFVubG9hZDogZmFsc2UsXG5cdFx0dHlwZTogJ2VudGVyJyxcblx0XHRjb21wbGV0ZTogUHJvbWlzZS5yZXNvbHZlKClcblx0fTtcblxuXHRhZnRlcl9uYXZpZ2F0ZV9jYWxsYmFja3MuZm9yRWFjaCgoZm4pID0+IGZuKG5hdmlnYXRpb24pKTtcblxuXHRzdGFydGVkID0gdHJ1ZTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHt7XG4gKiAgIHVybDogVVJMO1xuICogICBwYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gKiAgIGJyYW5jaDogQXJyYXk8aW1wb3J0KCcuL3R5cGVzLmpzJykuQnJhbmNoTm9kZSB8IHVuZGVmaW5lZD47XG4gKiAgIHN0YXR1czogbnVtYmVyO1xuICogICBlcnJvcjogQXBwLkVycm9yIHwgbnVsbDtcbiAqICAgcm91dGU6IGltcG9ydCgndHlwZXMnKS5DU1JSb3V0ZSB8IG51bGw7XG4gKiAgIGZvcm0/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgbnVsbDtcbiAqIH19IG9wdHNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0X25hdmlnYXRpb25fcmVzdWx0X2Zyb21fYnJhbmNoKHtcblx0dXJsLFxuXHRwYXJhbXMsXG5cdGJyYW5jaCxcblx0c3RhdHVzLFxuXHRlcnJvcixcblx0cm91dGUsXG5cdGZvcm1cbn0pIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJ3R5cGVzJykuVHJhaWxpbmdTbGFzaH0gKi9cblx0bGV0IHNsYXNoID0gJ25ldmVyJztcblxuXHQvLyBpZiBgcGF0aHMuYmFzZSA9PT0gJy9hL2IvY2AsIHRoZW4gdGhlIHJvb3Qgcm91dGUgaXMgYWx3YXlzIGAvYS9iL2MvYCwgcmVnYXJkbGVzcyBvZlxuXHQvLyB0aGUgYHRyYWlsaW5nU2xhc2hgIHJvdXRlIG9wdGlvbiwgc28gdGhhdCByZWxhdGl2ZSBwYXRocyB0byBKUyBhbmQgQ1NTIHdvcmtcblx0aWYgKGJhc2UgJiYgKHVybC5wYXRobmFtZSA9PT0gYmFzZSB8fCB1cmwucGF0aG5hbWUgPT09IGJhc2UgKyAnLycpKSB7XG5cdFx0c2xhc2ggPSAnYWx3YXlzJztcblx0fSBlbHNlIHtcblx0XHRmb3IgKGNvbnN0IG5vZGUgb2YgYnJhbmNoKSB7XG5cdFx0XHRpZiAobm9kZT8uc2xhc2ggIT09IHVuZGVmaW5lZCkgc2xhc2ggPSBub2RlLnNsYXNoO1xuXHRcdH1cblx0fVxuXG5cdHVybC5wYXRobmFtZSA9IG5vcm1hbGl6ZV9wYXRoKHVybC5wYXRobmFtZSwgc2xhc2gpO1xuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXHR1cmwuc2VhcmNoID0gdXJsLnNlYXJjaDsgLy8gdHVybiBgLz9gIGludG8gYC9gXG5cblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vdHlwZXMuanMnKS5OYXZpZ2F0aW9uRmluaXNoZWR9ICovXG5cdGNvbnN0IHJlc3VsdCA9IHtcblx0XHR0eXBlOiAnbG9hZGVkJyxcblx0XHRzdGF0ZToge1xuXHRcdFx0dXJsLFxuXHRcdFx0cGFyYW1zLFxuXHRcdFx0YnJhbmNoLFxuXHRcdFx0ZXJyb3IsXG5cdFx0XHRyb3V0ZVxuXHRcdH0sXG5cdFx0cHJvcHM6IHtcblx0XHRcdC8vIEB0cy1pZ25vcmUgU29tZWhvdyBpdCdzIGdldHRpbmcgU3ZlbHRlQ29tcG9uZW50IGFuZCBTdmVsdGVDb21wb25lbnREZXYgbWl4ZWQgdXBcblx0XHRcdGNvbnN0cnVjdG9yczogY29tcGFjdChicmFuY2gpLm1hcCgoYnJhbmNoX25vZGUpID0+IGJyYW5jaF9ub2RlLm5vZGUuY29tcG9uZW50KSxcblx0XHRcdHBhZ2Vcblx0XHR9XG5cdH07XG5cblx0aWYgKGZvcm0gIT09IHVuZGVmaW5lZCkge1xuXHRcdHJlc3VsdC5wcm9wcy5mb3JtID0gZm9ybTtcblx0fVxuXG5cdGxldCBkYXRhID0ge307XG5cdGxldCBkYXRhX2NoYW5nZWQgPSAhcGFnZTtcblxuXHRsZXQgcCA9IDA7XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLm1heChicmFuY2gubGVuZ3RoLCBjdXJyZW50LmJyYW5jaC5sZW5ndGgpOyBpICs9IDEpIHtcblx0XHRjb25zdCBub2RlID0gYnJhbmNoW2ldO1xuXHRcdGNvbnN0IHByZXYgPSBjdXJyZW50LmJyYW5jaFtpXTtcblxuXHRcdGlmIChub2RlPy5kYXRhICE9PSBwcmV2Py5kYXRhKSBkYXRhX2NoYW5nZWQgPSB0cnVlO1xuXHRcdGlmICghbm9kZSkgY29udGludWU7XG5cblx0XHRkYXRhID0geyAuLi5kYXRhLCAuLi5ub2RlLmRhdGEgfTtcblxuXHRcdC8vIE9ubHkgc2V0IHByb3BzIGlmIHRoZSBub2RlIGFjdHVhbGx5IHVwZGF0ZWQuIFRoaXMgcHJldmVudHMgbmVlZGxlc3MgcmVyZW5kZXJzLlxuXHRcdGlmIChkYXRhX2NoYW5nZWQpIHtcblx0XHRcdHJlc3VsdC5wcm9wc1tgZGF0YV8ke3B9YF0gPSBkYXRhO1xuXHRcdH1cblxuXHRcdHAgKz0gMTtcblx0fVxuXG5cdGNvbnN0IHBhZ2VfY2hhbmdlZCA9XG5cdFx0IWN1cnJlbnQudXJsIHx8XG5cdFx0dXJsLmhyZWYgIT09IGN1cnJlbnQudXJsLmhyZWYgfHxcblx0XHRjdXJyZW50LmVycm9yICE9PSBlcnJvciB8fFxuXHRcdChmb3JtICE9PSB1bmRlZmluZWQgJiYgZm9ybSAhPT0gcGFnZS5mb3JtKSB8fFxuXHRcdGRhdGFfY2hhbmdlZDtcblxuXHRpZiAocGFnZV9jaGFuZ2VkKSB7XG5cdFx0cmVzdWx0LnByb3BzLnBhZ2UgPSB7XG5cdFx0XHRlcnJvcixcblx0XHRcdHBhcmFtcyxcblx0XHRcdHJvdXRlOiB7XG5cdFx0XHRcdGlkOiByb3V0ZT8uaWQgPz8gbnVsbFxuXHRcdFx0fSxcblx0XHRcdHN0YXRlOiB7fSxcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVybDogbmV3IFVSTCh1cmwpLFxuXHRcdFx0Zm9ybTogZm9ybSA/PyBudWxsLFxuXHRcdFx0Ly8gVGhlIHdob2xlIHBhZ2Ugc3RvcmUgaXMgdXBkYXRlZCwgYnV0IHRoaXMgd2F5IHRoZSBvYmplY3QgcmVmZXJlbmNlIHN0YXlzIHRoZSBzYW1lXG5cdFx0XHRkYXRhOiBkYXRhX2NoYW5nZWQgPyBkYXRhIDogcGFnZS5kYXRhXG5cdFx0fTtcblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ2FsbCB0aGUgbG9hZCBmdW5jdGlvbiBvZiB0aGUgZ2l2ZW4gbm9kZSwgaWYgaXQgZXhpc3RzLlxuICogSWYgYHNlcnZlcl9kYXRhYCBpcyBwYXNzZWQsIHRoaXMgaXMgdHJlYXRlZCBhcyB0aGUgaW5pdGlhbCBydW4gYW5kIHRoZSBwYWdlIGVuZHBvaW50IGlzIG5vdCByZXF1ZXN0ZWQuXG4gKlxuICogQHBhcmFtIHt7XG4gKiAgIGxvYWRlcjogaW1wb3J0KCd0eXBlcycpLkNTUlBhZ2VOb2RlTG9hZGVyO1xuICogXHQgcGFyZW50OiAoKSA9PiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIGFueT4+O1xuICogICB1cmw6IFVSTDtcbiAqICAgcGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICogICByb3V0ZTogeyBpZDogc3RyaW5nIHwgbnVsbCB9O1xuICogXHQgc2VydmVyX2RhdGFfbm9kZTogaW1wb3J0KCcuL3R5cGVzLmpzJykuRGF0YU5vZGUgfCBudWxsO1xuICogfX0gb3B0aW9uc1xuICogQHJldHVybnMge1Byb21pc2U8aW1wb3J0KCcuL3R5cGVzLmpzJykuQnJhbmNoTm9kZT59XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRfbm9kZSh7IGxvYWRlciwgcGFyZW50LCB1cmwsIHBhcmFtcywgcm91dGUsIHNlcnZlcl9kYXRhX25vZGUgfSkge1xuXHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIGFueT4gfCBudWxsfSAqL1xuXHRsZXQgZGF0YSA9IG51bGw7XG5cblx0bGV0IGlzX3RyYWNraW5nID0gdHJ1ZTtcblxuXHQvKiogQHR5cGUge2ltcG9ydCgndHlwZXMnKS5Vc2VzfSAqL1xuXHRjb25zdCB1c2VzID0ge1xuXHRcdGRlcGVuZGVuY2llczogbmV3IFNldCgpLFxuXHRcdHBhcmFtczogbmV3IFNldCgpLFxuXHRcdHBhcmVudDogZmFsc2UsXG5cdFx0cm91dGU6IGZhbHNlLFxuXHRcdHVybDogZmFsc2UsXG5cdFx0c2VhcmNoX3BhcmFtczogbmV3IFNldCgpXG5cdH07XG5cblx0Y29uc3Qgbm9kZSA9IGF3YWl0IGxvYWRlcigpO1xuXG5cdGlmIChERVYpIHtcblx0XHR2YWxpZGF0ZV9wYWdlX2V4cG9ydHMobm9kZS51bml2ZXJzYWwpO1xuXHR9XG5cblx0aWYgKG5vZGUudW5pdmVyc2FsPy5sb2FkKSB7XG5cdFx0LyoqIEBwYXJhbSB7c3RyaW5nW119IGRlcHMgKi9cblx0XHRmdW5jdGlvbiBkZXBlbmRzKC4uLmRlcHMpIHtcblx0XHRcdGZvciAoY29uc3QgZGVwIG9mIGRlcHMpIHtcblx0XHRcdFx0aWYgKERFVikgdmFsaWRhdGVfZGVwZW5kcygvKiogQHR5cGUge3N0cmluZ30gKi8gKHJvdXRlLmlkKSwgZGVwKTtcblxuXHRcdFx0XHRjb25zdCB7IGhyZWYgfSA9IG5ldyBVUkwoZGVwLCB1cmwpO1xuXHRcdFx0XHR1c2VzLmRlcGVuZGVuY2llcy5hZGQoaHJlZik7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqIEB0eXBlIHtpbXBvcnQoJ0BzdmVsdGVqcy9raXQnKS5Mb2FkRXZlbnR9ICovXG5cdFx0Y29uc3QgbG9hZF9pbnB1dCA9IHtcblx0XHRcdHJvdXRlOiBuZXcgUHJveHkocm91dGUsIHtcblx0XHRcdFx0Z2V0OiAodGFyZ2V0LCBrZXkpID0+IHtcblx0XHRcdFx0XHRpZiAoaXNfdHJhY2tpbmcpIHtcblx0XHRcdFx0XHRcdHVzZXMucm91dGUgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGFyZ2V0Wy8qKiBAdHlwZSB7J2lkJ30gKi8gKGtleSldO1xuXHRcdFx0XHR9XG5cdFx0XHR9KSxcblx0XHRcdHBhcmFtczogbmV3IFByb3h5KHBhcmFtcywge1xuXHRcdFx0XHRnZXQ6ICh0YXJnZXQsIGtleSkgPT4ge1xuXHRcdFx0XHRcdGlmIChpc190cmFja2luZykge1xuXHRcdFx0XHRcdFx0dXNlcy5wYXJhbXMuYWRkKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoa2V5KSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0YXJnZXRbLyoqIEB0eXBlIHtzdHJpbmd9ICovIChrZXkpXTtcblx0XHRcdFx0fVxuXHRcdFx0fSksXG5cdFx0XHRkYXRhOiBzZXJ2ZXJfZGF0YV9ub2RlPy5kYXRhID8/IG51bGwsXG5cdFx0XHR1cmw6IG1ha2VfdHJhY2thYmxlKFxuXHRcdFx0XHR1cmwsXG5cdFx0XHRcdCgpID0+IHtcblx0XHRcdFx0XHRpZiAoaXNfdHJhY2tpbmcpIHtcblx0XHRcdFx0XHRcdHVzZXMudXJsID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdChwYXJhbSkgPT4ge1xuXHRcdFx0XHRcdGlmIChpc190cmFja2luZykge1xuXHRcdFx0XHRcdFx0dXNlcy5zZWFyY2hfcGFyYW1zLmFkZChwYXJhbSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHQpLFxuXHRcdFx0YXN5bmMgZmV0Y2gocmVzb3VyY2UsIGluaXQpIHtcblx0XHRcdFx0LyoqIEB0eXBlIHtVUkwgfCBzdHJpbmd9ICovXG5cdFx0XHRcdGxldCByZXF1ZXN0ZWQ7XG5cblx0XHRcdFx0aWYgKHJlc291cmNlIGluc3RhbmNlb2YgUmVxdWVzdCkge1xuXHRcdFx0XHRcdHJlcXVlc3RlZCA9IHJlc291cmNlLnVybDtcblxuXHRcdFx0XHRcdC8vIHdlJ3JlIG5vdCBhbGxvd2VkIHRvIG1vZGlmeSB0aGUgcmVjZWl2ZWQgYFJlcXVlc3RgIG9iamVjdCwgc28gaW4gb3JkZXJcblx0XHRcdFx0XHQvLyB0byBmaXh1cCByZWxhdGl2ZSB1cmxzIHdlIGNyZWF0ZSBhIG5ldyBlcXVpdmFsZW50IGBpbml0YCBvYmplY3QgaW5zdGVhZFxuXHRcdFx0XHRcdGluaXQgPSB7XG5cdFx0XHRcdFx0XHQvLyB0aGUgcmVxdWVzdCBib2R5IG11c3QgYmUgY29uc3VtZWQgaW4gbWVtb3J5IHVudGlsIGJyb3dzZXJzXG5cdFx0XHRcdFx0XHQvLyBpbXBsZW1lbnQgc3RyZWFtaW5nIHJlcXVlc3QgYm9kaWVzIGFuZC9vciB0aGUgYm9keSBnZXR0ZXJcblx0XHRcdFx0XHRcdGJvZHk6XG5cdFx0XHRcdFx0XHRcdHJlc291cmNlLm1ldGhvZCA9PT0gJ0dFVCcgfHwgcmVzb3VyY2UubWV0aG9kID09PSAnSEVBRCdcblx0XHRcdFx0XHRcdFx0XHQ/IHVuZGVmaW5lZFxuXHRcdFx0XHRcdFx0XHRcdDogYXdhaXQgcmVzb3VyY2UuYmxvYigpLFxuXHRcdFx0XHRcdFx0Y2FjaGU6IHJlc291cmNlLmNhY2hlLFxuXHRcdFx0XHRcdFx0Y3JlZGVudGlhbHM6IHJlc291cmNlLmNyZWRlbnRpYWxzLFxuXHRcdFx0XHRcdFx0aGVhZGVyczogcmVzb3VyY2UuaGVhZGVycyxcblx0XHRcdFx0XHRcdGludGVncml0eTogcmVzb3VyY2UuaW50ZWdyaXR5LFxuXHRcdFx0XHRcdFx0a2VlcGFsaXZlOiByZXNvdXJjZS5rZWVwYWxpdmUsXG5cdFx0XHRcdFx0XHRtZXRob2Q6IHJlc291cmNlLm1ldGhvZCxcblx0XHRcdFx0XHRcdG1vZGU6IHJlc291cmNlLm1vZGUsXG5cdFx0XHRcdFx0XHRyZWRpcmVjdDogcmVzb3VyY2UucmVkaXJlY3QsXG5cdFx0XHRcdFx0XHRyZWZlcnJlcjogcmVzb3VyY2UucmVmZXJyZXIsXG5cdFx0XHRcdFx0XHRyZWZlcnJlclBvbGljeTogcmVzb3VyY2UucmVmZXJyZXJQb2xpY3ksXG5cdFx0XHRcdFx0XHRzaWduYWw6IHJlc291cmNlLnNpZ25hbCxcblx0XHRcdFx0XHRcdC4uLmluaXRcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlcXVlc3RlZCA9IHJlc291cmNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gd2UgbXVzdCBmaXh1cCByZWxhdGl2ZSB1cmxzIHNvIHRoZXkgYXJlIHJlc29sdmVkIGZyb20gdGhlIHRhcmdldCBwYWdlXG5cdFx0XHRcdGNvbnN0IHJlc29sdmVkID0gbmV3IFVSTChyZXF1ZXN0ZWQsIHVybCk7XG5cdFx0XHRcdGlmIChpc190cmFja2luZykge1xuXHRcdFx0XHRcdGRlcGVuZHMocmVzb2x2ZWQuaHJlZik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBtYXRjaCBzc3Igc2VyaWFsaXplZCBkYXRhIHVybCwgd2hpY2ggaXMgaW1wb3J0YW50IHRvIGZpbmQgY2FjaGVkIHJlc3BvbnNlc1xuXHRcdFx0XHRpZiAocmVzb2x2ZWQub3JpZ2luID09PSB1cmwub3JpZ2luKSB7XG5cdFx0XHRcdFx0cmVxdWVzdGVkID0gcmVzb2x2ZWQuaHJlZi5zbGljZSh1cmwub3JpZ2luLmxlbmd0aCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBwcmVyZW5kZXJlZCBwYWdlcyBtYXkgYmUgc2VydmVkIGZyb20gYW55IG9yaWdpbiwgc28gYGluaXRpYWxfZmV0Y2hgIHVybHMgc2hvdWxkbid0IGJlIHJlc29sdmVkXG5cdFx0XHRcdHJldHVybiBzdGFydGVkXG5cdFx0XHRcdFx0PyBzdWJzZXF1ZW50X2ZldGNoKHJlcXVlc3RlZCwgcmVzb2x2ZWQuaHJlZiwgaW5pdClcblx0XHRcdFx0XHQ6IGluaXRpYWxfZmV0Y2gocmVxdWVzdGVkLCBpbml0KTtcblx0XHRcdH0sXG5cdFx0XHRzZXRIZWFkZXJzOiAoKSA9PiB7fSwgLy8gbm9vcFxuXHRcdFx0ZGVwZW5kcyxcblx0XHRcdHBhcmVudCgpIHtcblx0XHRcdFx0aWYgKGlzX3RyYWNraW5nKSB7XG5cdFx0XHRcdFx0dXNlcy5wYXJlbnQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBwYXJlbnQoKTtcblx0XHRcdH0sXG5cdFx0XHR1bnRyYWNrKGZuKSB7XG5cdFx0XHRcdGlzX3RyYWNraW5nID0gZmFsc2U7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZuKCk7XG5cdFx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdFx0aXNfdHJhY2tpbmcgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdGlmIChERVYpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGxvY2tfZmV0Y2goKTtcblx0XHRcdFx0ZGF0YSA9IChhd2FpdCBub2RlLnVuaXZlcnNhbC5sb2FkLmNhbGwobnVsbCwgbG9hZF9pbnB1dCkpID8/IG51bGw7XG5cdFx0XHRcdGlmIChkYXRhICE9IG51bGwgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0YGEgbG9hZCBmdW5jdGlvbiByZWxhdGVkIHRvIHJvdXRlICcke3JvdXRlLmlkfScgcmV0dXJuZWQgJHtcblx0XHRcdFx0XHRcdFx0dHlwZW9mIGRhdGEgIT09ICdvYmplY3QnXG5cdFx0XHRcdFx0XHRcdFx0PyBgYSAke3R5cGVvZiBkYXRhfWBcblx0XHRcdFx0XHRcdFx0XHQ6IGRhdGEgaW5zdGFuY2VvZiBSZXNwb25zZVxuXHRcdFx0XHRcdFx0XHRcdFx0PyAnYSBSZXNwb25zZSBvYmplY3QnXG5cdFx0XHRcdFx0XHRcdFx0XHQ6IEFycmF5LmlzQXJyYXkoZGF0YSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0PyAnYW4gYXJyYXknXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDogJ2Egbm9uLXBsYWluIG9iamVjdCdcblx0XHRcdFx0XHRcdH0sIGJ1dCBtdXN0IHJldHVybiBhIHBsYWluIG9iamVjdCBhdCB0aGUgdG9wIGxldmVsIChpLmUuIFxcYHJldHVybiB7Li4ufVxcYClgXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0dW5sb2NrX2ZldGNoKCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRhdGEgPSAoYXdhaXQgbm9kZS51bml2ZXJzYWwubG9hZC5jYWxsKG51bGwsIGxvYWRfaW5wdXQpKSA/PyBudWxsO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB7XG5cdFx0bm9kZSxcblx0XHRsb2FkZXIsXG5cdFx0c2VydmVyOiBzZXJ2ZXJfZGF0YV9ub2RlLFxuXHRcdHVuaXZlcnNhbDogbm9kZS51bml2ZXJzYWw/LmxvYWQgPyB7IHR5cGU6ICdkYXRhJywgZGF0YSwgdXNlcyB9IDogbnVsbCxcblx0XHRkYXRhOiBkYXRhID8/IHNlcnZlcl9kYXRhX25vZGU/LmRhdGEgPz8gbnVsbCxcblx0XHRzbGFzaDogbm9kZS51bml2ZXJzYWw/LnRyYWlsaW5nU2xhc2ggPz8gc2VydmVyX2RhdGFfbm9kZT8uc2xhc2hcblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHBhcmVudF9jaGFuZ2VkXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHJvdXRlX2NoYW5nZWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdXJsX2NoYW5nZWRcbiAqIEBwYXJhbSB7U2V0PHN0cmluZz59IHNlYXJjaF9wYXJhbXNfY2hhbmdlZFxuICogQHBhcmFtIHtpbXBvcnQoJ3R5cGVzJykuVXNlcyB8IHVuZGVmaW5lZH0gdXNlc1xuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+fSBwYXJhbXNcbiAqL1xuZnVuY3Rpb24gaGFzX2NoYW5nZWQoXG5cdHBhcmVudF9jaGFuZ2VkLFxuXHRyb3V0ZV9jaGFuZ2VkLFxuXHR1cmxfY2hhbmdlZCxcblx0c2VhcmNoX3BhcmFtc19jaGFuZ2VkLFxuXHR1c2VzLFxuXHRwYXJhbXNcbikge1xuXHRpZiAoZm9yY2VfaW52YWxpZGF0aW9uKSByZXR1cm4gdHJ1ZTtcblxuXHRpZiAoIXVzZXMpIHJldHVybiBmYWxzZTtcblxuXHRpZiAodXNlcy5wYXJlbnQgJiYgcGFyZW50X2NoYW5nZWQpIHJldHVybiB0cnVlO1xuXHRpZiAodXNlcy5yb3V0ZSAmJiByb3V0ZV9jaGFuZ2VkKSByZXR1cm4gdHJ1ZTtcblx0aWYgKHVzZXMudXJsICYmIHVybF9jaGFuZ2VkKSByZXR1cm4gdHJ1ZTtcblxuXHRmb3IgKGNvbnN0IHRyYWNrZWRfcGFyYW1zIG9mIHVzZXMuc2VhcmNoX3BhcmFtcykge1xuXHRcdGlmIChzZWFyY2hfcGFyYW1zX2NoYW5nZWQuaGFzKHRyYWNrZWRfcGFyYW1zKSkgcmV0dXJuIHRydWU7XG5cdH1cblxuXHRmb3IgKGNvbnN0IHBhcmFtIG9mIHVzZXMucGFyYW1zKSB7XG5cdFx0aWYgKHBhcmFtc1twYXJhbV0gIT09IGN1cnJlbnQucGFyYW1zW3BhcmFtXSkgcmV0dXJuIHRydWU7XG5cdH1cblxuXHRmb3IgKGNvbnN0IGhyZWYgb2YgdXNlcy5kZXBlbmRlbmNpZXMpIHtcblx0XHRpZiAoaW52YWxpZGF0ZWQuc29tZSgoZm4pID0+IGZuKG5ldyBVUkwoaHJlZikpKSkgcmV0dXJuIHRydWU7XG5cdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJ3R5cGVzJykuU2VydmVyRGF0YU5vZGUgfCBpbXBvcnQoJ3R5cGVzJykuU2VydmVyRGF0YVNraXBwZWROb2RlIHwgbnVsbH0gbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4vdHlwZXMuanMnKS5EYXRhTm9kZSB8IG51bGx9IFtwcmV2aW91c11cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vdHlwZXMuanMnKS5EYXRhTm9kZSB8IG51bGx9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZV9kYXRhX25vZGUobm9kZSwgcHJldmlvdXMpIHtcblx0aWYgKG5vZGU/LnR5cGUgPT09ICdkYXRhJykgcmV0dXJuIG5vZGU7XG5cdGlmIChub2RlPy50eXBlID09PSAnc2tpcCcpIHJldHVybiBwcmV2aW91cyA/PyBudWxsO1xuXHRyZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtVUkwgfCBudWxsfSBvbGRfdXJsXG4gKiBAcGFyYW0ge1VSTH0gbmV3X3VybFxuICovXG5mdW5jdGlvbiBkaWZmX3NlYXJjaF9wYXJhbXMob2xkX3VybCwgbmV3X3VybCkge1xuXHRpZiAoIW9sZF91cmwpIHJldHVybiBuZXcgU2V0KG5ld191cmwuc2VhcmNoUGFyYW1zLmtleXMoKSk7XG5cblx0Y29uc3QgY2hhbmdlZCA9IG5ldyBTZXQoWy4uLm9sZF91cmwuc2VhcmNoUGFyYW1zLmtleXMoKSwgLi4ubmV3X3VybC5zZWFyY2hQYXJhbXMua2V5cygpXSk7XG5cblx0Zm9yIChjb25zdCBrZXkgb2YgY2hhbmdlZCkge1xuXHRcdGNvbnN0IG9sZF92YWx1ZXMgPSBvbGRfdXJsLnNlYXJjaFBhcmFtcy5nZXRBbGwoa2V5KTtcblx0XHRjb25zdCBuZXdfdmFsdWVzID0gbmV3X3VybC5zZWFyY2hQYXJhbXMuZ2V0QWxsKGtleSk7XG5cblx0XHRpZiAoXG5cdFx0XHRvbGRfdmFsdWVzLmV2ZXJ5KCh2YWx1ZSkgPT4gbmV3X3ZhbHVlcy5pbmNsdWRlcyh2YWx1ZSkpICYmXG5cdFx0XHRuZXdfdmFsdWVzLmV2ZXJ5KCh2YWx1ZSkgPT4gb2xkX3ZhbHVlcy5pbmNsdWRlcyh2YWx1ZSkpXG5cdFx0KSB7XG5cdFx0XHRjaGFuZ2VkLmRlbGV0ZShrZXkpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjaGFuZ2VkO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7T21pdDxpbXBvcnQoJy4vdHlwZXMuanMnKS5OYXZpZ2F0aW9uRmluaXNoZWRbJ3N0YXRlJ10sICdicmFuY2gnPiAmIHsgZXJyb3I6IEFwcC5FcnJvciB9fSBvcHRzXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3R5cGVzLmpzJykuTmF2aWdhdGlvbkZpbmlzaGVkfVxuICovXG5mdW5jdGlvbiBwcmVsb2FkX2Vycm9yKHsgZXJyb3IsIHVybCwgcm91dGUsIHBhcmFtcyB9KSB7XG5cdHJldHVybiB7XG5cdFx0dHlwZTogJ2xvYWRlZCcsXG5cdFx0c3RhdGU6IHtcblx0XHRcdGVycm9yLFxuXHRcdFx0dXJsLFxuXHRcdFx0cm91dGUsXG5cdFx0XHRwYXJhbXMsXG5cdFx0XHRicmFuY2g6IFtdXG5cdFx0fSxcblx0XHRwcm9wczogeyBwYWdlLCBjb25zdHJ1Y3RvcnM6IFtdIH1cblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi90eXBlcy5qcycpLk5hdmlnYXRpb25JbnRlbnQgJiB7IHByZWxvYWQ/OiB7fSB9fSBpbnRlbnRcbiAqIEByZXR1cm5zIHtQcm9taXNlPGltcG9ydCgnLi90eXBlcy5qcycpLk5hdmlnYXRpb25SZXN1bHQ+fVxuICovXG5hc3luYyBmdW5jdGlvbiBsb2FkX3JvdXRlKHsgaWQsIGludmFsaWRhdGluZywgdXJsLCBwYXJhbXMsIHJvdXRlLCBwcmVsb2FkIH0pIHtcblx0aWYgKGxvYWRfY2FjaGU/LmlkID09PSBpZCkge1xuXHRcdC8vIHRoZSBwcmVsb2FkIGJlY29tZXMgdGhlIHJlYWwgbmF2aWdhdGlvblxuXHRcdHByZWxvYWRfdG9rZW5zLmRlbGV0ZShsb2FkX2NhY2hlLnRva2VuKTtcblx0XHRyZXR1cm4gbG9hZF9jYWNoZS5wcm9taXNlO1xuXHR9XG5cblx0Y29uc3QgeyBlcnJvcnMsIGxheW91dHMsIGxlYWYgfSA9IHJvdXRlO1xuXG5cdGNvbnN0IGxvYWRlcnMgPSBbLi4ubGF5b3V0cywgbGVhZl07XG5cblx0Ly8gcHJlbG9hZCBtb2R1bGVzIHRvIGF2b2lkIHdhdGVyZmFsbCwgYnV0IGhhbmRsZSByZWplY3Rpb25zXG5cdC8vIHNvIHRoZXkgZG9uJ3QgZ2V0IHJlcG9ydGVkIHRvIFNlbnRyeSBldCBhbCAod2UgZG9uJ3QgbmVlZFxuXHQvLyB0byBhY3Qgb24gdGhlIGZhaWx1cmVzIGF0IHRoaXMgcG9pbnQpXG5cdGVycm9ycy5mb3JFYWNoKChsb2FkZXIpID0+IGxvYWRlcj8uKCkuY2F0Y2goKCkgPT4ge30pKTtcblx0bG9hZGVycy5mb3JFYWNoKChsb2FkZXIpID0+IGxvYWRlcj8uWzFdKCkuY2F0Y2goKCkgPT4ge30pKTtcblxuXHQvKiogQHR5cGUge2ltcG9ydCgndHlwZXMnKS5TZXJ2ZXJOb2Rlc1Jlc3BvbnNlIHwgaW1wb3J0KCd0eXBlcycpLlNlcnZlclJlZGlyZWN0Tm9kZSB8IG51bGx9ICovXG5cdGxldCBzZXJ2ZXJfZGF0YSA9IG51bGw7XG5cdGNvbnN0IHVybF9jaGFuZ2VkID0gY3VycmVudC51cmwgPyBpZCAhPT0gY3VycmVudC51cmwucGF0aG5hbWUgKyBjdXJyZW50LnVybC5zZWFyY2ggOiBmYWxzZTtcblx0Y29uc3Qgcm91dGVfY2hhbmdlZCA9IGN1cnJlbnQucm91dGUgPyByb3V0ZS5pZCAhPT0gY3VycmVudC5yb3V0ZS5pZCA6IGZhbHNlO1xuXHRjb25zdCBzZWFyY2hfcGFyYW1zX2NoYW5nZWQgPSBkaWZmX3NlYXJjaF9wYXJhbXMoY3VycmVudC51cmwsIHVybCk7XG5cblx0bGV0IHBhcmVudF9pbnZhbGlkID0gZmFsc2U7XG5cdGNvbnN0IGludmFsaWRfc2VydmVyX25vZGVzID0gbG9hZGVycy5tYXAoKGxvYWRlciwgaSkgPT4ge1xuXHRcdGNvbnN0IHByZXZpb3VzID0gY3VycmVudC5icmFuY2hbaV07XG5cblx0XHRjb25zdCBpbnZhbGlkID1cblx0XHRcdCEhbG9hZGVyPy5bMF0gJiZcblx0XHRcdChwcmV2aW91cz8ubG9hZGVyICE9PSBsb2FkZXJbMV0gfHxcblx0XHRcdFx0aGFzX2NoYW5nZWQoXG5cdFx0XHRcdFx0cGFyZW50X2ludmFsaWQsXG5cdFx0XHRcdFx0cm91dGVfY2hhbmdlZCxcblx0XHRcdFx0XHR1cmxfY2hhbmdlZCxcblx0XHRcdFx0XHRzZWFyY2hfcGFyYW1zX2NoYW5nZWQsXG5cdFx0XHRcdFx0cHJldmlvdXMuc2VydmVyPy51c2VzLFxuXHRcdFx0XHRcdHBhcmFtc1xuXHRcdFx0XHQpKTtcblxuXHRcdGlmIChpbnZhbGlkKSB7XG5cdFx0XHQvLyBGb3IgdGhlIG5leHQgb25lXG5cdFx0XHRwYXJlbnRfaW52YWxpZCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGludmFsaWQ7XG5cdH0pO1xuXG5cdGlmIChpbnZhbGlkX3NlcnZlcl9ub2Rlcy5zb21lKEJvb2xlYW4pKSB7XG5cdFx0dHJ5IHtcblx0XHRcdHNlcnZlcl9kYXRhID0gYXdhaXQgbG9hZF9kYXRhKHVybCwgaW52YWxpZF9zZXJ2ZXJfbm9kZXMpO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRjb25zdCBoYW5kbGVkX2Vycm9yID0gYXdhaXQgaGFuZGxlX2Vycm9yKGVycm9yLCB7IHVybCwgcGFyYW1zLCByb3V0ZTogeyBpZCB9IH0pO1xuXG5cdFx0XHRpZiAocHJlbG9hZF90b2tlbnMuaGFzKHByZWxvYWQpKSB7XG5cdFx0XHRcdHJldHVybiBwcmVsb2FkX2Vycm9yKHsgZXJyb3I6IGhhbmRsZWRfZXJyb3IsIHVybCwgcGFyYW1zLCByb3V0ZSB9KTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGxvYWRfcm9vdF9lcnJvcl9wYWdlKHtcblx0XHRcdFx0c3RhdHVzOiBnZXRfc3RhdHVzKGVycm9yKSxcblx0XHRcdFx0ZXJyb3I6IGhhbmRsZWRfZXJyb3IsXG5cdFx0XHRcdHVybCxcblx0XHRcdFx0cm91dGVcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGlmIChzZXJ2ZXJfZGF0YS50eXBlID09PSAncmVkaXJlY3QnKSB7XG5cdFx0XHRyZXR1cm4gc2VydmVyX2RhdGE7XG5cdFx0fVxuXHR9XG5cblx0Y29uc3Qgc2VydmVyX2RhdGFfbm9kZXMgPSBzZXJ2ZXJfZGF0YT8ubm9kZXM7XG5cblx0bGV0IHBhcmVudF9jaGFuZ2VkID0gZmFsc2U7XG5cblx0Y29uc3QgYnJhbmNoX3Byb21pc2VzID0gbG9hZGVycy5tYXAoYXN5bmMgKGxvYWRlciwgaSkgPT4ge1xuXHRcdGlmICghbG9hZGVyKSByZXR1cm47XG5cblx0XHQvKiogQHR5cGUge2ltcG9ydCgnLi90eXBlcy5qcycpLkJyYW5jaE5vZGUgfCB1bmRlZmluZWR9ICovXG5cdFx0Y29uc3QgcHJldmlvdXMgPSBjdXJyZW50LmJyYW5jaFtpXTtcblxuXHRcdGNvbnN0IHNlcnZlcl9kYXRhX25vZGUgPSBzZXJ2ZXJfZGF0YV9ub2Rlcz8uW2ldO1xuXG5cdFx0Ly8gcmUtdXNlIGRhdGEgZnJvbSBwcmV2aW91cyBsb2FkIGlmIGl0J3Mgc3RpbGwgdmFsaWRcblx0XHRjb25zdCB2YWxpZCA9XG5cdFx0XHQoIXNlcnZlcl9kYXRhX25vZGUgfHwgc2VydmVyX2RhdGFfbm9kZS50eXBlID09PSAnc2tpcCcpICYmXG5cdFx0XHRsb2FkZXJbMV0gPT09IHByZXZpb3VzPy5sb2FkZXIgJiZcblx0XHRcdCFoYXNfY2hhbmdlZChcblx0XHRcdFx0cGFyZW50X2NoYW5nZWQsXG5cdFx0XHRcdHJvdXRlX2NoYW5nZWQsXG5cdFx0XHRcdHVybF9jaGFuZ2VkLFxuXHRcdFx0XHRzZWFyY2hfcGFyYW1zX2NoYW5nZWQsXG5cdFx0XHRcdHByZXZpb3VzLnVuaXZlcnNhbD8udXNlcyxcblx0XHRcdFx0cGFyYW1zXG5cdFx0XHQpO1xuXHRcdGlmICh2YWxpZCkgcmV0dXJuIHByZXZpb3VzO1xuXG5cdFx0cGFyZW50X2NoYW5nZWQgPSB0cnVlO1xuXG5cdFx0aWYgKHNlcnZlcl9kYXRhX25vZGU/LnR5cGUgPT09ICdlcnJvcicpIHtcblx0XHRcdC8vIHJldGhyb3cgYW5kIGNhdGNoIGJlbG93XG5cdFx0XHR0aHJvdyBzZXJ2ZXJfZGF0YV9ub2RlO1xuXHRcdH1cblxuXHRcdHJldHVybiBsb2FkX25vZGUoe1xuXHRcdFx0bG9hZGVyOiBsb2FkZXJbMV0sXG5cdFx0XHR1cmwsXG5cdFx0XHRwYXJhbXMsXG5cdFx0XHRyb3V0ZSxcblx0XHRcdHBhcmVudDogYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBkYXRhID0ge307XG5cdFx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgaTsgaiArPSAxKSB7XG5cdFx0XHRcdFx0T2JqZWN0LmFzc2lnbihkYXRhLCAoYXdhaXQgYnJhbmNoX3Byb21pc2VzW2pdKT8uZGF0YSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHR9LFxuXHRcdFx0c2VydmVyX2RhdGFfbm9kZTogY3JlYXRlX2RhdGFfbm9kZShcblx0XHRcdFx0Ly8gc2VydmVyX2RhdGFfbm9kZSBpcyB1bmRlZmluZWQgaWYgaXQgd2Fzbid0IHJlbG9hZGVkIGZyb20gdGhlIHNlcnZlcjtcblx0XHRcdFx0Ly8gYW5kIGlmIGN1cnJlbnQgbG9hZGVyIHVzZXMgc2VydmVyIGRhdGEsIHdlIHdhbnQgdG8gcmV1c2UgcHJldmlvdXMgZGF0YS5cblx0XHRcdFx0c2VydmVyX2RhdGFfbm9kZSA9PT0gdW5kZWZpbmVkICYmIGxvYWRlclswXSA/IHsgdHlwZTogJ3NraXAnIH0gOiBzZXJ2ZXJfZGF0YV9ub2RlID8/IG51bGwsXG5cdFx0XHRcdGxvYWRlclswXSA/IHByZXZpb3VzPy5zZXJ2ZXIgOiB1bmRlZmluZWRcblx0XHRcdClcblx0XHR9KTtcblx0fSk7XG5cblx0Ly8gaWYgd2UgZG9uJ3QgZG8gdGhpcywgcmVqZWN0aW9ucyB3aWxsIGJlIHVuaGFuZGxlZFxuXHRmb3IgKGNvbnN0IHAgb2YgYnJhbmNoX3Byb21pc2VzKSBwLmNhdGNoKCgpID0+IHt9KTtcblxuXHQvKiogQHR5cGUge0FycmF5PGltcG9ydCgnLi90eXBlcy5qcycpLkJyYW5jaE5vZGUgfCB1bmRlZmluZWQ+fSAqL1xuXHRjb25zdCBicmFuY2ggPSBbXTtcblxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGxvYWRlcnMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRpZiAobG9hZGVyc1tpXSkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0YnJhbmNoLnB1c2goYXdhaXQgYnJhbmNoX3Byb21pc2VzW2ldKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRpZiAoZXJyIGluc3RhbmNlb2YgUmVkaXJlY3QpIHtcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0dHlwZTogJ3JlZGlyZWN0Jyxcblx0XHRcdFx0XHRcdGxvY2F0aW9uOiBlcnIubG9jYXRpb25cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHByZWxvYWRfdG9rZW5zLmhhcyhwcmVsb2FkKSkge1xuXHRcdFx0XHRcdHJldHVybiBwcmVsb2FkX2Vycm9yKHtcblx0XHRcdFx0XHRcdGVycm9yOiBhd2FpdCBoYW5kbGVfZXJyb3IoZXJyLCB7IHBhcmFtcywgdXJsLCByb3V0ZTogeyBpZDogcm91dGUuaWQgfSB9KSxcblx0XHRcdFx0XHRcdHVybCxcblx0XHRcdFx0XHRcdHBhcmFtcyxcblx0XHRcdFx0XHRcdHJvdXRlXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRsZXQgc3RhdHVzID0gZ2V0X3N0YXR1cyhlcnIpO1xuXHRcdFx0XHQvKiogQHR5cGUge0FwcC5FcnJvcn0gKi9cblx0XHRcdFx0bGV0IGVycm9yO1xuXG5cdFx0XHRcdGlmIChzZXJ2ZXJfZGF0YV9ub2Rlcz8uaW5jbHVkZXMoLyoqIEB0eXBlIHtpbXBvcnQoJ3R5cGVzJykuU2VydmVyRXJyb3JOb2RlfSAqLyAoZXJyKSkpIHtcblx0XHRcdFx0XHQvLyB0aGlzIGlzIHRoZSBzZXJ2ZXIgZXJyb3IgcmV0aHJvd24gYWJvdmUsIHJlY29uc3RydWN0IGJ1dCBkb24ndCBpbnZva2Vcblx0XHRcdFx0XHQvLyB0aGUgY2xpZW50IGVycm9yIGhhbmRsZXI7IGl0IHNob3VsZCd2ZSBhbHJlYWR5IGJlZW4gaGFuZGxlZCBvbiB0aGUgc2VydmVyXG5cdFx0XHRcdFx0c3RhdHVzID0gLyoqIEB0eXBlIHtpbXBvcnQoJ3R5cGVzJykuU2VydmVyRXJyb3JOb2RlfSAqLyAoZXJyKS5zdGF0dXMgPz8gc3RhdHVzO1xuXHRcdFx0XHRcdGVycm9yID0gLyoqIEB0eXBlIHtpbXBvcnQoJ3R5cGVzJykuU2VydmVyRXJyb3JOb2RlfSAqLyAoZXJyKS5lcnJvcjtcblx0XHRcdFx0fSBlbHNlIGlmIChlcnIgaW5zdGFuY2VvZiBIdHRwRXJyb3IpIHtcblx0XHRcdFx0XHRlcnJvciA9IGVyci5ib2R5O1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIFJlZmVyZW5jZWQgbm9kZSBjb3VsZCBoYXZlIGJlZW4gcmVtb3ZlZCBkdWUgdG8gcmVkZXBsb3ksIGNoZWNrXG5cdFx0XHRcdFx0Y29uc3QgdXBkYXRlZCA9IGF3YWl0IHN0b3Jlcy51cGRhdGVkLmNoZWNrKCk7XG5cdFx0XHRcdFx0aWYgKHVwZGF0ZWQpIHtcblx0XHRcdFx0XHRcdHJldHVybiBhd2FpdCBuYXRpdmVfbmF2aWdhdGlvbih1cmwpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVycm9yID0gYXdhaXQgaGFuZGxlX2Vycm9yKGVyciwgeyBwYXJhbXMsIHVybCwgcm91dGU6IHsgaWQ6IHJvdXRlLmlkIH0gfSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBlcnJvcl9sb2FkID0gYXdhaXQgbG9hZF9uZWFyZXN0X2Vycm9yX3BhZ2UoaSwgYnJhbmNoLCBlcnJvcnMpO1xuXHRcdFx0XHRpZiAoZXJyb3JfbG9hZCkge1xuXHRcdFx0XHRcdHJldHVybiBhd2FpdCBnZXRfbmF2aWdhdGlvbl9yZXN1bHRfZnJvbV9icmFuY2goe1xuXHRcdFx0XHRcdFx0dXJsLFxuXHRcdFx0XHRcdFx0cGFyYW1zLFxuXHRcdFx0XHRcdFx0YnJhbmNoOiBicmFuY2guc2xpY2UoMCwgZXJyb3JfbG9hZC5pZHgpLmNvbmNhdChlcnJvcl9sb2FkLm5vZGUpLFxuXHRcdFx0XHRcdFx0c3RhdHVzLFxuXHRcdFx0XHRcdFx0ZXJyb3IsXG5cdFx0XHRcdFx0XHRyb3V0ZVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiBhd2FpdCBzZXJ2ZXJfZmFsbGJhY2sodXJsLCB7IGlkOiByb3V0ZS5pZCB9LCBlcnJvciwgc3RhdHVzKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwdXNoIGFuIGVtcHR5IHNsb3Qgc28gd2UgY2FuIHJld2luZCBwYXN0IGdhcHMgdG8gdGhlXG5cdFx0XHQvLyBsYXlvdXQgdGhhdCBjb3JyZXNwb25kcyB3aXRoIGFuICtlcnJvci5zdmVsdGUgcGFnZVxuXHRcdFx0YnJhbmNoLnB1c2godW5kZWZpbmVkKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gYXdhaXQgZ2V0X25hdmlnYXRpb25fcmVzdWx0X2Zyb21fYnJhbmNoKHtcblx0XHR1cmwsXG5cdFx0cGFyYW1zLFxuXHRcdGJyYW5jaCxcblx0XHRzdGF0dXM6IDIwMCxcblx0XHRlcnJvcjogbnVsbCxcblx0XHRyb3V0ZSxcblx0XHQvLyBSZXNldCBgZm9ybWAgb24gbmF2aWdhdGlvbiwgYnV0IG5vdCBpbnZhbGlkYXRpb25cblx0XHRmb3JtOiBpbnZhbGlkYXRpbmcgPyB1bmRlZmluZWQgOiBudWxsXG5cdH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIFN0YXJ0IGluZGV4IHRvIGJhY2t0cmFjayBmcm9tXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi90eXBlcy5qcycpLkJyYW5jaE5vZGUgfCB1bmRlZmluZWQ+fSBicmFuY2ggQnJhbmNoIHRvIGJhY2t0cmFja1xuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJ3R5cGVzJykuQ1NSUGFnZU5vZGVMb2FkZXIgfCB1bmRlZmluZWQ+fSBlcnJvcnMgQWxsIGVycm9yIHBhZ2VzIGZvciB0aGlzIGJyYW5jaFxuICogQHJldHVybnMge1Byb21pc2U8e2lkeDogbnVtYmVyOyBub2RlOiBpbXBvcnQoJy4vdHlwZXMuanMnKS5CcmFuY2hOb2RlfSB8IHVuZGVmaW5lZD59XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRfbmVhcmVzdF9lcnJvcl9wYWdlKGksIGJyYW5jaCwgZXJyb3JzKSB7XG5cdHdoaWxlIChpLS0pIHtcblx0XHRpZiAoZXJyb3JzW2ldKSB7XG5cdFx0XHRsZXQgaiA9IGk7XG5cdFx0XHR3aGlsZSAoIWJyYW5jaFtqXSkgaiAtPSAxO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRpZHg6IGogKyAxLFxuXHRcdFx0XHRcdG5vZGU6IHtcblx0XHRcdFx0XHRcdG5vZGU6IGF3YWl0IC8qKiBAdHlwZSB7aW1wb3J0KCd0eXBlcycpLkNTUlBhZ2VOb2RlTG9hZGVyIH0gKi8gKGVycm9yc1tpXSkoKSxcblx0XHRcdFx0XHRcdGxvYWRlcjogLyoqIEB0eXBlIHtpbXBvcnQoJ3R5cGVzJykuQ1NSUGFnZU5vZGVMb2FkZXIgfSAqLyAoZXJyb3JzW2ldKSxcblx0XHRcdFx0XHRcdGRhdGE6IHt9LFxuXHRcdFx0XHRcdFx0c2VydmVyOiBudWxsLFxuXHRcdFx0XHRcdFx0dW5pdmVyc2FsOiBudWxsXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3tcbiAqICAgc3RhdHVzOiBudW1iZXI7XG4gKiAgIGVycm9yOiBBcHAuRXJyb3I7XG4gKiAgIHVybDogVVJMO1xuICogICByb3V0ZTogeyBpZDogc3RyaW5nIHwgbnVsbCB9XG4gKiB9fSBvcHRzXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxpbXBvcnQoJy4vdHlwZXMuanMnKS5OYXZpZ2F0aW9uRmluaXNoZWQ+fVxuICovXG5hc3luYyBmdW5jdGlvbiBsb2FkX3Jvb3RfZXJyb3JfcGFnZSh7IHN0YXR1cywgZXJyb3IsIHVybCwgcm91dGUgfSkge1xuXHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIHN0cmluZz59ICovXG5cdGNvbnN0IHBhcmFtcyA9IHt9OyAvLyBlcnJvciBwYWdlIGRvZXMgbm90IGhhdmUgcGFyYW1zXG5cblx0LyoqIEB0eXBlIHtpbXBvcnQoJ3R5cGVzJykuU2VydmVyRGF0YU5vZGUgfCBudWxsfSAqL1xuXHRsZXQgc2VydmVyX2RhdGFfbm9kZSA9IG51bGw7XG5cblx0Y29uc3QgZGVmYXVsdF9sYXlvdXRfaGFzX3NlcnZlcl9sb2FkID0gYXBwLnNlcnZlcl9sb2Fkc1swXSA9PT0gMDtcblxuXHRpZiAoZGVmYXVsdF9sYXlvdXRfaGFzX3NlcnZlcl9sb2FkKSB7XG5cdFx0Ly8gVE9ETyBwb3N0LWh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9raXQvZGlzY3Vzc2lvbnMvNjEyNCB3ZSBjYW4gdXNlXG5cdFx0Ly8gZXhpc3Rpbmcgcm9vdCBsYXlvdXQgZGF0YVxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBzZXJ2ZXJfZGF0YSA9IGF3YWl0IGxvYWRfZGF0YSh1cmwsIFt0cnVlXSk7XG5cblx0XHRcdGlmIChcblx0XHRcdFx0c2VydmVyX2RhdGEudHlwZSAhPT0gJ2RhdGEnIHx8XG5cdFx0XHRcdChzZXJ2ZXJfZGF0YS5ub2Rlc1swXSAmJiBzZXJ2ZXJfZGF0YS5ub2Rlc1swXS50eXBlICE9PSAnZGF0YScpXG5cdFx0XHQpIHtcblx0XHRcdFx0dGhyb3cgMDtcblx0XHRcdH1cblxuXHRcdFx0c2VydmVyX2RhdGFfbm9kZSA9IHNlcnZlcl9kYXRhLm5vZGVzWzBdID8/IG51bGw7XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHQvLyBhdCB0aGlzIHBvaW50IHdlIGhhdmUgbm8gY2hvaWNlIGJ1dCB0byBmYWxsIGJhY2sgdG8gdGhlIHNlcnZlciwgaWYgaXQgd291bGRuJ3Rcblx0XHRcdC8vIGJyaW5nIHVzIHJpZ2h0IGJhY2sgaGVyZSwgdHVybmluZyB0aGlzIGludG8gYW4gZW5kbGVzcyBsb29wXG5cdFx0XHRpZiAodXJsLm9yaWdpbiAhPT0gb3JpZ2luIHx8IHVybC5wYXRobmFtZSAhPT0gbG9jYXRpb24ucGF0aG5hbWUgfHwgaHlkcmF0ZWQpIHtcblx0XHRcdFx0YXdhaXQgbmF0aXZlX25hdmlnYXRpb24odXJsKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRjb25zdCByb290X2xheW91dCA9IGF3YWl0IGxvYWRfbm9kZSh7XG5cdFx0bG9hZGVyOiBkZWZhdWx0X2xheW91dF9sb2FkZXIsXG5cdFx0dXJsLFxuXHRcdHBhcmFtcyxcblx0XHRyb3V0ZSxcblx0XHRwYXJlbnQ6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7fSksXG5cdFx0c2VydmVyX2RhdGFfbm9kZTogY3JlYXRlX2RhdGFfbm9kZShzZXJ2ZXJfZGF0YV9ub2RlKVxuXHR9KTtcblxuXHQvKiogQHR5cGUge2ltcG9ydCgnLi90eXBlcy5qcycpLkJyYW5jaE5vZGV9ICovXG5cdGNvbnN0IHJvb3RfZXJyb3IgPSB7XG5cdFx0bm9kZTogYXdhaXQgZGVmYXVsdF9lcnJvcl9sb2FkZXIoKSxcblx0XHRsb2FkZXI6IGRlZmF1bHRfZXJyb3JfbG9hZGVyLFxuXHRcdHVuaXZlcnNhbDogbnVsbCxcblx0XHRzZXJ2ZXI6IG51bGwsXG5cdFx0ZGF0YTogbnVsbFxuXHR9O1xuXG5cdHJldHVybiBhd2FpdCBnZXRfbmF2aWdhdGlvbl9yZXN1bHRfZnJvbV9icmFuY2goe1xuXHRcdHVybCxcblx0XHRwYXJhbXMsXG5cdFx0YnJhbmNoOiBbcm9vdF9sYXlvdXQsIHJvb3RfZXJyb3JdLFxuXHRcdHN0YXR1cyxcblx0XHRlcnJvcixcblx0XHRyb3V0ZTogbnVsbFxuXHR9KTtcbn1cblxuLyoqXG4gKiBSZXNvbHZlIHRoZSBmdWxsIGluZm8gKHdoaWNoIHJvdXRlLCBwYXJhbXMsIGV0Yy4pIGZvciBhIGNsaWVudC1zaWRlIG5hdmlnYXRpb24gZnJvbSB0aGUgVVJMLFxuICogdGFraW5nIHRoZSByZXJvdXRlIGhvb2sgaW50byBhY2NvdW50LiBJZiB0aGlzIGlzbid0IGEgY2xpZW50LXNpZGUtbmF2aWdhdGlvbiAob3IgdGhlIFVSTCBpcyB1bmRlZmluZWQpLFxuICogcmV0dXJucyB1bmRlZmluZWQuXG4gKiBAcGFyYW0ge1VSTCB8IHVuZGVmaW5lZH0gdXJsXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGludmFsaWRhdGluZ1xuICovXG5mdW5jdGlvbiBnZXRfbmF2aWdhdGlvbl9pbnRlbnQodXJsLCBpbnZhbGlkYXRpbmcpIHtcblx0aWYgKCF1cmwpIHJldHVybiB1bmRlZmluZWQ7XG5cdGlmIChpc19leHRlcm5hbF91cmwodXJsLCBiYXNlKSkgcmV0dXJuO1xuXG5cdC8vIHJlcm91dGUgY291bGQgYWx0ZXIgdGhlIGdpdmVuIFVSTCwgc28gd2UgcGFzcyBhIGNvcHlcblx0bGV0IHJlcm91dGVkO1xuXHR0cnkge1xuXHRcdHJlcm91dGVkID0gYXBwLmhvb2tzLnJlcm91dGUoeyB1cmw6IG5ldyBVUkwodXJsKSB9KSA/PyB1cmwucGF0aG5hbWU7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAoREVWKSB7XG5cdFx0XHQvLyBpbiBkZXZlbG9wbWVudCwgcHJpbnQgdGhlIGVycm9yLi4uXG5cdFx0XHRjb25zb2xlLmVycm9yKGUpO1xuXG5cdFx0XHQvLyAuLi5hbmQgcGF1c2UgZXhlY3V0aW9uLCBzaW5jZSBvdGhlcndpc2Ugd2Ugd2lsbCBpbW1lZGlhdGVseSByZWxvYWQgdGhlIHBhZ2Vcblx0XHRcdGRlYnVnZ2VyOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdFx0fVxuXG5cdFx0Ly8gZmFsbCBiYWNrIHRvIG5hdGl2ZSBuYXZpZ2F0aW9uXG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXG5cdGNvbnN0IHBhdGggPSBnZXRfdXJsX3BhdGgocmVyb3V0ZWQpO1xuXG5cdGZvciAoY29uc3Qgcm91dGUgb2Ygcm91dGVzKSB7XG5cdFx0Y29uc3QgcGFyYW1zID0gcm91dGUuZXhlYyhwYXRoKTtcblxuXHRcdGlmIChwYXJhbXMpIHtcblx0XHRcdGNvbnN0IGlkID0gdXJsLnBhdGhuYW1lICsgdXJsLnNlYXJjaDtcblx0XHRcdC8qKiBAdHlwZSB7aW1wb3J0KCcuL3R5cGVzLmpzJykuTmF2aWdhdGlvbkludGVudH0gKi9cblx0XHRcdGNvbnN0IGludGVudCA9IHtcblx0XHRcdFx0aWQsXG5cdFx0XHRcdGludmFsaWRhdGluZyxcblx0XHRcdFx0cm91dGUsXG5cdFx0XHRcdHBhcmFtczogZGVjb2RlX3BhcmFtcyhwYXJhbXMpLFxuXHRcdFx0XHR1cmxcblx0XHRcdH07XG5cdFx0XHRyZXR1cm4gaW50ZW50O1xuXHRcdH1cblx0fVxufVxuXG4vKiogQHBhcmFtIHtzdHJpbmd9IHBhdGhuYW1lICovXG5mdW5jdGlvbiBnZXRfdXJsX3BhdGgocGF0aG5hbWUpIHtcblx0cmV0dXJuIGRlY29kZV9wYXRobmFtZShwYXRobmFtZS5zbGljZShiYXNlLmxlbmd0aCkgfHwgJy8nKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3tcbiAqICAgdXJsOiBVUkw7XG4gKiAgIHR5cGU6IGltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLk5hdmlnYXRpb25bXCJ0eXBlXCJdO1xuICogICBpbnRlbnQ/OiBpbXBvcnQoJy4vdHlwZXMuanMnKS5OYXZpZ2F0aW9uSW50ZW50O1xuICogICBkZWx0YT86IG51bWJlcjtcbiAqIH19IG9wdHNcbiAqL1xuZnVuY3Rpb24gX2JlZm9yZV9uYXZpZ2F0ZSh7IHVybCwgdHlwZSwgaW50ZW50LCBkZWx0YSB9KSB7XG5cdGxldCBzaG91bGRfYmxvY2sgPSBmYWxzZTtcblxuXHRjb25zdCBuYXYgPSBjcmVhdGVfbmF2aWdhdGlvbihjdXJyZW50LCBpbnRlbnQsIHVybCwgdHlwZSk7XG5cblx0aWYgKGRlbHRhICE9PSB1bmRlZmluZWQpIHtcblx0XHRuYXYubmF2aWdhdGlvbi5kZWx0YSA9IGRlbHRhO1xuXHR9XG5cblx0Y29uc3QgY2FuY2VsbGFibGUgPSB7XG5cdFx0Li4ubmF2Lm5hdmlnYXRpb24sXG5cdFx0Y2FuY2VsOiAoKSA9PiB7XG5cdFx0XHRzaG91bGRfYmxvY2sgPSB0cnVlO1xuXHRcdFx0bmF2LnJlamVjdChuZXcgRXJyb3IoJ25hdmlnYXRpb24gY2FuY2VsbGVkJykpO1xuXHRcdH1cblx0fTtcblxuXHRpZiAoIW5hdmlnYXRpbmcpIHtcblx0XHQvLyBEb24ndCBydW4gdGhlIGV2ZW50IGR1cmluZyByZWRpcmVjdHNcblx0XHRiZWZvcmVfbmF2aWdhdGVfY2FsbGJhY2tzLmZvckVhY2goKGZuKSA9PiBmbihjYW5jZWxsYWJsZSkpO1xuXHR9XG5cblx0cmV0dXJuIHNob3VsZF9ibG9jayA/IG51bGwgOiBuYXY7XG59XG5cbi8qKlxuICogQHBhcmFtIHt7XG4gKiAgIHR5cGU6IGltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLk5hdmlnYXRpb25bXCJ0eXBlXCJdO1xuICogICB1cmw6IFVSTDtcbiAqICAgcG9wcGVkPzoge1xuICogICAgIHN0YXRlOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICogICAgIHNjcm9sbDogeyB4OiBudW1iZXIsIHk6IG51bWJlciB9O1xuICogICAgIGRlbHRhOiBudW1iZXI7XG4gKiAgIH07XG4gKiAgIGtlZXBmb2N1cz86IGJvb2xlYW47XG4gKiAgIG5vc2Nyb2xsPzogYm9vbGVhbjtcbiAqICAgcmVwbGFjZV9zdGF0ZT86IGJvb2xlYW47XG4gKiAgIHN0YXRlPzogUmVjb3JkPHN0cmluZywgYW55PjtcbiAqICAgcmVkaXJlY3RfY291bnQ/OiBudW1iZXI7XG4gKiAgIG5hdl90b2tlbj86IHt9O1xuICogICBhY2NlcHQ/OiAoKSA9PiB2b2lkO1xuICogICBibG9jaz86ICgpID0+IHZvaWQ7XG4gKiB9fSBvcHRzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIG5hdmlnYXRlKHtcblx0dHlwZSxcblx0dXJsLFxuXHRwb3BwZWQsXG5cdGtlZXBmb2N1cyxcblx0bm9zY3JvbGwsXG5cdHJlcGxhY2Vfc3RhdGUsXG5cdHN0YXRlID0ge30sXG5cdHJlZGlyZWN0X2NvdW50ID0gMCxcblx0bmF2X3Rva2VuID0ge30sXG5cdGFjY2VwdCA9IG5vb3AsXG5cdGJsb2NrID0gbm9vcFxufSkge1xuXHRjb25zdCBpbnRlbnQgPSBnZXRfbmF2aWdhdGlvbl9pbnRlbnQodXJsLCBmYWxzZSk7XG5cdGNvbnN0IG5hdiA9IF9iZWZvcmVfbmF2aWdhdGUoeyB1cmwsIHR5cGUsIGRlbHRhOiBwb3BwZWQ/LmRlbHRhLCBpbnRlbnQgfSk7XG5cblx0aWYgKCFuYXYpIHtcblx0XHRibG9jaygpO1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIHN0b3JlIHRoaXMgYmVmb3JlIGNhbGxpbmcgYGFjY2VwdCgpYCwgd2hpY2ggbWF5IGNoYW5nZSB0aGUgaW5kZXhcblx0Y29uc3QgcHJldmlvdXNfaGlzdG9yeV9pbmRleCA9IGN1cnJlbnRfaGlzdG9yeV9pbmRleDtcblx0Y29uc3QgcHJldmlvdXNfbmF2aWdhdGlvbl9pbmRleCA9IGN1cnJlbnRfbmF2aWdhdGlvbl9pbmRleDtcblxuXHRhY2NlcHQoKTtcblxuXHRuYXZpZ2F0aW5nID0gdHJ1ZTtcblxuXHRpZiAoc3RhcnRlZCkge1xuXHRcdHN0b3Jlcy5uYXZpZ2F0aW5nLnNldChuYXYubmF2aWdhdGlvbik7XG5cdH1cblxuXHR0b2tlbiA9IG5hdl90b2tlbjtcblx0bGV0IG5hdmlnYXRpb25fcmVzdWx0ID0gaW50ZW50ICYmIChhd2FpdCBsb2FkX3JvdXRlKGludGVudCkpO1xuXG5cdGlmICghbmF2aWdhdGlvbl9yZXN1bHQpIHtcblx0XHRpZiAoaXNfZXh0ZXJuYWxfdXJsKHVybCwgYmFzZSkpIHtcblx0XHRcdHJldHVybiBhd2FpdCBuYXRpdmVfbmF2aWdhdGlvbih1cmwpO1xuXHRcdH1cblx0XHRuYXZpZ2F0aW9uX3Jlc3VsdCA9IGF3YWl0IHNlcnZlcl9mYWxsYmFjayhcblx0XHRcdHVybCxcblx0XHRcdHsgaWQ6IG51bGwgfSxcblx0XHRcdGF3YWl0IGhhbmRsZV9lcnJvcihuZXcgU3ZlbHRlS2l0RXJyb3IoNDA0LCAnTm90IEZvdW5kJywgYE5vdCBmb3VuZDogJHt1cmwucGF0aG5hbWV9YCksIHtcblx0XHRcdFx0dXJsLFxuXHRcdFx0XHRwYXJhbXM6IHt9LFxuXHRcdFx0XHRyb3V0ZTogeyBpZDogbnVsbCB9XG5cdFx0XHR9KSxcblx0XHRcdDQwNFxuXHRcdCk7XG5cdH1cblxuXHQvLyBpZiB0aGlzIGlzIGFuIGludGVybmFsIG5hdmlnYXRpb24gaW50ZW50LCB1c2UgdGhlIG5vcm1hbGl6ZWRcblx0Ly8gVVJMIGZvciB0aGUgcmVzdCBvZiB0aGUgZnVuY3Rpb25cblx0dXJsID0gaW50ZW50Py51cmwgfHwgdXJsO1xuXG5cdC8vIGFib3J0IGlmIHVzZXIgbmF2aWdhdGVkIGR1cmluZyB1cGRhdGVcblx0aWYgKHRva2VuICE9PSBuYXZfdG9rZW4pIHtcblx0XHRuYXYucmVqZWN0KG5ldyBFcnJvcignbmF2aWdhdGlvbiBhYm9ydGVkJykpO1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlmIChuYXZpZ2F0aW9uX3Jlc3VsdC50eXBlID09PSAncmVkaXJlY3QnKSB7XG5cdFx0Ly8gd2hhdHdnIGZldGNoIHNwZWMgaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI2h0dHAtcmVkaXJlY3QtZmV0Y2ggc2F5cyB0byBlcnJvciBhZnRlciAyMCByZWRpcmVjdHNcblx0XHRpZiAocmVkaXJlY3RfY291bnQgPj0gMjApIHtcblx0XHRcdG5hdmlnYXRpb25fcmVzdWx0ID0gYXdhaXQgbG9hZF9yb290X2Vycm9yX3BhZ2Uoe1xuXHRcdFx0XHRzdGF0dXM6IDUwMCxcblx0XHRcdFx0ZXJyb3I6IGF3YWl0IGhhbmRsZV9lcnJvcihuZXcgRXJyb3IoJ1JlZGlyZWN0IGxvb3AnKSwge1xuXHRcdFx0XHRcdHVybCxcblx0XHRcdFx0XHRwYXJhbXM6IHt9LFxuXHRcdFx0XHRcdHJvdXRlOiB7IGlkOiBudWxsIH1cblx0XHRcdFx0fSksXG5cdFx0XHRcdHVybCxcblx0XHRcdFx0cm91dGU6IHsgaWQ6IG51bGwgfVxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdF9nb3RvKG5ldyBVUkwobmF2aWdhdGlvbl9yZXN1bHQubG9jYXRpb24sIHVybCkuaHJlZiwge30sIHJlZGlyZWN0X2NvdW50ICsgMSwgbmF2X3Rva2VuKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH0gZWxzZSBpZiAoLyoqIEB0eXBlIHtudW1iZXJ9ICovIChuYXZpZ2F0aW9uX3Jlc3VsdC5wcm9wcy5wYWdlLnN0YXR1cykgPj0gNDAwKSB7XG5cdFx0Y29uc3QgdXBkYXRlZCA9IGF3YWl0IHN0b3Jlcy51cGRhdGVkLmNoZWNrKCk7XG5cdFx0aWYgKHVwZGF0ZWQpIHtcblx0XHRcdGF3YWl0IG5hdGl2ZV9uYXZpZ2F0aW9uKHVybCk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gcmVzZXQgaW52YWxpZGF0aW9uIG9ubHkgYWZ0ZXIgYSBmaW5pc2hlZCBuYXZpZ2F0aW9uLiBJZiB0aGVyZSBhcmUgcmVkaXJlY3RzIG9yXG5cdC8vIGFkZGl0aW9uYWwgaW52YWxpZGF0aW9ucywgdGhleSBzaG91bGQgZ2V0IHRoZSBzYW1lIGludmFsaWRhdGlvbiB0cmVhdG1lbnRcblx0cmVzZXRfaW52YWxpZGF0aW9uKCk7XG5cblx0dXBkYXRpbmcgPSB0cnVlO1xuXG5cdHVwZGF0ZV9zY3JvbGxfcG9zaXRpb25zKHByZXZpb3VzX2hpc3RvcnlfaW5kZXgpO1xuXHRjYXB0dXJlX3NuYXBzaG90KHByZXZpb3VzX25hdmlnYXRpb25faW5kZXgpO1xuXG5cdC8vIGVuc3VyZSB0aGUgdXJsIHBhdGhuYW1lIG1hdGNoZXMgdGhlIHBhZ2UncyB0cmFpbGluZyBzbGFzaCBvcHRpb25cblx0aWYgKG5hdmlnYXRpb25fcmVzdWx0LnByb3BzLnBhZ2UudXJsLnBhdGhuYW1lICE9PSB1cmwucGF0aG5hbWUpIHtcblx0XHR1cmwucGF0aG5hbWUgPSBuYXZpZ2F0aW9uX3Jlc3VsdC5wcm9wcy5wYWdlLnVybC5wYXRobmFtZTtcblx0fVxuXG5cdHN0YXRlID0gcG9wcGVkID8gcG9wcGVkLnN0YXRlIDogc3RhdGU7XG5cblx0aWYgKCFwb3BwZWQpIHtcblx0XHQvLyB0aGlzIGlzIGEgbmV3IG5hdmlnYXRpb24sIHJhdGhlciB0aGFuIGEgcG9wc3RhdGVcblx0XHRjb25zdCBjaGFuZ2UgPSByZXBsYWNlX3N0YXRlID8gMCA6IDE7XG5cblx0XHRjb25zdCBlbnRyeSA9IHtcblx0XHRcdFtISVNUT1JZX0lOREVYXTogKGN1cnJlbnRfaGlzdG9yeV9pbmRleCArPSBjaGFuZ2UpLFxuXHRcdFx0W05BVklHQVRJT05fSU5ERVhdOiAoY3VycmVudF9uYXZpZ2F0aW9uX2luZGV4ICs9IGNoYW5nZSksXG5cdFx0XHRbU1RBVEVTX0tFWV06IHN0YXRlXG5cdFx0fTtcblxuXHRcdGNvbnN0IGZuID0gcmVwbGFjZV9zdGF0ZSA/IGhpc3RvcnkucmVwbGFjZVN0YXRlIDogaGlzdG9yeS5wdXNoU3RhdGU7XG5cdFx0Zm4uY2FsbChoaXN0b3J5LCBlbnRyeSwgJycsIHVybCk7XG5cblx0XHRpZiAoIXJlcGxhY2Vfc3RhdGUpIHtcblx0XHRcdGNsZWFyX29ud2FyZF9oaXN0b3J5KGN1cnJlbnRfaGlzdG9yeV9pbmRleCwgY3VycmVudF9uYXZpZ2F0aW9uX2luZGV4KTtcblx0XHR9XG5cdH1cblxuXHQvLyByZXNldCBwcmVsb2FkIHN5bmNocm9ub3VzbHkgYWZ0ZXIgdGhlIGhpc3Rvcnkgc3RhdGUgaGFzIGJlZW4gc2V0IHRvIGF2b2lkIHJhY2UgY29uZGl0aW9uc1xuXHRsb2FkX2NhY2hlID0gbnVsbDtcblxuXHRuYXZpZ2F0aW9uX3Jlc3VsdC5wcm9wcy5wYWdlLnN0YXRlID0gc3RhdGU7XG5cblx0aWYgKHN0YXJ0ZWQpIHtcblx0XHRjdXJyZW50ID0gbmF2aWdhdGlvbl9yZXN1bHQuc3RhdGU7XG5cblx0XHQvLyByZXNldCB1cmwgYmVmb3JlIHVwZGF0aW5nIHBhZ2Ugc3RvcmVcblx0XHRpZiAobmF2aWdhdGlvbl9yZXN1bHQucHJvcHMucGFnZSkge1xuXHRcdFx0bmF2aWdhdGlvbl9yZXN1bHQucHJvcHMucGFnZS51cmwgPSB1cmw7XG5cdFx0fVxuXG5cdFx0Y29uc3QgYWZ0ZXJfbmF2aWdhdGUgPSAoXG5cdFx0XHRhd2FpdCBQcm9taXNlLmFsbChcblx0XHRcdFx0b25fbmF2aWdhdGVfY2FsbGJhY2tzLm1hcCgoZm4pID0+XG5cdFx0XHRcdFx0Zm4oLyoqIEB0eXBlIHtpbXBvcnQoJ0BzdmVsdGVqcy9raXQnKS5Pbk5hdmlnYXRlfSAqLyAobmF2Lm5hdmlnYXRpb24pKVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KS5maWx0ZXIoLyoqIEByZXR1cm5zIHt2YWx1ZSBpcyAoKSA9PiB2b2lkfSAqLyAodmFsdWUpID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyk7XG5cblx0XHRpZiAoYWZ0ZXJfbmF2aWdhdGUubGVuZ3RoID4gMCkge1xuXHRcdFx0ZnVuY3Rpb24gY2xlYW51cCgpIHtcblx0XHRcdFx0YWZ0ZXJfbmF2aWdhdGVfY2FsbGJhY2tzID0gYWZ0ZXJfbmF2aWdhdGVfY2FsbGJhY2tzLmZpbHRlcihcblx0XHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0KGZuKSA9PiAhYWZ0ZXJfbmF2aWdhdGUuaW5jbHVkZXMoZm4pXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdGFmdGVyX25hdmlnYXRlLnB1c2goY2xlYW51cCk7XG5cdFx0XHRhZnRlcl9uYXZpZ2F0ZV9jYWxsYmFja3MucHVzaCguLi5hZnRlcl9uYXZpZ2F0ZSk7XG5cdFx0fVxuXG5cdFx0cm9vdC4kc2V0KG5hdmlnYXRpb25fcmVzdWx0LnByb3BzKTtcblx0XHRoYXNfbmF2aWdhdGVkID0gdHJ1ZTtcblx0fSBlbHNlIHtcblx0XHRpbml0aWFsaXplKG5hdmlnYXRpb25fcmVzdWx0LCB0YXJnZXQsIGZhbHNlKTtcblx0fVxuXG5cdGNvbnN0IHsgYWN0aXZlRWxlbWVudCB9ID0gZG9jdW1lbnQ7XG5cblx0Ly8gbmVlZCB0byByZW5kZXIgdGhlIERPTSBiZWZvcmUgd2UgY2FuIHNjcm9sbCB0byB0aGUgcmVuZGVyZWQgZWxlbWVudHMgYW5kIGRvIGZvY3VzIG1hbmFnZW1lbnRcblx0YXdhaXQgdGljaygpO1xuXG5cdC8vIHdlIHJlc2V0IHNjcm9sbCBiZWZvcmUgZGVhbGluZyB3aXRoIGZvY3VzLCB0byBhdm9pZCBhIGZsYXNoIG9mIHVuc2Nyb2xsZWQgY29udGVudFxuXHRjb25zdCBzY3JvbGwgPSBwb3BwZWQgPyBwb3BwZWQuc2Nyb2xsIDogbm9zY3JvbGwgPyBzY3JvbGxfc3RhdGUoKSA6IG51bGw7XG5cblx0aWYgKGF1dG9zY3JvbGwpIHtcblx0XHRjb25zdCBkZWVwX2xpbmtlZCA9IHVybC5oYXNoICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRlY29kZVVSSUNvbXBvbmVudCh1cmwuaGFzaC5zbGljZSgxKSkpO1xuXHRcdGlmIChzY3JvbGwpIHtcblx0XHRcdHNjcm9sbFRvKHNjcm9sbC54LCBzY3JvbGwueSk7XG5cdFx0fSBlbHNlIGlmIChkZWVwX2xpbmtlZCkge1xuXHRcdFx0Ly8gSGVyZSB3ZSB1c2UgYHNjcm9sbEludG9WaWV3YCBvbiB0aGUgZWxlbWVudCBpbnN0ZWFkIG9mIGBzY3JvbGxUb2Bcblx0XHRcdC8vIGJlY2F1c2UgaXQgbmF0aXZlbHkgc3VwcG9ydHMgdGhlIGBzY3JvbGwtbWFyZ2luYCBhbmQgYHNjcm9sbC1iZWhhdmlvcmBcblx0XHRcdC8vIENTUyBwcm9wZXJ0aWVzLlxuXHRcdFx0ZGVlcF9saW5rZWQuc2Nyb2xsSW50b1ZpZXcoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2Nyb2xsVG8oMCwgMCk7XG5cdFx0fVxuXHR9XG5cblx0Y29uc3QgY2hhbmdlZF9mb2N1cyA9XG5cdFx0Ly8gcmVzZXQgZm9jdXMgb25seSBpZiBhbnkgbWFudWFsIGZvY3VzIG1hbmFnZW1lbnQgZGlkbid0IG92ZXJyaWRlIGl0XG5cdFx0ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gYWN0aXZlRWxlbWVudCAmJlxuXHRcdC8vIGFsc28gcmVmb2N1cyB3aGVuIGFjdGl2ZUVsZW1lbnQgaXMgYm9keSBhbHJlYWR5IGJlY2F1c2UgdGhlXG5cdFx0Ly8gZm9jdXMgZXZlbnQgbWlnaHQgbm90IGhhdmUgYmVlbiBmaXJlZCBvbiBpdCB5ZXRcblx0XHRkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBkb2N1bWVudC5ib2R5O1xuXG5cdGlmICgha2VlcGZvY3VzICYmICFjaGFuZ2VkX2ZvY3VzKSB7XG5cdFx0cmVzZXRfZm9jdXMoKTtcblx0fVxuXG5cdGF1dG9zY3JvbGwgPSB0cnVlO1xuXG5cdGlmIChuYXZpZ2F0aW9uX3Jlc3VsdC5wcm9wcy5wYWdlKSB7XG5cdFx0cGFnZSA9IG5hdmlnYXRpb25fcmVzdWx0LnByb3BzLnBhZ2U7XG5cdH1cblxuXHRuYXZpZ2F0aW5nID0gZmFsc2U7XG5cblx0aWYgKHR5cGUgPT09ICdwb3BzdGF0ZScpIHtcblx0XHRyZXN0b3JlX3NuYXBzaG90KGN1cnJlbnRfbmF2aWdhdGlvbl9pbmRleCk7XG5cdH1cblxuXHRuYXYuZnVsZmlsKHVuZGVmaW5lZCk7XG5cblx0YWZ0ZXJfbmF2aWdhdGVfY2FsbGJhY2tzLmZvckVhY2goKGZuKSA9PlxuXHRcdGZuKC8qKiBAdHlwZSB7aW1wb3J0KCdAc3ZlbHRlanMva2l0JykuQWZ0ZXJOYXZpZ2F0ZX0gKi8gKG5hdi5uYXZpZ2F0aW9uKSlcblx0KTtcblxuXHRzdG9yZXMubmF2aWdhdGluZy5zZXQobnVsbCk7XG5cblx0dXBkYXRpbmcgPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBEb2VzIGEgZnVsbCBwYWdlIHJlbG9hZCBpZiBpdCB3b3VsZG4ndCByZXN1bHQgaW4gYW4gZW5kbGVzcyBsb29wIGluIHRoZSBTUEEgY2FzZVxuICogQHBhcmFtIHtVUkx9IHVybFxuICogQHBhcmFtIHt7IGlkOiBzdHJpbmcgfCBudWxsIH19IHJvdXRlXG4gKiBAcGFyYW0ge0FwcC5FcnJvcn0gZXJyb3JcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGF0dXNcbiAqIEByZXR1cm5zIHtQcm9taXNlPGltcG9ydCgnLi90eXBlcy5qcycpLk5hdmlnYXRpb25GaW5pc2hlZD59XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNlcnZlcl9mYWxsYmFjayh1cmwsIHJvdXRlLCBlcnJvciwgc3RhdHVzKSB7XG5cdGlmICh1cmwub3JpZ2luID09PSBvcmlnaW4gJiYgdXJsLnBhdGhuYW1lID09PSBsb2NhdGlvbi5wYXRobmFtZSAmJiAhaHlkcmF0ZWQpIHtcblx0XHQvLyBXZSB3b3VsZCByZWxvYWQgdGhlIHNhbWUgcGFnZSB3ZSdyZSBjdXJyZW50bHkgb24sIHdoaWNoIGlzbid0IGh5ZHJhdGVkLFxuXHRcdC8vIHdoaWNoIG1lYW5zIG5vIFNTUiwgd2hpY2ggbWVhbnMgd2Ugd291bGQgZW5kIHVwIGluIGFuIGVuZGxlc3MgbG9vcFxuXHRcdHJldHVybiBhd2FpdCBsb2FkX3Jvb3RfZXJyb3JfcGFnZSh7XG5cdFx0XHRzdGF0dXMsXG5cdFx0XHRlcnJvcixcblx0XHRcdHVybCxcblx0XHRcdHJvdXRlXG5cdFx0fSk7XG5cdH1cblxuXHRpZiAoREVWICYmIHN0YXR1cyAhPT0gNDA0KSB7XG5cdFx0Y29uc29sZS5lcnJvcihcblx0XHRcdCdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nIHRoZSBwYWdlLiBUaGlzIHdpbGwgY2F1c2UgYSBmdWxsIHBhZ2UgcmVsb2FkLiAoVGhpcyBtZXNzYWdlIHdpbGwgb25seSBhcHBlYXIgZHVyaW5nIGRldmVsb3BtZW50LiknXG5cdFx0KTtcblxuXHRcdGRlYnVnZ2VyOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdH1cblxuXHRyZXR1cm4gYXdhaXQgbmF0aXZlX25hdmlnYXRpb24odXJsKTtcbn1cblxuaWYgKGltcG9ydC5tZXRhLmhvdCkge1xuXHRpbXBvcnQubWV0YS5ob3Qub24oJ3ZpdGU6YmVmb3JlVXBkYXRlJywgKCkgPT4ge1xuXHRcdGlmIChjdXJyZW50LmVycm9yKSBsb2NhdGlvbi5yZWxvYWQoKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIHNldHVwX3ByZWxvYWQoKSB7XG5cdC8qKiBAdHlwZSB7Tm9kZUpTLlRpbWVvdXR9ICovXG5cdGxldCBtb3VzZW1vdmVfdGltZW91dDtcblxuXHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGV2ZW50KSA9PiB7XG5cdFx0Y29uc3QgdGFyZ2V0ID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAoZXZlbnQudGFyZ2V0KTtcblxuXHRcdGNsZWFyVGltZW91dChtb3VzZW1vdmVfdGltZW91dCk7XG5cdFx0bW91c2Vtb3ZlX3RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdHByZWxvYWQodGFyZ2V0LCAyKTtcblx0XHR9LCAyMCk7XG5cdH0pO1xuXG5cdC8qKiBAcGFyYW0ge0V2ZW50fSBldmVudCAqL1xuXHRmdW5jdGlvbiB0YXAoZXZlbnQpIHtcblx0XHRwcmVsb2FkKC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKGV2ZW50LmNvbXBvc2VkUGF0aCgpWzBdKSwgMSk7XG5cdH1cblxuXHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGFwKTtcblx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0YXAsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcblxuXHRjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcblx0XHQoZW50cmllcykgPT4ge1xuXHRcdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG5cdFx0XHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuXHRcdFx0XHRcdF9wcmVsb2FkX2NvZGUoLyoqIEB0eXBlIHtIVE1MQW5jaG9yRWxlbWVudH0gKi8gKGVudHJ5LnRhcmdldCkuaHJlZik7XG5cdFx0XHRcdFx0b2JzZXJ2ZXIudW5vYnNlcnZlKGVudHJ5LnRhcmdldCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHsgdGhyZXNob2xkOiAwIH1cblx0KTtcblxuXHQvKipcblx0ICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBwcmlvcml0eVxuXHQgKi9cblx0ZnVuY3Rpb24gcHJlbG9hZChlbGVtZW50LCBwcmlvcml0eSkge1xuXHRcdGNvbnN0IGEgPSBmaW5kX2FuY2hvcihlbGVtZW50LCBjb250YWluZXIpO1xuXHRcdGlmICghYSkgcmV0dXJuO1xuXG5cdFx0Y29uc3QgeyB1cmwsIGV4dGVybmFsLCBkb3dubG9hZCB9ID0gZ2V0X2xpbmtfaW5mbyhhLCBiYXNlKTtcblx0XHRpZiAoZXh0ZXJuYWwgfHwgZG93bmxvYWQpIHJldHVybjtcblxuXHRcdGNvbnN0IG9wdGlvbnMgPSBnZXRfcm91dGVyX29wdGlvbnMoYSk7XG5cblx0XHRpZiAoIW9wdGlvbnMucmVsb2FkKSB7XG5cdFx0XHRpZiAocHJpb3JpdHkgPD0gb3B0aW9ucy5wcmVsb2FkX2RhdGEpIHtcblx0XHRcdFx0Y29uc3QgaW50ZW50ID0gZ2V0X25hdmlnYXRpb25faW50ZW50KHVybCwgZmFsc2UpO1xuXHRcdFx0XHRpZiAoaW50ZW50KSB7XG5cdFx0XHRcdFx0aWYgKERFVikge1xuXHRcdFx0XHRcdFx0X3ByZWxvYWRfZGF0YShpbnRlbnQpLnRoZW4oKHJlc3VsdCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAocmVzdWx0LnR5cGUgPT09ICdsb2FkZWQnICYmIHJlc3VsdC5zdGF0ZS5lcnJvcikge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0XHRcdFx0XHRcdGBQcmVsb2FkaW5nIGRhdGEgZm9yICR7aW50ZW50LnVybC5wYXRobmFtZX0gZmFpbGVkIHdpdGggdGhlIGZvbGxvd2luZyBlcnJvcjogJHtyZXN1bHQuc3RhdGUuZXJyb3IubWVzc2FnZX1cXG5gICtcblx0XHRcdFx0XHRcdFx0XHRcdFx0J0lmIHRoaXMgZXJyb3IgaXMgdHJhbnNpZW50LCB5b3UgY2FuIGlnbm9yZSBpdC4gT3RoZXJ3aXNlLCBjb25zaWRlciBkaXNhYmxpbmcgcHJlbG9hZGluZyBmb3IgdGhpcyByb3V0ZS4gJyArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdUaGlzIHJvdXRlIHdhcyBwcmVsb2FkZWQgZHVlIHRvIGEgZGF0YS1zdmVsdGVraXQtcHJlbG9hZC1kYXRhIGF0dHJpYnV0ZS4gJyArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdTZWUgaHR0cHM6Ly9raXQuc3ZlbHRlLmRldi9kb2NzL2xpbmstb3B0aW9ucyBmb3IgbW9yZSBpbmZvJ1xuXHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRfcHJlbG9hZF9kYXRhKGludGVudCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKHByaW9yaXR5IDw9IG9wdGlvbnMucHJlbG9hZF9jb2RlKSB7XG5cdFx0XHRcdF9wcmVsb2FkX2NvZGUoLyoqIEB0eXBlIHtVUkx9ICovICh1cmwpLnBhdGhuYW1lKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBhZnRlcl9uYXZpZ2F0ZSgpIHtcblx0XHRvYnNlcnZlci5kaXNjb25uZWN0KCk7XG5cblx0XHRmb3IgKGNvbnN0IGEgb2YgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKSkge1xuXHRcdFx0Y29uc3QgeyB1cmwsIGV4dGVybmFsLCBkb3dubG9hZCB9ID0gZ2V0X2xpbmtfaW5mbyhhLCBiYXNlKTtcblx0XHRcdGlmIChleHRlcm5hbCB8fCBkb3dubG9hZCkgY29udGludWU7XG5cblx0XHRcdGNvbnN0IG9wdGlvbnMgPSBnZXRfcm91dGVyX29wdGlvbnMoYSk7XG5cdFx0XHRpZiAob3B0aW9ucy5yZWxvYWQpIGNvbnRpbnVlO1xuXG5cdFx0XHRpZiAob3B0aW9ucy5wcmVsb2FkX2NvZGUgPT09IFBSRUxPQURfUFJJT1JJVElFUy52aWV3cG9ydCkge1xuXHRcdFx0XHRvYnNlcnZlci5vYnNlcnZlKGEpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAob3B0aW9ucy5wcmVsb2FkX2NvZGUgPT09IFBSRUxPQURfUFJJT1JJVElFUy5lYWdlcikge1xuXHRcdFx0XHRfcHJlbG9hZF9jb2RlKC8qKiBAdHlwZSB7VVJMfSAqLyAodXJsKS5wYXRobmFtZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0YWZ0ZXJfbmF2aWdhdGVfY2FsbGJhY2tzLnB1c2goYWZ0ZXJfbmF2aWdhdGUpO1xuXHRhZnRlcl9uYXZpZ2F0ZSgpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dW5rbm93bn0gZXJyb3JcbiAqIEBwYXJhbSB7aW1wb3J0KCdAc3ZlbHRlanMva2l0JykuTmF2aWdhdGlvbkV2ZW50fSBldmVudFxuICogQHJldHVybnMge2ltcG9ydCgndHlwZXMnKS5NYXliZVByb21pc2U8QXBwLkVycm9yPn1cbiAqL1xuZnVuY3Rpb24gaGFuZGxlX2Vycm9yKGVycm9yLCBldmVudCkge1xuXHRpZiAoZXJyb3IgaW5zdGFuY2VvZiBIdHRwRXJyb3IpIHtcblx0XHRyZXR1cm4gZXJyb3IuYm9keTtcblx0fVxuXG5cdGlmIChERVYpIHtcblx0XHRlcnJvcmVkID0gdHJ1ZTtcblx0XHRjb25zb2xlLndhcm4oJ1RoZSBuZXh0IEhNUiB1cGRhdGUgd2lsbCBjYXVzZSB0aGUgcGFnZSB0byByZWxvYWQnKTtcblx0fVxuXG5cdGNvbnN0IHN0YXR1cyA9IGdldF9zdGF0dXMoZXJyb3IpO1xuXHRjb25zdCBtZXNzYWdlID0gZ2V0X21lc3NhZ2UoZXJyb3IpO1xuXG5cdHJldHVybiAoXG5cdFx0YXBwLmhvb2tzLmhhbmRsZUVycm9yKHsgZXJyb3IsIGV2ZW50LCBzdGF0dXMsIG1lc3NhZ2UgfSkgPz8gLyoqIEB0eXBlIHthbnl9ICovICh7IG1lc3NhZ2UgfSlcblx0KTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge0Z1bmN0aW9ufSBUXG4gKiBAcGFyYW0ge1RbXX0gY2FsbGJhY2tzXG4gKiBAcGFyYW0ge1R9IGNhbGxiYWNrXG4gKi9cbmZ1bmN0aW9uIGFkZF9uYXZpZ2F0aW9uX2NhbGxiYWNrKGNhbGxiYWNrcywgY2FsbGJhY2spIHtcblx0b25Nb3VudCgoKSA9PiB7XG5cdFx0Y2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuXG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdGNvbnN0IGkgPSBjYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayk7XG5cdFx0XHRjYWxsYmFja3Muc3BsaWNlKGksIDEpO1xuXHRcdH07XG5cdH0pO1xufVxuXG4vKipcbiAqIEEgbGlmZWN5Y2xlIGZ1bmN0aW9uIHRoYXQgcnVucyB0aGUgc3VwcGxpZWQgYGNhbGxiYWNrYCB3aGVuIHRoZSBjdXJyZW50IGNvbXBvbmVudCBtb3VudHMsIGFuZCBhbHNvIHdoZW5ldmVyIHdlIG5hdmlnYXRlIHRvIGEgbmV3IFVSTC5cbiAqXG4gKiBgYWZ0ZXJOYXZpZ2F0ZWAgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIGEgY29tcG9uZW50IGluaXRpYWxpemF0aW9uLiBJdCByZW1haW5zIGFjdGl2ZSBhcyBsb25nIGFzIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZC5cbiAqIEBwYXJhbSB7KG5hdmlnYXRpb246IGltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLkFmdGVyTmF2aWdhdGUpID0+IHZvaWR9IGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFmdGVyTmF2aWdhdGUoY2FsbGJhY2spIHtcblx0YWRkX25hdmlnYXRpb25fY2FsbGJhY2soYWZ0ZXJfbmF2aWdhdGVfY2FsbGJhY2tzLCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICogQSBuYXZpZ2F0aW9uIGludGVyY2VwdG9yIHRoYXQgdHJpZ2dlcnMgYmVmb3JlIHdlIG5hdmlnYXRlIHRvIGEgbmV3IFVSTCwgd2hldGhlciBieSBjbGlja2luZyBhIGxpbmssIGNhbGxpbmcgYGdvdG8oLi4uKWAsIG9yIHVzaW5nIHRoZSBicm93c2VyIGJhY2svZm9yd2FyZCBjb250cm9scy5cbiAqXG4gKiBDYWxsaW5nIGBjYW5jZWwoKWAgd2lsbCBwcmV2ZW50IHRoZSBuYXZpZ2F0aW9uIGZyb20gY29tcGxldGluZy4gSWYgYG5hdmlnYXRpb24udHlwZSA9PT0gJ2xlYXZlJ2Ag4oCUIG1lYW5pbmcgdGhlIHVzZXIgaXMgbmF2aWdhdGluZyBhd2F5IGZyb20gdGhlIGFwcCAob3IgY2xvc2luZyB0aGUgdGFiKSDigJQgY2FsbGluZyBgY2FuY2VsYCB3aWxsIHRyaWdnZXIgdGhlIG5hdGl2ZSBicm93c2VyIHVubG9hZCBjb25maXJtYXRpb24gZGlhbG9nLiBJbiB0aGlzIGNhc2UsIHRoZSBuYXZpZ2F0aW9uIG1heSBvciBtYXkgbm90IGJlIGNhbmNlbGxlZCBkZXBlbmRpbmcgb24gdGhlIHVzZXIncyByZXNwb25zZS5cbiAqXG4gKiBXaGVuIGEgbmF2aWdhdGlvbiBpc24ndCB0byBhIFN2ZWx0ZUtpdC1vd25lZCByb3V0ZSAoYW5kIHRoZXJlZm9yZSBjb250cm9sbGVkIGJ5IFN2ZWx0ZUtpdCdzIGNsaWVudC1zaWRlIHJvdXRlciksIGBuYXZpZ2F0aW9uLnRvLnJvdXRlLmlkYCB3aWxsIGJlIGBudWxsYC5cbiAqXG4gKiBJZiB0aGUgbmF2aWdhdGlvbiB3aWxsIChpZiBub3QgY2FuY2VsbGVkKSBjYXVzZSB0aGUgZG9jdW1lbnQgdG8gdW5sb2FkIOKAlCBpbiBvdGhlciB3b3JkcyBgJ2xlYXZlJ2AgbmF2aWdhdGlvbnMgYW5kIGAnbGluaydgIG5hdmlnYXRpb25zIHdoZXJlIGBuYXZpZ2F0aW9uLnRvLnJvdXRlID09PSBudWxsYCDigJQgYG5hdmlnYXRpb24ud2lsbFVubG9hZGAgaXMgYHRydWVgLlxuICpcbiAqIGBiZWZvcmVOYXZpZ2F0ZWAgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIGEgY29tcG9uZW50IGluaXRpYWxpemF0aW9uLiBJdCByZW1haW5zIGFjdGl2ZSBhcyBsb25nIGFzIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZC5cbiAqIEBwYXJhbSB7KG5hdmlnYXRpb246IGltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLkJlZm9yZU5hdmlnYXRlKSA9PiB2b2lkfSBjYWxsYmFja1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiZWZvcmVOYXZpZ2F0ZShjYWxsYmFjaykge1xuXHRhZGRfbmF2aWdhdGlvbl9jYWxsYmFjayhiZWZvcmVfbmF2aWdhdGVfY2FsbGJhY2tzLCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICogQSBsaWZlY3ljbGUgZnVuY3Rpb24gdGhhdCBydW5zIHRoZSBzdXBwbGllZCBgY2FsbGJhY2tgIGltbWVkaWF0ZWx5IGJlZm9yZSB3ZSBuYXZpZ2F0ZSB0byBhIG5ldyBVUkwgZXhjZXB0IGR1cmluZyBmdWxsLXBhZ2UgbmF2aWdhdGlvbnMuXG4gKlxuICogSWYgeW91IHJldHVybiBhIGBQcm9taXNlYCwgU3ZlbHRlS2l0IHdpbGwgd2FpdCBmb3IgaXQgdG8gcmVzb2x2ZSBiZWZvcmUgY29tcGxldGluZyB0aGUgbmF2aWdhdGlvbi4gVGhpcyBhbGxvd3MgeW91IHRvIOKAlCBmb3IgZXhhbXBsZSDigJQgdXNlIGBkb2N1bWVudC5zdGFydFZpZXdUcmFuc2l0aW9uYC4gQXZvaWQgcHJvbWlzZXMgdGhhdCBhcmUgc2xvdyB0byByZXNvbHZlLCBzaW5jZSBuYXZpZ2F0aW9uIHdpbGwgYXBwZWFyIHN0YWxsZWQgdG8gdGhlIHVzZXIuXG4gKlxuICogSWYgYSBmdW5jdGlvbiAob3IgYSBgUHJvbWlzZWAgdGhhdCByZXNvbHZlcyB0byBhIGZ1bmN0aW9uKSBpcyByZXR1cm5lZCBmcm9tIHRoZSBjYWxsYmFjaywgaXQgd2lsbCBiZSBjYWxsZWQgb25jZSB0aGUgRE9NIGhhcyB1cGRhdGVkLlxuICpcbiAqIGBvbk5hdmlnYXRlYCBtdXN0IGJlIGNhbGxlZCBkdXJpbmcgYSBjb21wb25lbnQgaW5pdGlhbGl6YXRpb24uIEl0IHJlbWFpbnMgYWN0aXZlIGFzIGxvbmcgYXMgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkLlxuICogQHBhcmFtIHsobmF2aWdhdGlvbjogaW1wb3J0KCdAc3ZlbHRlanMva2l0JykuT25OYXZpZ2F0ZSkgPT4gaW1wb3J0KCd0eXBlcycpLk1heWJlUHJvbWlzZTwoKCkgPT4gdm9pZCkgfCB2b2lkPn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gb25OYXZpZ2F0ZShjYWxsYmFjaykge1xuXHRhZGRfbmF2aWdhdGlvbl9jYWxsYmFjayhvbl9uYXZpZ2F0ZV9jYWxsYmFja3MsIGNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKiBJZiBjYWxsZWQgd2hlbiB0aGUgcGFnZSBpcyBiZWluZyB1cGRhdGVkIGZvbGxvd2luZyBhIG5hdmlnYXRpb24gKGluIGBvbk1vdW50YCBvciBgYWZ0ZXJOYXZpZ2F0ZWAgb3IgYW4gYWN0aW9uLCBmb3IgZXhhbXBsZSksIHRoaXMgZGlzYWJsZXMgU3ZlbHRlS2l0J3MgYnVpbHQtaW4gc2Nyb2xsIGhhbmRsaW5nLlxuICogVGhpcyBpcyBnZW5lcmFsbHkgZGlzY291cmFnZWQsIHNpbmNlIGl0IGJyZWFrcyB1c2VyIGV4cGVjdGF0aW9ucy5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZVNjcm9sbEhhbmRsaW5nKCkge1xuXHRpZiAoIUJST1dTRVIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxsIGRpc2FibGVTY3JvbGxIYW5kbGluZygpIG9uIHRoZSBzZXJ2ZXInKTtcblx0fVxuXG5cdGlmIChERVYgJiYgc3RhcnRlZCAmJiAhdXBkYXRpbmcpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0NhbiBvbmx5IGRpc2FibGUgc2Nyb2xsIGhhbmRsaW5nIGR1cmluZyBuYXZpZ2F0aW9uJyk7XG5cdH1cblxuXHRpZiAodXBkYXRpbmcgfHwgIXN0YXJ0ZWQpIHtcblx0XHRhdXRvc2Nyb2xsID0gZmFsc2U7XG5cdH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gU3ZlbHRlS2l0IG5hdmlnYXRlcyAob3IgZmFpbHMgdG8gbmF2aWdhdGUsIGluIHdoaWNoIGNhc2UgdGhlIHByb21pc2UgcmVqZWN0cykgdG8gdGhlIHNwZWNpZmllZCBgdXJsYC5cbiAqIEZvciBleHRlcm5hbCBVUkxzLCB1c2UgYHdpbmRvdy5sb2NhdGlvbiA9IHVybGAgaW5zdGVhZCBvZiBjYWxsaW5nIGBnb3RvKHVybClgLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nIHwgVVJMfSB1cmwgV2hlcmUgdG8gbmF2aWdhdGUgdG8uIE5vdGUgdGhhdCBpZiB5b3UndmUgc2V0IFtgY29uZmlnLmtpdC5wYXRocy5iYXNlYF0oaHR0cHM6Ly9raXQuc3ZlbHRlLmRldi9kb2NzL2NvbmZpZ3VyYXRpb24jcGF0aHMpIGFuZCB0aGUgVVJMIGlzIHJvb3QtcmVsYXRpdmUsIHlvdSBuZWVkIHRvIHByZXBlbmQgdGhlIGJhc2UgcGF0aCBpZiB5b3Ugd2FudCB0byBuYXZpZ2F0ZSB3aXRoaW4gdGhlIGFwcC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0c10gT3B0aW9ucyByZWxhdGVkIHRvIHRoZSBuYXZpZ2F0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnJlcGxhY2VTdGF0ZV0gSWYgYHRydWVgLCB3aWxsIHJlcGxhY2UgdGhlIGN1cnJlbnQgYGhpc3RvcnlgIGVudHJ5IHJhdGhlciB0aGFuIGNyZWF0aW5nIGEgbmV3IG9uZSB3aXRoIGBwdXNoU3RhdGVgXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLm5vU2Nyb2xsXSBJZiBgdHJ1ZWAsIHRoZSBicm93c2VyIHdpbGwgbWFpbnRhaW4gaXRzIHNjcm9sbCBwb3NpdGlvbiByYXRoZXIgdGhhbiBzY3JvbGxpbmcgdG8gdGhlIHRvcCBvZiB0aGUgcGFnZSBhZnRlciBuYXZpZ2F0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmtlZXBGb2N1c10gSWYgYHRydWVgLCB0aGUgY3VycmVudGx5IGZvY3VzZWQgZWxlbWVudCB3aWxsIHJldGFpbiBmb2N1cyBhZnRlciBuYXZpZ2F0aW9uLiBPdGhlcndpc2UsIGZvY3VzIHdpbGwgYmUgcmVzZXQgdG8gdGhlIGJvZHlcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuaW52YWxpZGF0ZUFsbF0gSWYgYHRydWVgLCBhbGwgYGxvYWRgIGZ1bmN0aW9ucyBvZiB0aGUgcGFnZSB3aWxsIGJlIHJlcnVuLiBTZWUgaHR0cHM6Ly9raXQuc3ZlbHRlLmRldi9kb2NzL2xvYWQjcmVydW5uaW5nLWxvYWQtZnVuY3Rpb25zIGZvciBtb3JlIGluZm8gb24gaW52YWxpZGF0aW9uLlxuICogQHBhcmFtIHtBcHAuUGFnZVN0YXRlfSBbb3B0cy5zdGF0ZV0gQW4gb3B0aW9uYWwgb2JqZWN0IHRoYXQgd2lsbCBiZSBhdmFpbGFibGUgb24gdGhlIGAkcGFnZS5zdGF0ZWAgc3RvcmVcbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ290byh1cmwsIG9wdHMgPSB7fSkge1xuXHRpZiAoIUJST1dTRVIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxsIGdvdG8oLi4uKSBvbiB0aGUgc2VydmVyJyk7XG5cdH1cblxuXHR1cmwgPSByZXNvbHZlX3VybCh1cmwpO1xuXG5cdGlmICh1cmwub3JpZ2luICE9PSBvcmlnaW4pIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoXG5cdFx0XHRuZXcgRXJyb3IoXG5cdFx0XHRcdERFVlxuXHRcdFx0XHRcdD8gYENhbm5vdCB1c2UgXFxgZ290b1xcYCB3aXRoIGFuIGV4dGVybmFsIFVSTC4gVXNlIFxcYHdpbmRvdy5sb2NhdGlvbiA9IFwiJHt1cmx9XCJcXGAgaW5zdGVhZGBcblx0XHRcdFx0XHQ6ICdnb3RvOiBpbnZhbGlkIFVSTCdcblx0XHRcdClcblx0XHQpO1xuXHR9XG5cblx0cmV0dXJuIF9nb3RvKHVybCwgb3B0cywgMCk7XG59XG5cbi8qKlxuICogQ2F1c2VzIGFueSBgbG9hZGAgZnVuY3Rpb25zIGJlbG9uZ2luZyB0byB0aGUgY3VycmVudGx5IGFjdGl2ZSBwYWdlIHRvIHJlLXJ1biBpZiB0aGV5IGRlcGVuZCBvbiB0aGUgYHVybGAgaW4gcXVlc3Rpb24sIHZpYSBgZmV0Y2hgIG9yIGBkZXBlbmRzYC4gUmV0dXJucyBhIGBQcm9taXNlYCB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHBhZ2UgaXMgc3Vic2VxdWVudGx5IHVwZGF0ZWQuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGdpdmVuIGFzIGEgYHN0cmluZ2Agb3IgYFVSTGAsIGl0IG11c3QgcmVzb2x2ZSB0byB0aGUgc2FtZSBVUkwgdGhhdCB3YXMgcGFzc2VkIHRvIGBmZXRjaGAgb3IgYGRlcGVuZHNgIChpbmNsdWRpbmcgcXVlcnkgcGFyYW1ldGVycykuXG4gKiBUbyBjcmVhdGUgYSBjdXN0b20gaWRlbnRpZmllciwgdXNlIGEgc3RyaW5nIGJlZ2lubmluZyB3aXRoIGBbYS16XSs6YCAoZS5nLiBgY3VzdG9tOnN0YXRlYCkg4oCUIHRoaXMgaXMgYSB2YWxpZCBVUkwuXG4gKlxuICogVGhlIGBmdW5jdGlvbmAgYXJndW1lbnQgY2FuIGJlIHVzZWQgZGVmaW5lIGEgY3VzdG9tIHByZWRpY2F0ZS4gSXQgcmVjZWl2ZXMgdGhlIGZ1bGwgYFVSTGAgYW5kIGNhdXNlcyBgbG9hZGAgdG8gcmVydW4gaWYgYHRydWVgIGlzIHJldHVybmVkLlxuICogVGhpcyBjYW4gYmUgdXNlZnVsIGlmIHlvdSB3YW50IHRvIGludmFsaWRhdGUgYmFzZWQgb24gYSBwYXR0ZXJuIGluc3RlYWQgb2YgYSBleGFjdCBtYXRjaC5cbiAqXG4gKiBgYGB0c1xuICogLy8gRXhhbXBsZTogTWF0Y2ggJy9wYXRoJyByZWdhcmRsZXNzIG9mIHRoZSBxdWVyeSBwYXJhbWV0ZXJzXG4gKiBpbXBvcnQgeyBpbnZhbGlkYXRlIH0gZnJvbSAnJGFwcC9uYXZpZ2F0aW9uJztcbiAqXG4gKiBpbnZhbGlkYXRlKCh1cmwpID0+IHVybC5wYXRobmFtZSA9PT0gJy9wYXRoJyk7XG4gKiBgYGBcbiAqIEBwYXJhbSB7c3RyaW5nIHwgVVJMIHwgKCh1cmw6IFVSTCkgPT4gYm9vbGVhbil9IHJlc291cmNlIFRoZSBpbnZhbGlkYXRlZCBVUkxcbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52YWxpZGF0ZShyZXNvdXJjZSkge1xuXHRpZiAoIUJST1dTRVIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxsIGludmFsaWRhdGUoLi4uKSBvbiB0aGUgc2VydmVyJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIHJlc291cmNlID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0aW52YWxpZGF0ZWQucHVzaChyZXNvdXJjZSk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc3QgeyBocmVmIH0gPSBuZXcgVVJMKHJlc291cmNlLCBsb2NhdGlvbi5ocmVmKTtcblx0XHRpbnZhbGlkYXRlZC5wdXNoKCh1cmwpID0+IHVybC5ocmVmID09PSBocmVmKTtcblx0fVxuXG5cdHJldHVybiBfaW52YWxpZGF0ZSgpO1xufVxuXG4vKipcbiAqIENhdXNlcyBhbGwgYGxvYWRgIGZ1bmN0aW9ucyBiZWxvbmdpbmcgdG8gdGhlIGN1cnJlbnRseSBhY3RpdmUgcGFnZSB0byByZS1ydW4uIFJldHVybnMgYSBgUHJvbWlzZWAgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBwYWdlIGlzIHN1YnNlcXVlbnRseSB1cGRhdGVkLlxuICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZhbGlkYXRlQWxsKCkge1xuXHRpZiAoIUJST1dTRVIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxsIGludmFsaWRhdGVBbGwoKSBvbiB0aGUgc2VydmVyJyk7XG5cdH1cblxuXHRmb3JjZV9pbnZhbGlkYXRpb24gPSB0cnVlO1xuXHRyZXR1cm4gX2ludmFsaWRhdGUoKTtcbn1cblxuLyoqXG4gKiBQcm9ncmFtbWF0aWNhbGx5IHByZWxvYWRzIHRoZSBnaXZlbiBwYWdlLCB3aGljaCBtZWFuc1xuICogIDEuIGVuc3VyaW5nIHRoYXQgdGhlIGNvZGUgZm9yIHRoZSBwYWdlIGlzIGxvYWRlZCwgYW5kXG4gKiAgMi4gY2FsbGluZyB0aGUgcGFnZSdzIGxvYWQgZnVuY3Rpb24gd2l0aCB0aGUgYXBwcm9wcmlhdGUgb3B0aW9ucy5cbiAqXG4gKiBUaGlzIGlzIHRoZSBzYW1lIGJlaGF2aW91ciB0aGF0IFN2ZWx0ZUtpdCB0cmlnZ2VycyB3aGVuIHRoZSB1c2VyIHRhcHMgb3IgbW91c2VzIG92ZXIgYW4gYDxhPmAgZWxlbWVudCB3aXRoIGBkYXRhLXN2ZWx0ZWtpdC1wcmVsb2FkLWRhdGFgLlxuICogSWYgdGhlIG5leHQgbmF2aWdhdGlvbiBpcyB0byBgaHJlZmAsIHRoZSB2YWx1ZXMgcmV0dXJuZWQgZnJvbSBsb2FkIHdpbGwgYmUgdXNlZCwgbWFraW5nIG5hdmlnYXRpb24gaW5zdGFudGFuZW91cy5cbiAqIFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgdGhlIG5ldyByb3V0ZSdzIGBsb2FkYCBmdW5jdGlvbnMgb25jZSB0aGUgcHJlbG9hZCBpcyBjb21wbGV0ZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaHJlZiBQYWdlIHRvIHByZWxvYWRcbiAqIEByZXR1cm5zIHtQcm9taXNlPHsgdHlwZTogJ2xvYWRlZCc7IHN0YXR1czogbnVtYmVyOyBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IH0gfCB7IHR5cGU6ICdyZWRpcmVjdCc7IGxvY2F0aW9uOiBzdHJpbmcgfT59XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcmVsb2FkRGF0YShocmVmKSB7XG5cdGlmICghQlJPV1NFUikge1xuXHRcdHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGwgcHJlbG9hZERhdGEoLi4uKSBvbiB0aGUgc2VydmVyJyk7XG5cdH1cblxuXHRjb25zdCB1cmwgPSByZXNvbHZlX3VybChocmVmKTtcblx0Y29uc3QgaW50ZW50ID0gZ2V0X25hdmlnYXRpb25faW50ZW50KHVybCwgZmFsc2UpO1xuXG5cdGlmICghaW50ZW50KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBBdHRlbXB0ZWQgdG8gcHJlbG9hZCBhIFVSTCB0aGF0IGRvZXMgbm90IGJlbG9uZyB0byB0aGlzIGFwcDogJHt1cmx9YCk7XG5cdH1cblxuXHRjb25zdCByZXN1bHQgPSBhd2FpdCBfcHJlbG9hZF9kYXRhKGludGVudCk7XG5cdGlmIChyZXN1bHQudHlwZSA9PT0gJ3JlZGlyZWN0Jykge1xuXHRcdHJldHVybiB7XG5cdFx0XHR0eXBlOiByZXN1bHQudHlwZSxcblx0XHRcdGxvY2F0aW9uOiByZXN1bHQubG9jYXRpb25cblx0XHR9O1xuXHR9XG5cblx0Y29uc3QgeyBzdGF0dXMsIGRhdGEgfSA9IHJlc3VsdC5wcm9wcy5wYWdlID8/IHBhZ2U7XG5cdHJldHVybiB7IHR5cGU6IHJlc3VsdC50eXBlLCBzdGF0dXMsIGRhdGEgfTtcbn1cblxuLyoqXG4gKiBQcm9ncmFtbWF0aWNhbGx5IGltcG9ydHMgdGhlIGNvZGUgZm9yIHJvdXRlcyB0aGF0IGhhdmVuJ3QgeWV0IGJlZW4gZmV0Y2hlZC5cbiAqIFR5cGljYWxseSwgeW91IG1pZ2h0IGNhbGwgdGhpcyB0byBzcGVlZCB1cCBzdWJzZXF1ZW50IG5hdmlnYXRpb24uXG4gKlxuICogWW91IGNhbiBzcGVjaWZ5IHJvdXRlcyBieSBhbnkgbWF0Y2hpbmcgcGF0aG5hbWUgc3VjaCBhcyBgL2Fib3V0YCAodG8gbWF0Y2ggYHNyYy9yb3V0ZXMvYWJvdXQvK3BhZ2Uuc3ZlbHRlYCkgb3IgYC9ibG9nLypgICh0byBtYXRjaCBgc3JjL3JvdXRlcy9ibG9nL1tzbHVnXS8rcGFnZS5zdmVsdGVgKS5cbiAqXG4gKiBVbmxpa2UgYHByZWxvYWREYXRhYCwgdGhpcyB3b24ndCBjYWxsIGBsb2FkYCBmdW5jdGlvbnMuXG4gKiBSZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIG1vZHVsZXMgaGF2ZSBiZWVuIGltcG9ydGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRobmFtZVxuICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVsb2FkQ29kZShwYXRobmFtZSkge1xuXHRpZiAoIUJST1dTRVIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxsIHByZWxvYWRDb2RlKC4uLikgb24gdGhlIHNlcnZlcicpO1xuXHR9XG5cblx0aWYgKERFVikge1xuXHRcdGlmICghcGF0aG5hbWUuc3RhcnRzV2l0aChiYXNlKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRgcGF0aG5hbWVzIHBhc3NlZCB0byBwcmVsb2FkQ29kZSBtdXN0IHN0YXJ0IHdpdGggXFxgcGF0aHMuYmFzZVxcYCAoaS5lLiBcIiR7YmFzZX0ke3BhdGhuYW1lfVwiIHJhdGhlciB0aGFuIFwiJHtwYXRobmFtZX1cIilgXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGlmICghcm91dGVzLmZpbmQoKHJvdXRlKSA9PiByb3V0ZS5leGVjKGdldF91cmxfcGF0aChwYXRobmFtZSkpKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGAnJHtwYXRobmFtZX0nIGRpZCBub3QgbWF0Y2ggYW55IHJvdXRlc2ApO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBfcHJlbG9hZF9jb2RlKHBhdGhuYW1lKTtcbn1cblxuLyoqXG4gKiBQcm9ncmFtbWF0aWNhbGx5IGNyZWF0ZSBhIG5ldyBoaXN0b3J5IGVudHJ5IHdpdGggdGhlIGdpdmVuIGAkcGFnZS5zdGF0ZWAuIFRvIHVzZSB0aGUgY3VycmVudCBVUkwsIHlvdSBjYW4gcGFzcyBgJydgIGFzIHRoZSBmaXJzdCBhcmd1bWVudC4gVXNlZCBmb3IgW3NoYWxsb3cgcm91dGluZ10oaHR0cHM6Ly9raXQuc3ZlbHRlLmRldi9kb2NzL3NoYWxsb3ctcm91dGluZykuXG4gKlxuICogQHBhcmFtIHtzdHJpbmcgfCBVUkx9IHVybFxuICogQHBhcmFtIHtBcHAuUGFnZVN0YXRlfSBzdGF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwdXNoU3RhdGUodXJsLCBzdGF0ZSkge1xuXHRpZiAoIUJST1dTRVIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxsIHB1c2hTdGF0ZSguLi4pIG9uIHRoZSBzZXJ2ZXInKTtcblx0fVxuXG5cdGlmIChERVYpIHtcblx0XHR0cnkge1xuXHRcdFx0Ly8gdXNlIGBkZXZhbHVlLnN0cmluZ2lmeWAgYXMgYSBjb252ZW5pZW50IHdheSB0byBlbnN1cmUgd2UgZXhjbHVkZSB2YWx1ZXMgdGhhdCBjYW4ndCBiZSBwcm9wZXJseSByZWh5ZHJhdGVkLCBzdWNoIGFzIGN1c3RvbSBjbGFzcyBpbnN0YW5jZXNcblx0XHRcdGRldmFsdWUuc3RyaW5naWZ5KHN0YXRlKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3Qgc2VyaWFsaXplIHN0YXRlJHtlcnJvci5wYXRofWApO1xuXHRcdH1cblx0fVxuXG5cdHVwZGF0ZV9zY3JvbGxfcG9zaXRpb25zKGN1cnJlbnRfaGlzdG9yeV9pbmRleCk7XG5cblx0Y29uc3Qgb3B0cyA9IHtcblx0XHRbSElTVE9SWV9JTkRFWF06IChjdXJyZW50X2hpc3RvcnlfaW5kZXggKz0gMSksXG5cdFx0W05BVklHQVRJT05fSU5ERVhdOiBjdXJyZW50X25hdmlnYXRpb25faW5kZXgsXG5cdFx0W1BBR0VfVVJMX0tFWV06IHBhZ2UudXJsLmhyZWYsXG5cdFx0W1NUQVRFU19LRVldOiBzdGF0ZVxuXHR9O1xuXG5cdGhpc3RvcnkucHVzaFN0YXRlKG9wdHMsICcnLCByZXNvbHZlX3VybCh1cmwpKTtcblx0aGFzX25hdmlnYXRlZCA9IHRydWU7XG5cblx0cGFnZSA9IHsgLi4ucGFnZSwgc3RhdGUgfTtcblx0cm9vdC4kc2V0KHsgcGFnZSB9KTtcblxuXHRjbGVhcl9vbndhcmRfaGlzdG9yeShjdXJyZW50X2hpc3RvcnlfaW5kZXgsIGN1cnJlbnRfbmF2aWdhdGlvbl9pbmRleCk7XG59XG5cbi8qKlxuICogUHJvZ3JhbW1hdGljYWxseSByZXBsYWNlIHRoZSBjdXJyZW50IGhpc3RvcnkgZW50cnkgd2l0aCB0aGUgZ2l2ZW4gYCRwYWdlLnN0YXRlYC4gVG8gdXNlIHRoZSBjdXJyZW50IFVSTCwgeW91IGNhbiBwYXNzIGAnJ2AgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LiBVc2VkIGZvciBbc2hhbGxvdyByb3V0aW5nXShodHRwczovL2tpdC5zdmVsdGUuZGV2L2RvY3Mvc2hhbGxvdy1yb3V0aW5nKS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZyB8IFVSTH0gdXJsXG4gKiBAcGFyYW0ge0FwcC5QYWdlU3RhdGV9IHN0YXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VTdGF0ZSh1cmwsIHN0YXRlKSB7XG5cdGlmICghQlJPV1NFUikge1xuXHRcdHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGwgcmVwbGFjZVN0YXRlKC4uLikgb24gdGhlIHNlcnZlcicpO1xuXHR9XG5cblx0aWYgKERFVikge1xuXHRcdHRyeSB7XG5cdFx0XHQvLyB1c2UgYGRldmFsdWUuc3RyaW5naWZ5YCBhcyBhIGNvbnZlbmllbnQgd2F5IHRvIGVuc3VyZSB3ZSBleGNsdWRlIHZhbHVlcyB0aGF0IGNhbid0IGJlIHByb3Blcmx5IHJlaHlkcmF0ZWQsIHN1Y2ggYXMgY3VzdG9tIGNsYXNzIGluc3RhbmNlc1xuXHRcdFx0ZGV2YWx1ZS5zdHJpbmdpZnkoc3RhdGUpO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBzZXJpYWxpemUgc3RhdGUke2Vycm9yLnBhdGh9YCk7XG5cdFx0fVxuXHR9XG5cblx0Y29uc3Qgb3B0cyA9IHtcblx0XHRbSElTVE9SWV9JTkRFWF06IGN1cnJlbnRfaGlzdG9yeV9pbmRleCxcblx0XHRbTkFWSUdBVElPTl9JTkRFWF06IGN1cnJlbnRfbmF2aWdhdGlvbl9pbmRleCxcblx0XHRbUEFHRV9VUkxfS0VZXTogcGFnZS51cmwuaHJlZixcblx0XHRbU1RBVEVTX0tFWV06IHN0YXRlXG5cdH07XG5cblx0aGlzdG9yeS5yZXBsYWNlU3RhdGUob3B0cywgJycsIHJlc29sdmVfdXJsKHVybCkpO1xuXG5cdHBhZ2UgPSB7IC4uLnBhZ2UsIHN0YXRlIH07XG5cdHJvb3QuJHNldCh7IHBhZ2UgfSk7XG59XG5cbi8qKlxuICogVGhpcyBhY3Rpb24gdXBkYXRlcyB0aGUgYGZvcm1gIHByb3BlcnR5IG9mIHRoZSBjdXJyZW50IHBhZ2Ugd2l0aCB0aGUgZ2l2ZW4gZGF0YSBhbmQgdXBkYXRlcyBgJHBhZ2Uuc3RhdHVzYC5cbiAqIEluIGNhc2Ugb2YgYW4gZXJyb3IsIGl0IHJlZGlyZWN0cyB0byB0aGUgbmVhcmVzdCBlcnJvciBwYWdlLlxuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IHVuZGVmaW5lZH0gU3VjY2Vzc1xuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IHVuZGVmaW5lZH0gRmFpbHVyZVxuICogQHBhcmFtIHtpbXBvcnQoJ0BzdmVsdGVqcy9raXQnKS5BY3Rpb25SZXN1bHQ8U3VjY2VzcywgRmFpbHVyZT59IHJlc3VsdFxuICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcHBseUFjdGlvbihyZXN1bHQpIHtcblx0aWYgKCFCUk9XU0VSKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsbCBhcHBseUFjdGlvbiguLi4pIG9uIHRoZSBzZXJ2ZXInKTtcblx0fVxuXG5cdGlmIChyZXN1bHQudHlwZSA9PT0gJ2Vycm9yJykge1xuXHRcdGNvbnN0IHVybCA9IG5ldyBVUkwobG9jYXRpb24uaHJlZik7XG5cblx0XHRjb25zdCB7IGJyYW5jaCwgcm91dGUgfSA9IGN1cnJlbnQ7XG5cdFx0aWYgKCFyb3V0ZSkgcmV0dXJuO1xuXG5cdFx0Y29uc3QgZXJyb3JfbG9hZCA9IGF3YWl0IGxvYWRfbmVhcmVzdF9lcnJvcl9wYWdlKGN1cnJlbnQuYnJhbmNoLmxlbmd0aCwgYnJhbmNoLCByb3V0ZS5lcnJvcnMpO1xuXHRcdGlmIChlcnJvcl9sb2FkKSB7XG5cdFx0XHRjb25zdCBuYXZpZ2F0aW9uX3Jlc3VsdCA9IGF3YWl0IGdldF9uYXZpZ2F0aW9uX3Jlc3VsdF9mcm9tX2JyYW5jaCh7XG5cdFx0XHRcdHVybCxcblx0XHRcdFx0cGFyYW1zOiBjdXJyZW50LnBhcmFtcyxcblx0XHRcdFx0YnJhbmNoOiBicmFuY2guc2xpY2UoMCwgZXJyb3JfbG9hZC5pZHgpLmNvbmNhdChlcnJvcl9sb2FkLm5vZGUpLFxuXHRcdFx0XHRzdGF0dXM6IHJlc3VsdC5zdGF0dXMgPz8gNTAwLFxuXHRcdFx0XHRlcnJvcjogcmVzdWx0LmVycm9yLFxuXHRcdFx0XHRyb3V0ZVxuXHRcdFx0fSk7XG5cblx0XHRcdGN1cnJlbnQgPSBuYXZpZ2F0aW9uX3Jlc3VsdC5zdGF0ZTtcblxuXHRcdFx0cm9vdC4kc2V0KG5hdmlnYXRpb25fcmVzdWx0LnByb3BzKTtcblxuXHRcdFx0dGljaygpLnRoZW4ocmVzZXRfZm9jdXMpO1xuXHRcdH1cblx0fSBlbHNlIGlmIChyZXN1bHQudHlwZSA9PT0gJ3JlZGlyZWN0Jykge1xuXHRcdF9nb3RvKHJlc3VsdC5sb2NhdGlvbiwgeyBpbnZhbGlkYXRlQWxsOiB0cnVlIH0sIDApO1xuXHR9IGVsc2Uge1xuXHRcdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gKi9cblx0XHRyb290LiRzZXQoe1xuXHRcdFx0Ly8gdGhpcyBicmluZ3MgU3ZlbHRlJ3MgdmlldyBvZiB0aGUgd29ybGQgaW4gbGluZSB3aXRoIFN2ZWx0ZUtpdCdzXG5cdFx0XHQvLyBhZnRlciB1c2U6ZW5oYW5jZSByZXNldCB0aGUgZm9ybS4uLi5cblx0XHRcdGZvcm06IG51bGwsXG5cdFx0XHRwYWdlOiB7IC4uLnBhZ2UsIGZvcm06IHJlc3VsdC5kYXRhLCBzdGF0dXM6IHJlc3VsdC5zdGF0dXMgfVxuXHRcdH0pO1xuXG5cdFx0Ly8gLi4uc28gdGhhdCBzZXR0aW5nIHRoZSBgZm9ybWAgcHJvcCB0YWtlcyBlZmZlY3QgYW5kIGlzbid0IGlnbm9yZWRcblx0XHRhd2FpdCB0aWNrKCk7XG5cdFx0cm9vdC4kc2V0KHsgZm9ybTogcmVzdWx0LmRhdGEgfSk7XG5cblx0XHRpZiAocmVzdWx0LnR5cGUgPT09ICdzdWNjZXNzJykge1xuXHRcdFx0cmVzZXRfZm9jdXMoKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gX3N0YXJ0X3JvdXRlcigpIHtcblx0aGlzdG9yeS5zY3JvbGxSZXN0b3JhdGlvbiA9ICdtYW51YWwnO1xuXG5cdC8vIEFkb3B0ZWQgZnJvbSBOdXh0LmpzXG5cdC8vIFJlc2V0IHNjcm9sbFJlc3RvcmF0aW9uIHRvIGF1dG8gd2hlbiBsZWF2aW5nIHBhZ2UsIGFsbG93aW5nIHBhZ2UgcmVsb2FkXG5cdC8vIGFuZCBiYWNrLW5hdmlnYXRpb24gZnJvbSBvdGhlciBwYWdlcyB0byB1c2UgdGhlIGJyb3dzZXIgdG8gcmVzdG9yZSB0aGVcblx0Ly8gc2Nyb2xsaW5nIHBvc2l0aW9uLlxuXHRhZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCAoZSkgPT4ge1xuXHRcdGxldCBzaG91bGRfYmxvY2sgPSBmYWxzZTtcblxuXHRcdHBlcnNpc3Rfc3RhdGUoKTtcblxuXHRcdGlmICghbmF2aWdhdGluZykge1xuXHRcdFx0Y29uc3QgbmF2ID0gY3JlYXRlX25hdmlnYXRpb24oY3VycmVudCwgdW5kZWZpbmVkLCBudWxsLCAnbGVhdmUnKTtcblxuXHRcdFx0Ly8gSWYgd2UncmUgbmF2aWdhdGluZywgYmVmb3JlTmF2aWdhdGUgd2FzIGFscmVhZHkgY2FsbGVkLiBJZiB3ZSBlbmQgdXAgaW4gaGVyZSBkdXJpbmcgbmF2aWdhdGlvbixcblx0XHRcdC8vIGl0J3MgZHVlIHRvIGFuIGV4dGVybmFsIG9yIGZ1bGwtcGFnZS1yZWxvYWQgbGluaywgZm9yIHdoaWNoIHdlIGRvbid0IHdhbnQgdG8gY2FsbCB0aGUgaG9vayBhZ2Fpbi5cblx0XHRcdC8qKiBAdHlwZSB7aW1wb3J0KCdAc3ZlbHRlanMva2l0JykuQmVmb3JlTmF2aWdhdGV9ICovXG5cdFx0XHRjb25zdCBuYXZpZ2F0aW9uID0ge1xuXHRcdFx0XHQuLi5uYXYubmF2aWdhdGlvbixcblx0XHRcdFx0Y2FuY2VsOiAoKSA9PiB7XG5cdFx0XHRcdFx0c2hvdWxkX2Jsb2NrID0gdHJ1ZTtcblx0XHRcdFx0XHRuYXYucmVqZWN0KG5ldyBFcnJvcignbmF2aWdhdGlvbiBjYW5jZWxsZWQnKSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdGJlZm9yZV9uYXZpZ2F0ZV9jYWxsYmFja3MuZm9yRWFjaCgoZm4pID0+IGZuKG5hdmlnYXRpb24pKTtcblx0XHR9XG5cblx0XHRpZiAoc2hvdWxkX2Jsb2NrKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRlLnJldHVyblZhbHVlID0gJyc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSAnYXV0byc7XG5cdFx0fVxuXHR9KTtcblxuXHRhZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgKCkgPT4ge1xuXHRcdGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICdoaWRkZW4nKSB7XG5cdFx0XHRwZXJzaXN0X3N0YXRlKCk7XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBAdHMtZXhwZWN0LWVycm9yIHRoaXMgaXNuJ3Qgc3VwcG9ydGVkIGV2ZXJ5d2hlcmUgeWV0XG5cdGlmICghbmF2aWdhdG9yLmNvbm5lY3Rpb24/LnNhdmVEYXRhKSB7XG5cdFx0c2V0dXBfcHJlbG9hZCgpO1xuXHR9XG5cblx0LyoqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgKi9cblx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0Ly8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS92aXNpb25tZWRpYS9wYWdlLmpzXG5cdFx0Ly8gTUlUIGxpY2Vuc2UgaHR0cHM6Ly9naXRodWIuY29tL3Zpc2lvbm1lZGlhL3BhZ2UuanMjbGljZW5zZVxuXHRcdGlmIChldmVudC5idXR0b24gfHwgZXZlbnQud2hpY2ggIT09IDEpIHJldHVybjtcblx0XHRpZiAoZXZlbnQubWV0YUtleSB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50LmFsdEtleSkgcmV0dXJuO1xuXHRcdGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47XG5cblx0XHRjb25zdCBhID0gZmluZF9hbmNob3IoLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAoZXZlbnQuY29tcG9zZWRQYXRoKClbMF0pLCBjb250YWluZXIpO1xuXHRcdGlmICghYSkgcmV0dXJuO1xuXG5cdFx0Y29uc3QgeyB1cmwsIGV4dGVybmFsLCB0YXJnZXQsIGRvd25sb2FkIH0gPSBnZXRfbGlua19pbmZvKGEsIGJhc2UpO1xuXHRcdGlmICghdXJsKSByZXR1cm47XG5cblx0XHQvLyBiYWlsIG91dCBiZWZvcmUgYGJlZm9yZU5hdmlnYXRlYCBpZiBsaW5rIG9wZW5zIGluIGEgZGlmZmVyZW50IHRhYlxuXHRcdGlmICh0YXJnZXQgPT09ICdfcGFyZW50JyB8fCB0YXJnZXQgPT09ICdfdG9wJykge1xuXHRcdFx0aWYgKHdpbmRvdy5wYXJlbnQgIT09IHdpbmRvdykgcmV0dXJuO1xuXHRcdH0gZWxzZSBpZiAodGFyZ2V0ICYmIHRhcmdldCAhPT0gJ19zZWxmJykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IG9wdGlvbnMgPSBnZXRfcm91dGVyX29wdGlvbnMoYSk7XG5cdFx0Y29uc3QgaXNfc3ZnX2FfZWxlbWVudCA9IGEgaW5zdGFuY2VvZiBTVkdBRWxlbWVudDtcblxuXHRcdC8vIElnbm9yZSBVUkwgcHJvdG9jb2xzIHRoYXQgZGlmZmVyIHRvIHRoZSBjdXJyZW50IG9uZSBhbmQgYXJlIG5vdCBodHRwKHMpIChlLmcuIGBtYWlsdG86YCwgYHRlbDpgLCBgbXlhcHA6YCwgZXRjLilcblx0XHQvLyBUaGlzIG1heSBiZSB3cm9uZyB3aGVuIHRoZSBwcm90b2NvbCBpcyB4OiBhbmQgdGhlIGxpbmsgZ29lcyB0byB5Oi4uIHdoaWNoIHNob3VsZCBiZSB0cmVhdGVkIGFzIGFuIGV4dGVybmFsXG5cdFx0Ly8gbmF2aWdhdGlvbiwgYnV0IGl0J3Mgbm90IGNsZWFyIGhvdyB0byBoYW5kbGUgdGhhdCBjYXNlIGFuZCBpdCdzIG5vdCBsaWtlbHkgdG8gY29tZSB1cCBpbiBwcmFjdGljZS5cblx0XHQvLyBNRU1POiBXaXRob3V0IHRoaXMgY29uZGl0aW9uLCBmaXJlZm94IHdpbGwgb3BlbiBtYWlsZXIgdHdpY2UuXG5cdFx0Ly8gU2VlOlxuXHRcdC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL2tpdC9pc3N1ZXMvNDA0NVxuXHRcdC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL2tpdC9pc3N1ZXMvNTcyNVxuXHRcdC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL2tpdC9pc3N1ZXMvNjQ5NlxuXHRcdGlmIChcblx0XHRcdCFpc19zdmdfYV9lbGVtZW50ICYmXG5cdFx0XHR1cmwucHJvdG9jb2wgIT09IGxvY2F0aW9uLnByb3RvY29sICYmXG5cdFx0XHQhKHVybC5wcm90b2NvbCA9PT0gJ2h0dHBzOicgfHwgdXJsLnByb3RvY29sID09PSAnaHR0cDonKVxuXHRcdClcblx0XHRcdHJldHVybjtcblxuXHRcdGlmIChkb3dubG9hZCkgcmV0dXJuO1xuXG5cdFx0Ly8gSWdub3JlIHRoZSBmb2xsb3dpbmcgYnV0IGZpcmUgYmVmb3JlTmF2aWdhdGVcblx0XHRpZiAoZXh0ZXJuYWwgfHwgb3B0aW9ucy5yZWxvYWQpIHtcblx0XHRcdGlmIChfYmVmb3JlX25hdmlnYXRlKHsgdXJsLCB0eXBlOiAnbGluaycgfSkpIHtcblx0XHRcdFx0Ly8gc2V0IGBuYXZpZ2F0aW5nYCB0byBgdHJ1ZWAgdG8gcHJldmVudCBgYmVmb3JlTmF2aWdhdGVgIGNhbGxiYWNrc1xuXHRcdFx0XHQvLyBiZWluZyBjYWxsZWQgd2hlbiB0aGUgcGFnZSB1bmxvYWRzXG5cdFx0XHRcdG5hdmlnYXRpbmcgPSB0cnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIENoZWNrIGlmIG5ldyB1cmwgb25seSBkaWZmZXJzIGJ5IGhhc2ggYW5kIHVzZSB0aGUgYnJvd3NlciBkZWZhdWx0IGJlaGF2aW9yIGluIHRoYXQgY2FzZVxuXHRcdC8vIFRoaXMgd2lsbCBlbnN1cmUgdGhlIGBoYXNoY2hhbmdlYCBldmVudCBpcyBmaXJlZFxuXHRcdC8vIFJlbW92aW5nIHRoZSBoYXNoIGRvZXMgYSBmdWxsIHBhZ2UgbmF2aWdhdGlvbiBpbiB0aGUgYnJvd3Nlciwgc28gbWFrZSBzdXJlIGEgaGFzaCBpcyBwcmVzZW50XG5cdFx0Y29uc3QgW25vbmhhc2gsIGhhc2hdID0gdXJsLmhyZWYuc3BsaXQoJyMnKTtcblx0XHRpZiAoaGFzaCAhPT0gdW5kZWZpbmVkICYmIG5vbmhhc2ggPT09IHN0cmlwX2hhc2gobG9jYXRpb24pKSB7XG5cdFx0XHQvLyBJZiB3ZSBhcmUgdHJ5aW5nIHRvIG5hdmlnYXRlIHRvIHRoZSBzYW1lIGhhc2gsIHdlIHNob3VsZCBvbmx5XG5cdFx0XHQvLyBhdHRlbXB0IHRvIHNjcm9sbCB0byB0aGF0IGVsZW1lbnQgYW5kIGF2b2lkIGFueSBoaXN0b3J5IGNoYW5nZXMuXG5cdFx0XHQvLyBPdGhlcndpc2UsIHRoaXMgY2FuIGNhdXNlIEZpcmVmb3ggdG8gaW5jb3JyZWN0bHkgYXNzaWduIGEgbnVsbFxuXHRcdFx0Ly8gaGlzdG9yeSBzdGF0ZSB2YWx1ZSB3aXRob3V0IGFueSBzaWduYWwgdGhhdCB3ZSBjYW4gZGV0ZWN0LlxuXHRcdFx0Y29uc3QgWywgY3VycmVudF9oYXNoXSA9IGN1cnJlbnQudXJsLmhyZWYuc3BsaXQoJyMnKTtcblx0XHRcdGlmIChjdXJyZW50X2hhc2ggPT09IGhhc2gpIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHQvLyBXZSdyZSBhbHJlYWR5IG9uIC8jIGFuZCBjbGljayBvbiBhIGxpbmsgdGhhdCBnb2VzIHRvIC8jLCBvciB3ZSdyZSBvblxuXHRcdFx0XHQvLyAvI3RvcCBhbmQgY2xpY2sgb24gYSBsaW5rIHRoYXQgZ29lcyB0byAvI3RvcC4gSW4gdGhvc2UgY2FzZXMganVzdCBnbyB0b1xuXHRcdFx0XHQvLyB0aGUgdG9wIG9mIHRoZSBwYWdlLCBhbmQgYXZvaWQgYSBoaXN0b3J5IGNoYW5nZS5cblx0XHRcdFx0aWYgKGhhc2ggPT09ICcnIHx8IChoYXNoID09PSAndG9wJyAmJiBhLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvcCcpID09PSBudWxsKSkge1xuXHRcdFx0XHRcdHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogMCB9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRhLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaGFzaCk/LnNjcm9sbEludG9WaWV3KCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHQvLyBzZXQgdGhpcyBmbGFnIHRvIGRpc3Rpbmd1aXNoIGJldHdlZW4gbmF2aWdhdGlvbnMgdHJpZ2dlcmVkIGJ5XG5cdFx0XHQvLyBjbGlja2luZyBhIGhhc2ggbGluayBhbmQgdGhvc2UgdHJpZ2dlcmVkIGJ5IHBvcHN0YXRlXG5cdFx0XHRoYXNoX25hdmlnYXRpbmcgPSB0cnVlO1xuXG5cdFx0XHR1cGRhdGVfc2Nyb2xsX3Bvc2l0aW9ucyhjdXJyZW50X2hpc3RvcnlfaW5kZXgpO1xuXG5cdFx0XHR1cGRhdGVfdXJsKHVybCk7XG5cblx0XHRcdGlmICghb3B0aW9ucy5yZXBsYWNlX3N0YXRlKSByZXR1cm47XG5cblx0XHRcdC8vIGhhc2hjaGFuZ2UgZXZlbnQgc2hvdWxkbid0IG9jY3VyIGlmIHRoZSByb3V0ZXIgaXMgcmVwbGFjaW5nIHN0YXRlLlxuXHRcdFx0aGFzaF9uYXZpZ2F0aW5nID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdG5hdmlnYXRlKHtcblx0XHRcdHR5cGU6ICdsaW5rJyxcblx0XHRcdHVybCxcblx0XHRcdGtlZXBmb2N1czogb3B0aW9ucy5rZWVwZm9jdXMsXG5cdFx0XHRub3Njcm9sbDogb3B0aW9ucy5ub3Njcm9sbCxcblx0XHRcdHJlcGxhY2Vfc3RhdGU6IG9wdGlvbnMucmVwbGFjZV9zdGF0ZSA/PyB1cmwuaHJlZiA9PT0gbG9jYXRpb24uaHJlZlxuXHRcdH0pO1xuXHR9KTtcblxuXHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XG5cdFx0aWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHJldHVybjtcblxuXHRcdGNvbnN0IGZvcm0gPSAvKiogQHR5cGUge0hUTUxGb3JtRWxlbWVudH0gKi8gKFxuXHRcdFx0SFRNTEZvcm1FbGVtZW50LnByb3RvdHlwZS5jbG9uZU5vZGUuY2FsbChldmVudC50YXJnZXQpXG5cdFx0KTtcblxuXHRcdGNvbnN0IHN1Ym1pdHRlciA9IC8qKiBAdHlwZSB7SFRNTEJ1dHRvbkVsZW1lbnQgfCBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbH0gKi8gKGV2ZW50LnN1Ym1pdHRlcik7XG5cblx0XHRjb25zdCBtZXRob2QgPSBzdWJtaXR0ZXI/LmZvcm1NZXRob2QgfHwgZm9ybS5tZXRob2Q7XG5cblx0XHRpZiAobWV0aG9kICE9PSAnZ2V0JykgcmV0dXJuO1xuXG5cdFx0Y29uc3QgdXJsID0gbmV3IFVSTChcblx0XHRcdChzdWJtaXR0ZXI/Lmhhc0F0dHJpYnV0ZSgnZm9ybWFjdGlvbicpICYmIHN1Ym1pdHRlcj8uZm9ybUFjdGlvbikgfHwgZm9ybS5hY3Rpb25cblx0XHQpO1xuXG5cdFx0aWYgKGlzX2V4dGVybmFsX3VybCh1cmwsIGJhc2UpKSByZXR1cm47XG5cblx0XHRjb25zdCBldmVudF9mb3JtID0gLyoqIEB0eXBlIHtIVE1MRm9ybUVsZW1lbnR9ICovIChldmVudC50YXJnZXQpO1xuXG5cdFx0Y29uc3Qgb3B0aW9ucyA9IGdldF9yb3V0ZXJfb3B0aW9ucyhldmVudF9mb3JtKTtcblx0XHRpZiAob3B0aW9ucy5yZWxvYWQpIHJldHVybjtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHRjb25zdCBkYXRhID0gbmV3IEZvcm1EYXRhKGV2ZW50X2Zvcm0pO1xuXG5cdFx0Y29uc3Qgc3VibWl0dGVyX25hbWUgPSBzdWJtaXR0ZXI/LmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuXHRcdGlmIChzdWJtaXR0ZXJfbmFtZSkge1xuXHRcdFx0ZGF0YS5hcHBlbmQoc3VibWl0dGVyX25hbWUsIHN1Ym1pdHRlcj8uZ2V0QXR0cmlidXRlKCd2YWx1ZScpID8/ICcnKTtcblx0XHR9XG5cblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIGBVUkxTZWFyY2hQYXJhbXMoZmQpYCBpcyBrb3NoZXIsIGJ1dCB0eXBlc2NyaXB0IGRvZXNuJ3Qga25vdyB0aGF0XG5cdFx0dXJsLnNlYXJjaCA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoZGF0YSkudG9TdHJpbmcoKTtcblxuXHRcdG5hdmlnYXRlKHtcblx0XHRcdHR5cGU6ICdmb3JtJyxcblx0XHRcdHVybCxcblx0XHRcdGtlZXBmb2N1czogb3B0aW9ucy5rZWVwZm9jdXMsXG5cdFx0XHRub3Njcm9sbDogb3B0aW9ucy5ub3Njcm9sbCxcblx0XHRcdHJlcGxhY2Vfc3RhdGU6IG9wdGlvbnMucmVwbGFjZV9zdGF0ZSA/PyB1cmwuaHJlZiA9PT0gbG9jYXRpb24uaHJlZlxuXHRcdH0pO1xuXHR9KTtcblxuXHRhZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIGFzeW5jIChldmVudCkgPT4ge1xuXHRcdGlmIChldmVudC5zdGF0ZT8uW0hJU1RPUllfSU5ERVhdKSB7XG5cdFx0XHRjb25zdCBoaXN0b3J5X2luZGV4ID0gZXZlbnQuc3RhdGVbSElTVE9SWV9JTkRFWF07XG5cdFx0XHR0b2tlbiA9IHt9O1xuXG5cdFx0XHQvLyBpZiBhIHBvcHN0YXRlLWRyaXZlbiBuYXZpZ2F0aW9uIGlzIGNhbmNlbGxlZCwgd2UgbmVlZCB0byBjb3VudGVyYWN0IGl0XG5cdFx0XHQvLyB3aXRoIGhpc3RvcnkuZ28sIHdoaWNoIG1lYW5zIHdlIGVuZCB1cCBiYWNrIGhlcmUsIGhlbmNlIHRoaXMgY2hlY2tcblx0XHRcdGlmIChoaXN0b3J5X2luZGV4ID09PSBjdXJyZW50X2hpc3RvcnlfaW5kZXgpIHJldHVybjtcblxuXHRcdFx0Y29uc3Qgc2Nyb2xsID0gc2Nyb2xsX3Bvc2l0aW9uc1toaXN0b3J5X2luZGV4XTtcblx0XHRcdGNvbnN0IHN0YXRlID0gZXZlbnQuc3RhdGVbU1RBVEVTX0tFWV0gPz8ge307XG5cdFx0XHRjb25zdCB1cmwgPSBuZXcgVVJMKGV2ZW50LnN0YXRlW1BBR0VfVVJMX0tFWV0gPz8gbG9jYXRpb24uaHJlZik7XG5cdFx0XHRjb25zdCBuYXZpZ2F0aW9uX2luZGV4ID0gZXZlbnQuc3RhdGVbTkFWSUdBVElPTl9JTkRFWF07XG5cdFx0XHRjb25zdCBpc19oYXNoX2NoYW5nZSA9IHN0cmlwX2hhc2gobG9jYXRpb24pID09PSBzdHJpcF9oYXNoKGN1cnJlbnQudXJsKTtcblx0XHRcdGNvbnN0IHNoYWxsb3cgPVxuXHRcdFx0XHRuYXZpZ2F0aW9uX2luZGV4ID09PSBjdXJyZW50X25hdmlnYXRpb25faW5kZXggJiYgKGhhc19uYXZpZ2F0ZWQgfHwgaXNfaGFzaF9jaGFuZ2UpO1xuXG5cdFx0XHRpZiAoc2hhbGxvdykge1xuXHRcdFx0XHQvLyBXZSBkb24ndCBuZWVkIHRvIG5hdmlnYXRlLCB3ZSBqdXN0IG5lZWQgdG8gdXBkYXRlIHNjcm9sbCBhbmQvb3Igc3RhdGUuXG5cdFx0XHRcdC8vIFRoaXMgaGFwcGVucyB3aXRoIGhhc2ggbGlua3MgYW5kIGBwdXNoU3RhdGVgL2ByZXBsYWNlU3RhdGVgLiBUaGVcblx0XHRcdFx0Ly8gZXhjZXB0aW9uIGlzIGlmIHdlIGhhdmVuJ3QgbmF2aWdhdGVkIHlldCwgc2luY2Ugd2UgY291bGQgaGF2ZVxuXHRcdFx0XHQvLyBnb3QgaGVyZSBhZnRlciBhIG1vZGFsIG5hdmlnYXRpb24gdGhlbiBhIHJlbG9hZFxuXHRcdFx0XHR1cGRhdGVfdXJsKHVybCk7XG5cblx0XHRcdFx0c2Nyb2xsX3Bvc2l0aW9uc1tjdXJyZW50X2hpc3RvcnlfaW5kZXhdID0gc2Nyb2xsX3N0YXRlKCk7XG5cdFx0XHRcdGlmIChzY3JvbGwpIHNjcm9sbFRvKHNjcm9sbC54LCBzY3JvbGwueSk7XG5cblx0XHRcdFx0aWYgKHN0YXRlICE9PSBwYWdlLnN0YXRlKSB7XG5cdFx0XHRcdFx0cGFnZSA9IHsgLi4ucGFnZSwgc3RhdGUgfTtcblx0XHRcdFx0XHRyb290LiRzZXQoeyBwYWdlIH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y3VycmVudF9oaXN0b3J5X2luZGV4ID0gaGlzdG9yeV9pbmRleDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBkZWx0YSA9IGhpc3RvcnlfaW5kZXggLSBjdXJyZW50X2hpc3RvcnlfaW5kZXg7XG5cblx0XHRcdGF3YWl0IG5hdmlnYXRlKHtcblx0XHRcdFx0dHlwZTogJ3BvcHN0YXRlJyxcblx0XHRcdFx0dXJsLFxuXHRcdFx0XHRwb3BwZWQ6IHtcblx0XHRcdFx0XHRzdGF0ZSxcblx0XHRcdFx0XHRzY3JvbGwsXG5cdFx0XHRcdFx0ZGVsdGFcblx0XHRcdFx0fSxcblx0XHRcdFx0YWNjZXB0OiAoKSA9PiB7XG5cdFx0XHRcdFx0Y3VycmVudF9oaXN0b3J5X2luZGV4ID0gaGlzdG9yeV9pbmRleDtcblx0XHRcdFx0XHRjdXJyZW50X25hdmlnYXRpb25faW5kZXggPSBuYXZpZ2F0aW9uX2luZGV4O1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRibG9jazogKCkgPT4ge1xuXHRcdFx0XHRcdGhpc3RvcnkuZ28oLWRlbHRhKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0bmF2X3Rva2VuOiB0b2tlblxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHNpbmNlIHBvcHN0YXRlIGV2ZW50IGlzIGFsc28gZW1pdHRlZCB3aGVuIGFuIGFuY2hvciByZWZlcmVuY2luZyB0aGUgc2FtZVxuXHRcdFx0Ly8gZG9jdW1lbnQgaXMgY2xpY2tlZCwgd2UgaGF2ZSB0byBjaGVjayB0aGF0IHRoZSByb3V0ZXIgaXNuJ3QgYWxyZWFkeSBoYW5kbGluZ1xuXHRcdFx0Ly8gdGhlIG5hdmlnYXRpb24uIG90aGVyd2lzZSB3ZSB3b3VsZCBiZSB1cGRhdGluZyB0aGUgcGFnZSBzdG9yZSB0d2ljZS5cblx0XHRcdGlmICghaGFzaF9uYXZpZ2F0aW5nKSB7XG5cdFx0XHRcdGNvbnN0IHVybCA9IG5ldyBVUkwobG9jYXRpb24uaHJlZik7XG5cdFx0XHRcdHVwZGF0ZV91cmwodXJsKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdGFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCAoKSA9PiB7XG5cdFx0Ly8gaWYgdGhlIGhhc2hjaGFuZ2UgaGFwcGVuZWQgYXMgYSByZXN1bHQgb2YgY2xpY2tpbmcgb24gYSBsaW5rLFxuXHRcdC8vIHdlIG5lZWQgdG8gdXBkYXRlIGhpc3RvcnksIG90aGVyd2lzZSB3ZSBoYXZlIHRvIGxlYXZlIGl0IGFsb25lXG5cdFx0aWYgKGhhc2hfbmF2aWdhdGluZykge1xuXHRcdFx0aGFzaF9uYXZpZ2F0aW5nID0gZmFsc2U7XG5cdFx0XHRoaXN0b3J5LnJlcGxhY2VTdGF0ZShcblx0XHRcdFx0e1xuXHRcdFx0XHRcdC4uLmhpc3Rvcnkuc3RhdGUsXG5cdFx0XHRcdFx0W0hJU1RPUllfSU5ERVhdOiArK2N1cnJlbnRfaGlzdG9yeV9pbmRleCxcblx0XHRcdFx0XHRbTkFWSUdBVElPTl9JTkRFWF06IGN1cnJlbnRfbmF2aWdhdGlvbl9pbmRleFxuXHRcdFx0XHR9LFxuXHRcdFx0XHQnJyxcblx0XHRcdFx0bG9jYXRpb24uaHJlZlxuXHRcdFx0KTtcblx0XHR9XG5cdH0pO1xuXG5cdC8vIGZpeCBsaW5rW3JlbD1pY29uXSwgYmVjYXVzZSBicm93c2VycyB3aWxsIG9jY2FzaW9uYWxseSB0cnkgdG8gbG9hZCByZWxhdGl2ZVxuXHQvLyBVUkxzIGFmdGVyIGEgcHVzaFN0YXRlL3JlcGxhY2VTdGF0ZSwgcmVzdWx0aW5nIGluIGEgNDA0IOKAlCBzZWVcblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL2tpdC9pc3N1ZXMvMzc0OCNpc3N1ZWNvbW1lbnQtMTEyNTk4MDg5N1xuXHRmb3IgKGNvbnN0IGxpbmsgb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbGluaycpKSB7XG5cdFx0aWYgKGxpbmsucmVsID09PSAnaWNvbicpIGxpbmsuaHJlZiA9IGxpbmsuaHJlZjsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHR9XG5cblx0YWRkRXZlbnRMaXN0ZW5lcigncGFnZXNob3cnLCAoZXZlbnQpID0+IHtcblx0XHQvLyBJZiB0aGUgdXNlciBuYXZpZ2F0ZXMgdG8gYW5vdGhlciBzaXRlIGFuZCB0aGVuIHVzZXMgdGhlIGJhY2sgYnV0dG9uIGFuZFxuXHRcdC8vIGJmY2FjaGUgaGl0cywgd2UgbmVlZCB0byBzZXQgbmF2aWdhdGluZyB0byBudWxsLCB0aGUgc2l0ZSBkb2Vzbid0IGtub3dcblx0XHQvLyB0aGUgbmF2aWdhdGlvbiBhd2F5IGZyb20gaXQgd2FzIHN1Y2Nlc3NmdWwuXG5cdFx0Ly8gSW5mbyBhYm91dCBiZmNhY2hlIGhlcmU6IGh0dHBzOi8vd2ViLmRldi9iZmNhY2hlXG5cdFx0aWYgKGV2ZW50LnBlcnNpc3RlZCkge1xuXHRcdFx0c3RvcmVzLm5hdmlnYXRpbmcuc2V0KG51bGwpO1xuXHRcdH1cblx0fSk7XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7VVJMfSB1cmxcblx0ICovXG5cdGZ1bmN0aW9uIHVwZGF0ZV91cmwodXJsKSB7XG5cdFx0Y3VycmVudC51cmwgPSB1cmw7XG5cdFx0c3RvcmVzLnBhZ2Uuc2V0KHsgLi4ucGFnZSwgdXJsIH0pO1xuXHRcdHN0b3Jlcy5wYWdlLm5vdGlmeSgpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0XG4gKiBAcGFyYW0ge3tcbiAqICAgc3RhdHVzOiBudW1iZXI7XG4gKiAgIGVycm9yOiBBcHAuRXJyb3IgfCBudWxsO1xuICogICBub2RlX2lkczogbnVtYmVyW107XG4gKiAgIHBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAqICAgcm91dGU6IHsgaWQ6IHN0cmluZyB8IG51bGwgfTtcbiAqICAgZGF0YTogQXJyYXk8aW1wb3J0KCd0eXBlcycpLlNlcnZlckRhdGFOb2RlIHwgbnVsbD47XG4gKiAgIGZvcm06IFJlY29yZDxzdHJpbmcsIGFueT4gfCBudWxsO1xuICogfX0gb3B0c1xuICovXG5hc3luYyBmdW5jdGlvbiBfaHlkcmF0ZShcblx0dGFyZ2V0LFxuXHR7IHN0YXR1cyA9IDIwMCwgZXJyb3IsIG5vZGVfaWRzLCBwYXJhbXMsIHJvdXRlLCBkYXRhOiBzZXJ2ZXJfZGF0YV9ub2RlcywgZm9ybSB9XG4pIHtcblx0aHlkcmF0ZWQgPSB0cnVlO1xuXG5cdGNvbnN0IHVybCA9IG5ldyBVUkwobG9jYXRpb24uaHJlZik7XG5cblx0aWYgKCFfX1NWRUxURUtJVF9FTUJFRERFRF9fKSB7XG5cdFx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9raXQvcHVsbC80OTM1I2lzc3VlY29tbWVudC0xMzI4MDkzMzU4IGZvciBvbmUgbW90aXZhdGlvblxuXHRcdC8vIG9mIGRldGVybWluaW5nIHRoZSBwYXJhbXMgb24gdGhlIGNsaWVudCBzaWRlLlxuXHRcdCh7IHBhcmFtcyA9IHt9LCByb3V0ZSA9IHsgaWQ6IG51bGwgfSB9ID0gZ2V0X25hdmlnYXRpb25faW50ZW50KHVybCwgZmFsc2UpIHx8IHt9KTtcblx0fVxuXG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL3R5cGVzLmpzJykuTmF2aWdhdGlvbkZpbmlzaGVkIHwgdW5kZWZpbmVkfSAqL1xuXHRsZXQgcmVzdWx0O1xuXG5cdHRyeSB7XG5cdFx0Y29uc3QgYnJhbmNoX3Byb21pc2VzID0gbm9kZV9pZHMubWFwKGFzeW5jIChuLCBpKSA9PiB7XG5cdFx0XHRjb25zdCBzZXJ2ZXJfZGF0YV9ub2RlID0gc2VydmVyX2RhdGFfbm9kZXNbaV07XG5cdFx0XHQvLyBUeXBlIGlzbid0IGNvbXBsZXRlbHkgYWNjdXJhdGUsIHdlIHN0aWxsIG5lZWQgdG8gZGVzZXJpYWxpemUgdXNlc1xuXHRcdFx0aWYgKHNlcnZlcl9kYXRhX25vZGU/LnVzZXMpIHtcblx0XHRcdFx0c2VydmVyX2RhdGFfbm9kZS51c2VzID0gZGVzZXJpYWxpemVfdXNlcyhzZXJ2ZXJfZGF0YV9ub2RlLnVzZXMpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbG9hZF9ub2RlKHtcblx0XHRcdFx0bG9hZGVyOiBhcHAubm9kZXNbbl0sXG5cdFx0XHRcdHVybCxcblx0XHRcdFx0cGFyYW1zLFxuXHRcdFx0XHRyb3V0ZSxcblx0XHRcdFx0cGFyZW50OiBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgZGF0YSA9IHt9O1xuXHRcdFx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgaTsgaiArPSAxKSB7XG5cdFx0XHRcdFx0XHRPYmplY3QuYXNzaWduKGRhdGEsIChhd2FpdCBicmFuY2hfcHJvbWlzZXNbal0pLmRhdGEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0fSxcblx0XHRcdFx0c2VydmVyX2RhdGFfbm9kZTogY3JlYXRlX2RhdGFfbm9kZShzZXJ2ZXJfZGF0YV9ub2RlKVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvKiogQHR5cGUge0FycmF5PGltcG9ydCgnLi90eXBlcy5qcycpLkJyYW5jaE5vZGUgfCB1bmRlZmluZWQ+fSAqL1xuXHRcdGNvbnN0IGJyYW5jaCA9IGF3YWl0IFByb21pc2UuYWxsKGJyYW5jaF9wcm9taXNlcyk7XG5cblx0XHRjb25zdCBwYXJzZWRfcm91dGUgPSByb3V0ZXMuZmluZCgoeyBpZCB9KSA9PiBpZCA9PT0gcm91dGUuaWQpO1xuXG5cdFx0Ly8gc2VydmVyLXNpZGUgd2lsbCBoYXZlIGNvbXBhY3RlZCB0aGUgYnJhbmNoLCByZWluc3RhdGUgZW1wdHkgc2xvdHNcblx0XHQvLyBzbyB0aGF0IGVycm9yIGJvdW5kYXJpZXMgY2FuIGJlIGxpbmVkIHVwIGNvcnJlY3RseVxuXHRcdGlmIChwYXJzZWRfcm91dGUpIHtcblx0XHRcdGNvbnN0IGxheW91dHMgPSBwYXJzZWRfcm91dGUubGF5b3V0cztcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGF5b3V0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAoIWxheW91dHNbaV0pIHtcblx0XHRcdFx0XHRicmFuY2guc3BsaWNlKGksIDAsIHVuZGVmaW5lZCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXN1bHQgPSBhd2FpdCBnZXRfbmF2aWdhdGlvbl9yZXN1bHRfZnJvbV9icmFuY2goe1xuXHRcdFx0dXJsLFxuXHRcdFx0cGFyYW1zLFxuXHRcdFx0YnJhbmNoLFxuXHRcdFx0c3RhdHVzLFxuXHRcdFx0ZXJyb3IsXG5cdFx0XHRmb3JtLFxuXHRcdFx0cm91dGU6IHBhcnNlZF9yb3V0ZSA/PyBudWxsXG5cdFx0fSk7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0aWYgKGVycm9yIGluc3RhbmNlb2YgUmVkaXJlY3QpIHtcblx0XHRcdC8vIHRoaXMgaXMgYSByZWFsIGVkZ2UgY2FzZSDigJQgYGxvYWRgIHdvdWxkIG5lZWQgdG8gcmV0dXJuXG5cdFx0XHQvLyBhIHJlZGlyZWN0IGJ1dCBvbmx5IGluIHRoZSBicm93c2VyXG5cdFx0XHRhd2FpdCBuYXRpdmVfbmF2aWdhdGlvbihuZXcgVVJMKGVycm9yLmxvY2F0aW9uLCBsb2NhdGlvbi5ocmVmKSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0cmVzdWx0ID0gYXdhaXQgbG9hZF9yb290X2Vycm9yX3BhZ2Uoe1xuXHRcdFx0c3RhdHVzOiBnZXRfc3RhdHVzKGVycm9yKSxcblx0XHRcdGVycm9yOiBhd2FpdCBoYW5kbGVfZXJyb3IoZXJyb3IsIHsgdXJsLCBwYXJhbXMsIHJvdXRlIH0pLFxuXHRcdFx0dXJsLFxuXHRcdFx0cm91dGVcblx0XHR9KTtcblx0fVxuXG5cdGlmIChyZXN1bHQucHJvcHMucGFnZSkge1xuXHRcdHJlc3VsdC5wcm9wcy5wYWdlLnN0YXRlID0ge307XG5cdH1cblxuXHRpbml0aWFsaXplKHJlc3VsdCwgdGFyZ2V0LCB0cnVlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1VSTH0gdXJsXG4gKiBAcGFyYW0ge2Jvb2xlYW5bXX0gaW52YWxpZFxuICogQHJldHVybnMge1Byb21pc2U8aW1wb3J0KCd0eXBlcycpLlNlcnZlck5vZGVzUmVzcG9uc2UgfCBpbXBvcnQoJ3R5cGVzJykuU2VydmVyUmVkaXJlY3ROb2RlPn1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gbG9hZF9kYXRhKHVybCwgaW52YWxpZCkge1xuXHRjb25zdCBkYXRhX3VybCA9IG5ldyBVUkwodXJsKTtcblx0ZGF0YV91cmwucGF0aG5hbWUgPSBhZGRfZGF0YV9zdWZmaXgodXJsLnBhdGhuYW1lKTtcblx0aWYgKHVybC5wYXRobmFtZS5lbmRzV2l0aCgnLycpKSB7XG5cdFx0ZGF0YV91cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChUUkFJTElOR19TTEFTSF9QQVJBTSwgJzEnKTtcblx0fVxuXHRpZiAoREVWICYmIHVybC5zZWFyY2hQYXJhbXMuaGFzKElOVkFMSURBVEVEX1BBUkFNKSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHVzZWQgcmVzZXJ2ZWQgcXVlcnkgcGFyYW1ldGVyIFwiJHtJTlZBTElEQVRFRF9QQVJBTX1cImApO1xuXHR9XG5cdGRhdGFfdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoSU5WQUxJREFURURfUEFSQU0sIGludmFsaWQubWFwKChpKSA9PiAoaSA/ICcxJyA6ICcwJykpLmpvaW4oJycpKTtcblxuXHRjb25zdCByZXMgPSBhd2FpdCBuYXRpdmVfZmV0Y2goZGF0YV91cmwuaHJlZik7XG5cblx0aWYgKCFyZXMub2spIHtcblx0XHQvLyBlcnJvciBtZXNzYWdlIGlzIGEgSlNPTi1zdHJpbmdpZmllZCBzdHJpbmcgd2hpY2ggZGV2YWx1ZSBjYW4ndCBoYW5kbGUgYXQgdGhlIHRvcCBsZXZlbFxuXHRcdC8vIHR1cm4gaXQgaW50byBhIEh0dHBFcnJvciB0byBub3QgY2FsbCBoYW5kbGVFcnJvciBvbiB0aGUgY2xpZW50IGFnYWluICh3YXMgYWxyZWFkeSBoYW5kbGVkIG9uIHRoZSBzZXJ2ZXIpXG5cdFx0Ly8gaWYgYF9fZGF0YS5qc29uYCBkb2Vzbid0IGV4aXN0IG9yIHRoZSBzZXJ2ZXIgaGFzIGFuIGludGVybmFsIGVycm9yLFxuXHRcdC8vIGF2b2lkIHBhcnNpbmcgdGhlIEhUTUwgZXJyb3IgcGFnZSBhcyBhIEpTT05cblx0XHQvKiogQHR5cGUge3N0cmluZyB8IHVuZGVmaW5lZH0gKi9cblx0XHRsZXQgbWVzc2FnZTtcblx0XHRpZiAocmVzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKT8uaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSkge1xuXHRcdFx0bWVzc2FnZSA9IGF3YWl0IHJlcy5qc29uKCk7XG5cdFx0fSBlbHNlIGlmIChyZXMuc3RhdHVzID09PSA0MDQpIHtcblx0XHRcdG1lc3NhZ2UgPSAnTm90IEZvdW5kJztcblx0XHR9IGVsc2UgaWYgKHJlcy5zdGF0dXMgPT09IDUwMCkge1xuXHRcdFx0bWVzc2FnZSA9ICdJbnRlcm5hbCBFcnJvcic7XG5cdFx0fVxuXHRcdHRocm93IG5ldyBIdHRwRXJyb3IocmVzLnN0YXR1cywgbWVzc2FnZSk7XG5cdH1cblxuXHQvLyBUT0RPOiBmaXggZXNsaW50IGVycm9yIC8gZmlndXJlIG91dCBpZiBpdCBhY3R1YWxseSBhcHBsaWVzIHRvIG91ciBzaXR1YXRpb25cblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cdHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSkgPT4ge1xuXHRcdC8qKlxuXHRcdCAqIE1hcCBvZiBkZWZlcnJlZCBwcm9taXNlcyB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgYnkgYSBzdWJzZXF1ZW50IGNodW5rIG9mIGRhdGFcblx0XHQgKiBAdHlwZSB7TWFwPHN0cmluZywgaW1wb3J0KCd0eXBlcycpLkRlZmVycmVkPn1cblx0XHQgKi9cblx0XHRjb25zdCBkZWZlcnJlZHMgPSBuZXcgTWFwKCk7XG5cdFx0Y29uc3QgcmVhZGVyID0gLyoqIEB0eXBlIHtSZWFkYWJsZVN0cmVhbTxVaW50OEFycmF5Pn0gKi8gKHJlcy5ib2R5KS5nZXRSZWFkZXIoKTtcblx0XHRjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG5cblx0XHQvKipcblx0XHQgKiBAcGFyYW0ge2FueX0gZGF0YVxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIGRlc2VyaWFsaXplKGRhdGEpIHtcblx0XHRcdHJldHVybiBkZXZhbHVlLnVuZmxhdHRlbihkYXRhLCB7XG5cdFx0XHRcdFByb21pc2U6IChpZCkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgoZnVsZmlsLCByZWplY3QpID0+IHtcblx0XHRcdFx0XHRcdGRlZmVycmVkcy5zZXQoaWQsIHsgZnVsZmlsLCByZWplY3QgfSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGxldCB0ZXh0ID0gJyc7XG5cblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0Ly8gRm9ybWF0IGZvbGxvd3MgbmRqc29uIChlYWNoIGxpbmUgaXMgYSBKU09OIG9iamVjdCkgb3IgcmVndWxhciBKU09OIHNwZWNcblx0XHRcdGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG5cdFx0XHRpZiAoZG9uZSAmJiAhdGV4dCkgYnJlYWs7XG5cblx0XHRcdHRleHQgKz0gIXZhbHVlICYmIHRleHQgPyAnXFxuJyA6IGRlY29kZXIuZGVjb2RlKHZhbHVlLCB7IHN0cmVhbTogdHJ1ZSB9KTsgLy8gbm8gdmFsdWUgLT4gZmluYWwgY2h1bmsgLT4gYWRkIGEgbmV3IGxpbmUgdG8gdHJpZ2dlciB0aGUgbGFzdCBwYXJzZVxuXG5cdFx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0XHRjb25zdCBzcGxpdCA9IHRleHQuaW5kZXhPZignXFxuJyk7XG5cdFx0XHRcdGlmIChzcGxpdCA9PT0gLTEpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IG5vZGUgPSBKU09OLnBhcnNlKHRleHQuc2xpY2UoMCwgc3BsaXQpKTtcblx0XHRcdFx0dGV4dCA9IHRleHQuc2xpY2Uoc3BsaXQgKyAxKTtcblxuXHRcdFx0XHRpZiAobm9kZS50eXBlID09PSAncmVkaXJlY3QnKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc29sdmUobm9kZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAobm9kZS50eXBlID09PSAnZGF0YScpIHtcblx0XHRcdFx0XHQvLyBUaGlzIGlzIHRoZSBmaXJzdCAoYW5kIHBvc3NpYmx5IG9ubHksIGlmIG5vIHBlbmRpbmcgcHJvbWlzZXMpIGNodW5rXG5cdFx0XHRcdFx0bm9kZS5ub2Rlcz8uZm9yRWFjaCgoLyoqIEB0eXBlIHthbnl9ICovIG5vZGUpID0+IHtcblx0XHRcdFx0XHRcdGlmIChub2RlPy50eXBlID09PSAnZGF0YScpIHtcblx0XHRcdFx0XHRcdFx0bm9kZS51c2VzID0gZGVzZXJpYWxpemVfdXNlcyhub2RlLnVzZXMpO1xuXHRcdFx0XHRcdFx0XHRub2RlLmRhdGEgPSBkZXNlcmlhbGl6ZShub2RlLmRhdGEpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0cmVzb2x2ZShub2RlKTtcblx0XHRcdFx0fSBlbHNlIGlmIChub2RlLnR5cGUgPT09ICdjaHVuaycpIHtcblx0XHRcdFx0XHQvLyBUaGlzIGlzIGEgc3Vic2VxdWVudCBjaHVuayBjb250YWluaW5nIGRlZmVycmVkIGRhdGFcblx0XHRcdFx0XHRjb25zdCB7IGlkLCBkYXRhLCBlcnJvciB9ID0gbm9kZTtcblx0XHRcdFx0XHRjb25zdCBkZWZlcnJlZCA9IC8qKiBAdHlwZSB7aW1wb3J0KCd0eXBlcycpLkRlZmVycmVkfSAqLyAoZGVmZXJyZWRzLmdldChpZCkpO1xuXHRcdFx0XHRcdGRlZmVycmVkcy5kZWxldGUoaWQpO1xuXG5cdFx0XHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZGVzZXJpYWxpemUoZXJyb3IpKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZGVmZXJyZWQuZnVsZmlsKGRlc2VyaWFsaXplKGRhdGEpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdC8vIFRPRE8gZWRnZSBjYXNlIGhhbmRsaW5nIG5lY2Vzc2FyeT8gc3RyZWFtKCkgcmVhZCBmYWlscz9cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gdXNlc1xuICogQHJldHVybiB7aW1wb3J0KCd0eXBlcycpLlVzZXN9XG4gKi9cbmZ1bmN0aW9uIGRlc2VyaWFsaXplX3VzZXModXNlcykge1xuXHRyZXR1cm4ge1xuXHRcdGRlcGVuZGVuY2llczogbmV3IFNldCh1c2VzPy5kZXBlbmRlbmNpZXMgPz8gW10pLFxuXHRcdHBhcmFtczogbmV3IFNldCh1c2VzPy5wYXJhbXMgPz8gW10pLFxuXHRcdHBhcmVudDogISF1c2VzPy5wYXJlbnQsXG5cdFx0cm91dGU6ICEhdXNlcz8ucm91dGUsXG5cdFx0dXJsOiAhIXVzZXM/LnVybCxcblx0XHRzZWFyY2hfcGFyYW1zOiBuZXcgU2V0KHVzZXM/LnNlYXJjaF9wYXJhbXMgPz8gW10pXG5cdH07XG59XG5cbmZ1bmN0aW9uIHJlc2V0X2ZvY3VzKCkge1xuXHRjb25zdCBhdXRvZm9jdXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbYXV0b2ZvY3VzXScpO1xuXHRpZiAoYXV0b2ZvY3VzKSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGF1dG9mb2N1cy5mb2N1cygpO1xuXHR9IGVsc2Uge1xuXHRcdC8vIFJlc2V0IHBhZ2Ugc2VsZWN0aW9uIGFuZCBmb2N1c1xuXHRcdC8vIFdlIHRyeSB0byBtaW1pYyBicm93c2VycycgYmVoYXZpb3VyIGFzIGNsb3NlbHkgYXMgcG9zc2libGUgYnkgdGFyZ2V0aW5nIHRoZVxuXHRcdC8vIGZpcnN0IHNjcm9sbGFibGUgcmVnaW9uLCBidXQgdW5mb3J0dW5hdGVseSBpdCdzIG5vdCBhIHBlcmZlY3QgbWF0Y2gg4oCUIGUuZy5cblx0XHQvLyBzaGlmdC10YWJiaW5nIHdvbid0IGltbWVkaWF0ZWx5IGN5Y2xlIHVwIGZyb20gdGhlIGVuZCBvZiB0aGUgcGFnZSBvbiBDaHJvbWl1bVxuXHRcdC8vIFNlZSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9pbnRlcmFjdGlvbi5odG1sI2dldC10aGUtZm9jdXNhYmxlLWFyZWFcblx0XHRjb25zdCByb290ID0gZG9jdW1lbnQuYm9keTtcblx0XHRjb25zdCB0YWJpbmRleCA9IHJvb3QuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpO1xuXG5cdFx0cm9vdC50YWJJbmRleCA9IC0xO1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRyb290LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSwgZm9jdXNWaXNpYmxlOiBmYWxzZSB9KTtcblxuXHRcdC8vIHJlc3RvcmUgYHRhYmluZGV4YCBhcyB0byBwcmV2ZW50IGByb290YCBmcm9tIHN0ZWFsaW5nIGlucHV0IGZyb20gZWxlbWVudHNcblx0XHRpZiAodGFiaW5kZXggIT09IG51bGwpIHtcblx0XHRcdHJvb3Quc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIHRhYmluZGV4KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cm9vdC5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG5cdFx0fVxuXG5cdFx0Ly8gY2FwdHVyZSBjdXJyZW50IHNlbGVjdGlvbiwgc28gd2UgY2FuIGNvbXBhcmUgdGhlIHN0YXRlIGFmdGVyXG5cdFx0Ly8gc25hcHNob3QgcmVzdG9yYXRpb24gYW5kIGFmdGVyTmF2aWdhdGUgY2FsbGJhY2tzIGhhdmUgcnVuXG5cdFx0Y29uc3Qgc2VsZWN0aW9uID0gZ2V0U2VsZWN0aW9uKCk7XG5cblx0XHRpZiAoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi50eXBlICE9PSAnTm9uZScpIHtcblx0XHRcdC8qKiBAdHlwZSB7UmFuZ2VbXX0gKi9cblx0XHRcdGNvbnN0IHJhbmdlcyA9IFtdO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGlvbi5yYW5nZUNvdW50OyBpICs9IDEpIHtcblx0XHRcdFx0cmFuZ2VzLnB1c2goc2VsZWN0aW9uLmdldFJhbmdlQXQoaSkpO1xuXHRcdFx0fVxuXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0aWYgKHNlbGVjdGlvbi5yYW5nZUNvdW50ICE9PSByYW5nZXMubGVuZ3RoKSByZXR1cm47XG5cblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Rpb24ucmFuZ2VDb3VudDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0Y29uc3QgYSA9IHJhbmdlc1tpXTtcblx0XHRcdFx0XHRjb25zdCBiID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoaSk7XG5cblx0XHRcdFx0XHQvLyB3ZSBuZWVkIHRvIGRvIGEgZGVlcCBjb21wYXJpc29uIHJhdGhlciB0aGFuIGp1c3QgYGEgIT09IGJgIGJlY2F1c2Vcblx0XHRcdFx0XHQvLyBTYWZhcmkgYmVoYXZlcyBkaWZmZXJlbnRseSB0byBvdGhlciBicm93c2Vyc1xuXHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdGEuY29tbW9uQW5jZXN0b3JDb250YWluZXIgIT09IGIuY29tbW9uQW5jZXN0b3JDb250YWluZXIgfHxcblx0XHRcdFx0XHRcdGEuc3RhcnRDb250YWluZXIgIT09IGIuc3RhcnRDb250YWluZXIgfHxcblx0XHRcdFx0XHRcdGEuZW5kQ29udGFpbmVyICE9PSBiLmVuZENvbnRhaW5lciB8fFxuXHRcdFx0XHRcdFx0YS5zdGFydE9mZnNldCAhPT0gYi5zdGFydE9mZnNldCB8fFxuXHRcdFx0XHRcdFx0YS5lbmRPZmZzZXQgIT09IGIuZW5kT2Zmc2V0XG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaWYgdGhlIHNlbGVjdGlvbiBoYXNuJ3QgY2hhbmdlZCAoYXMgYSByZXN1bHQgb2YgYW4gZWxlbWVudCBiZWluZyAoYXV0bylmb2N1c2VkLFxuXHRcdFx0XHQvLyBvciBhIHByb2dyYW1tYXRpYyBzZWxlY3Rpb24sIHdlIHJlc2V0IGV2ZXJ5dGhpbmcgYXMgcGFydCBvZiB0aGUgbmF2aWdhdGlvbilcblx0XHRcdFx0Ly8gZml4ZXMgaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL2tpdC9pc3N1ZXMvODQzOVxuXHRcdFx0XHRzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi90eXBlcy5qcycpLk5hdmlnYXRpb25TdGF0ZX0gY3VycmVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4vdHlwZXMuanMnKS5OYXZpZ2F0aW9uSW50ZW50IHwgdW5kZWZpbmVkfSBpbnRlbnRcbiAqIEBwYXJhbSB7VVJMIHwgbnVsbH0gdXJsXG4gKiBAcGFyYW0ge0V4Y2x1ZGU8aW1wb3J0KCdAc3ZlbHRlanMva2l0JykuTmF2aWdhdGlvblR5cGUsICdlbnRlcic+fSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZV9uYXZpZ2F0aW9uKGN1cnJlbnQsIGludGVudCwgdXJsLCB0eXBlKSB7XG5cdC8qKiBAdHlwZSB7KHZhbHVlOiBhbnkpID0+IHZvaWR9ICovXG5cdGxldCBmdWxmaWw7XG5cblx0LyoqIEB0eXBlIHsoZXJyb3I6IGFueSkgPT4gdm9pZH0gKi9cblx0bGV0IHJlamVjdDtcblxuXHRjb25zdCBjb21wbGV0ZSA9IG5ldyBQcm9taXNlKChmLCByKSA9PiB7XG5cdFx0ZnVsZmlsID0gZjtcblx0XHRyZWplY3QgPSByO1xuXHR9KTtcblxuXHQvLyBIYW5kbGUgYW55IGVycm9ycyBvZmYtY2hhaW4gc28gdGhhdCBpdCBkb2Vzbid0IHNob3cgdXAgYXMgYW4gdW5oYW5kbGVkIHJlamVjdGlvblxuXHRjb21wbGV0ZS5jYXRjaCgoKSA9PiB7fSk7XG5cblx0LyoqIEB0eXBlIHtpbXBvcnQoJ0BzdmVsdGVqcy9raXQnKS5OYXZpZ2F0aW9ufSAqL1xuXHRjb25zdCBuYXZpZ2F0aW9uID0ge1xuXHRcdGZyb206IHtcblx0XHRcdHBhcmFtczogY3VycmVudC5wYXJhbXMsXG5cdFx0XHRyb3V0ZTogeyBpZDogY3VycmVudC5yb3V0ZT8uaWQgPz8gbnVsbCB9LFxuXHRcdFx0dXJsOiBjdXJyZW50LnVybFxuXHRcdH0sXG5cdFx0dG86IHVybCAmJiB7XG5cdFx0XHRwYXJhbXM6IGludGVudD8ucGFyYW1zID8/IG51bGwsXG5cdFx0XHRyb3V0ZTogeyBpZDogaW50ZW50Py5yb3V0ZT8uaWQgPz8gbnVsbCB9LFxuXHRcdFx0dXJsXG5cdFx0fSxcblx0XHR3aWxsVW5sb2FkOiAhaW50ZW50LFxuXHRcdHR5cGUsXG5cdFx0Y29tcGxldGVcblx0fTtcblxuXHRyZXR1cm4ge1xuXHRcdG5hdmlnYXRpb24sXG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdGZ1bGZpbCxcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0cmVqZWN0XG5cdH07XG59XG5cbmlmIChERVYpIHtcblx0Ly8gTmFzdHkgaGFjayB0byBzaWxlbmNlIGhhcm1sZXNzIHdhcm5pbmdzIHRoZSB1c2VyIGNhbiBkbyBub3RoaW5nIGFib3V0XG5cdGNvbnN0IGNvbnNvbGVfd2FybiA9IGNvbnNvbGUud2Fybjtcblx0Y29uc29sZS53YXJuID0gZnVuY3Rpb24gd2FybiguLi5hcmdzKSB7XG5cdFx0aWYgKFxuXHRcdFx0YXJncy5sZW5ndGggPT09IDEgJiZcblx0XHRcdC88KExheW91dHxQYWdlfEVycm9yKShfW1xcdyRdKyk/PiB3YXMgY3JlYXRlZCAod2l0aCB1bmtub3dufHdpdGhvdXQgZXhwZWN0ZWQpIHByb3AgJyhkYXRhfGZvcm0pJy8udGVzdChcblx0XHRcdFx0YXJnc1swXVxuXHRcdFx0KVxuXHRcdCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRjb25zb2xlX3dhcm4oLi4uYXJncyk7XG5cdH07XG5cblx0aWYgKGltcG9ydC5tZXRhLmhvdCkge1xuXHRcdGltcG9ydC5tZXRhLmhvdC5vbigndml0ZTpiZWZvcmVVcGRhdGUnLCAoKSA9PiB7XG5cdFx0XHRpZiAoZXJyb3JlZCkge1xuXHRcdFx0XHRsb2NhdGlvbi5yZWxvYWQoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxufVxuIl0sIm5hbWVzIjpbIm5vcm1hbGl6ZV9wYXRoIiwicGF0aCIsInRyYWlsaW5nX3NsYXNoIiwiZGVjb2RlX3BhdGhuYW1lIiwicGF0aG5hbWUiLCJkZWNvZGVfcGFyYW1zIiwicGFyYW1zIiwia2V5Iiwic3RyaXBfaGFzaCIsImhyZWYiLCJ0cmFja2VkX3VybF9wcm9wZXJ0aWVzIiwibWFrZV90cmFja2FibGUiLCJ1cmwiLCJjYWxsYmFjayIsInNlYXJjaF9wYXJhbXNfY2FsbGJhY2siLCJ0cmFja2VkIiwib2JqIiwicGFyYW0iLCJ2YWx1ZSIsInByb3BlcnR5IiwiREFUQV9TVUZGSVgiLCJIVE1MX0RBVEFfU1VGRklYIiwiYWRkX2RhdGFfc3VmZml4IiwiaGFzaCIsInZhbHVlcyIsImkiLCJidWZmZXIiLCJiNjRfZGVjb2RlIiwidGV4dCIsImQiLCJ1OCIsIm5hdGl2ZV9mZXRjaCIsImlucHV0IiwiaW5pdCIsImNhY2hlIiwiYnVpbGRfc2VsZWN0b3IiLCJpbml0aWFsX2ZldGNoIiwicmVzb3VyY2UiLCJvcHRzIiwic2VsZWN0b3IiLCJzY3JpcHQiLCJib2R5IiwidHRsIiwic3Vic2VxdWVudF9mZXRjaCIsInJlc29sdmVkIiwiY2FjaGVkIiwicGFyYW1fcGF0dGVybiIsInBhcnNlX3JvdXRlX2lkIiwiaWQiLCJnZXRfcm91dGVfc2VnbWVudHMiLCJzZWdtZW50IiwicmVzdF9tYXRjaCIsIm9wdGlvbmFsX21hdGNoIiwicGFydHMiLCJjb250ZW50IiwiZXNjYXBlIiwiY29kZSIsIm1hdGNoIiwiaXNfb3B0aW9uYWwiLCJpc19yZXN0IiwibmFtZSIsIm1hdGNoZXIiLCJhZmZlY3RzX3BhdGgiLCJyb3V0ZSIsImV4ZWMiLCJtYXRjaGVycyIsInJlc3VsdCIsInZhbHVlc19uZWVkaW5nX21hdGNoIiwiYnVmZmVyZWQiLCJzIiwibmV4dF9wYXJhbSIsIm5leHRfdmFsdWUiLCJzdHIiLCJwYXJzZSIsIm5vZGVzIiwic2VydmVyX2xvYWRzIiwiZGljdGlvbmFyeSIsImxheW91dHNfd2l0aF9zZXJ2ZXJfbG9hZCIsImxlYWYiLCJsYXlvdXRzIiwiZXJyb3JzIiwicGF0dGVybiIsIm4iLCJjcmVhdGVfbGF5b3V0X2xvYWRlciIsImNyZWF0ZV9sZWFmX2xvYWRlciIsInVzZXNfc2VydmVyX2RhdGEiLCJnZXQiLCJzZXQiLCJzdHJpbmdpZnkiLCJkYXRhIiwiU05BUFNIT1RfS0VZIiwiU0NST0xMX0tFWSIsIlNUQVRFU19LRVkiLCJQQUdFX1VSTF9LRVkiLCJISVNUT1JZX0lOREVYIiwiTkFWSUdBVElPTl9JTkRFWCIsIlBSRUxPQURfUFJJT1JJVElFUyIsIm9yaWdpbiIsInJlc29sdmVfdXJsIiwiYmFzZVVSSSIsImJhc2VUYWdzIiwic2Nyb2xsX3N0YXRlIiwibGlua19vcHRpb24iLCJlbGVtZW50IiwibGV2ZWxzIiwicGFyZW50X2VsZW1lbnQiLCJwYXJlbnQiLCJmaW5kX2FuY2hvciIsInRhcmdldCIsImdldF9saW5rX2luZm8iLCJhIiwiYmFzZSIsImV4dGVybmFsIiwiaXNfZXh0ZXJuYWxfdXJsIiwiZG93bmxvYWQiLCJnZXRfcm91dGVyX29wdGlvbnMiLCJrZWVwZm9jdXMiLCJub3Njcm9sbCIsInByZWxvYWRfY29kZSIsInByZWxvYWRfZGF0YSIsInJlbG9hZCIsInJlcGxhY2Vfc3RhdGUiLCJlbCIsImdldF9vcHRpb25fc3RhdGUiLCJub3RpZmlhYmxlX3N0b3JlIiwic3RvcmUiLCJ3cml0YWJsZSIsInJlYWR5Iiwibm90aWZ5IiwidmFsIiwibmV3X3ZhbHVlIiwic3Vic2NyaWJlIiwicnVuIiwib2xkX3ZhbHVlIiwiY3JlYXRlX3VwZGF0ZWRfc3RvcmUiLCJ0aW1lb3V0IiwiY2hlY2siLCJyZXMiLCJhc3NldHMiLCJ1cGRhdGVkIiwidmVyc2lvbiIsIlVOREVGSU5FRCIsIkhPTEUiLCJOQU4iLCJQT1NJVElWRV9JTkZJTklUWSIsIk5FR0FUSVZFX0lORklOSVRZIiwiTkVHQVRJVkVfWkVSTyIsInVuZmxhdHRlbiIsInBhcnNlZCIsInJldml2ZXJzIiwiaHlkcmF0ZSIsImh5ZHJhdGVkIiwiaW5kZXgiLCJzdGFuZGFsb25lIiwidHlwZSIsInJldml2ZXIiLCJtYXAiLCJhcnJheSIsIm9iamVjdCIsInZhbGlkX2xheW91dF9leHBvcnRzIiwidmFsaWRfbGF5b3V0X3NlcnZlcl9leHBvcnRzIiwiY29tcGFjdCIsImFyciIsIkh0dHBFcnJvciIsInN0YXR1cyIsIlJlZGlyZWN0IiwibG9jYXRpb24iLCJTdmVsdGVLaXRFcnJvciIsIm1lc3NhZ2UiLCJJTlZBTElEQVRFRF9QQVJBTSIsIlRSQUlMSU5HX1NMQVNIX1BBUkFNIiwiZ2V0X3N0YXR1cyIsImVycm9yIiwiZ2V0X21lc3NhZ2UiLCJzY3JvbGxfcG9zaXRpb25zIiwic3RvcmFnZS5nZXQiLCJzbmFwc2hvdHMiLCJzdG9yZXMiLCJ1cGRhdGVfc2Nyb2xsX3Bvc2l0aW9ucyIsImNsZWFyX29ud2FyZF9oaXN0b3J5IiwiY3VycmVudF9oaXN0b3J5X2luZGV4IiwiY3VycmVudF9uYXZpZ2F0aW9uX2luZGV4IiwibmF0aXZlX25hdmlnYXRpb24iLCJub29wIiwicm91dGVzIiwiZGVmYXVsdF9sYXlvdXRfbG9hZGVyIiwiZGVmYXVsdF9lcnJvcl9sb2FkZXIiLCJjb250YWluZXIiLCJhcHAiLCJpbnZhbGlkYXRlZCIsImNvbXBvbmVudHMiLCJsb2FkX2NhY2hlIiwiYmVmb3JlX25hdmlnYXRlX2NhbGxiYWNrcyIsIm9uX25hdmlnYXRlX2NhbGxiYWNrcyIsImFmdGVyX25hdmlnYXRlX2NhbGxiYWNrcyIsImN1cnJlbnQiLCJzdGFydGVkIiwiYXV0b3Njcm9sbCIsIm5hdmlnYXRpbmciLCJoYXNoX25hdmlnYXRpbmciLCJoYXNfbmF2aWdhdGVkIiwiZm9yY2VfaW52YWxpZGF0aW9uIiwicm9vdCIsInBhZ2UiLCJ0b2tlbiIsInByZWxvYWRfdG9rZW5zIiwic3RhcnQiLCJfYXBwIiwiX3RhcmdldCIsIl9hIiwiX2IiLCJzY3JvbGwiLCJfaHlkcmF0ZSIsImdvdG8iLCJfc3RhcnRfcm91dGVyIiwicmVzZXRfaW52YWxpZGF0aW9uIiwiY2FwdHVyZV9zbmFwc2hvdCIsImMiLCJyZXN0b3JlX3NuYXBzaG90IiwicGVyc2lzdF9zdGF0ZSIsInN0b3JhZ2Uuc2V0IiwiX2dvdG8iLCJvcHRpb25zIiwicmVkaXJlY3RfY291bnQiLCJuYXZfdG9rZW4iLCJuYXZpZ2F0ZSIsIl9wcmVsb2FkX2RhdGEiLCJpbnRlbnQiLCJwcmVsb2FkIiwibG9hZF9yb3V0ZSIsIl9wcmVsb2FkX2NvZGUiLCJnZXRfdXJsX3BhdGgiLCJsb2FkIiwiaW5pdGlhbGl6ZSIsInN0eWxlIiwibmF2aWdhdGlvbiIsImZuIiwiZ2V0X25hdmlnYXRpb25fcmVzdWx0X2Zyb21fYnJhbmNoIiwiYnJhbmNoIiwiZm9ybSIsInNsYXNoIiwibm9kZSIsImJyYW5jaF9ub2RlIiwiZGF0YV9jaGFuZ2VkIiwicCIsInByZXYiLCJsb2FkX25vZGUiLCJsb2FkZXIiLCJzZXJ2ZXJfZGF0YV9ub2RlIiwiaXNfdHJhY2tpbmciLCJ1c2VzIiwiZGVwZW5kcyIsImRlcHMiLCJkZXAiLCJsb2FkX2lucHV0IiwicmVxdWVzdGVkIiwiX2MiLCJoYXNfY2hhbmdlZCIsInBhcmVudF9jaGFuZ2VkIiwicm91dGVfY2hhbmdlZCIsInVybF9jaGFuZ2VkIiwic2VhcmNoX3BhcmFtc19jaGFuZ2VkIiwidHJhY2tlZF9wYXJhbXMiLCJjcmVhdGVfZGF0YV9ub2RlIiwicHJldmlvdXMiLCJkaWZmX3NlYXJjaF9wYXJhbXMiLCJvbGRfdXJsIiwibmV3X3VybCIsImNoYW5nZWQiLCJvbGRfdmFsdWVzIiwibmV3X3ZhbHVlcyIsInByZWxvYWRfZXJyb3IiLCJpbnZhbGlkYXRpbmciLCJsb2FkZXJzIiwic2VydmVyX2RhdGEiLCJwYXJlbnRfaW52YWxpZCIsImludmFsaWRfc2VydmVyX25vZGVzIiwiaW52YWxpZCIsImxvYWRfZGF0YSIsImhhbmRsZWRfZXJyb3IiLCJoYW5kbGVfZXJyb3IiLCJsb2FkX3Jvb3RfZXJyb3JfcGFnZSIsInNlcnZlcl9kYXRhX25vZGVzIiwiYnJhbmNoX3Byb21pc2VzIiwiaiIsImVyciIsImVycm9yX2xvYWQiLCJsb2FkX25lYXJlc3RfZXJyb3JfcGFnZSIsInNlcnZlcl9mYWxsYmFjayIsInJvb3RfbGF5b3V0Iiwicm9vdF9lcnJvciIsImdldF9uYXZpZ2F0aW9uX2ludGVudCIsInJlcm91dGVkIiwiX2JlZm9yZV9uYXZpZ2F0ZSIsImRlbHRhIiwic2hvdWxkX2Jsb2NrIiwibmF2IiwiY3JlYXRlX25hdmlnYXRpb24iLCJjYW5jZWxsYWJsZSIsInBvcHBlZCIsInN0YXRlIiwiYWNjZXB0IiwiYmxvY2siLCJwcmV2aW91c19oaXN0b3J5X2luZGV4IiwicHJldmlvdXNfbmF2aWdhdGlvbl9pbmRleCIsIm5hdmlnYXRpb25fcmVzdWx0IiwiY2hhbmdlIiwiZW50cnkiLCJhZnRlcl9uYXZpZ2F0ZSIsImNsZWFudXAiLCJhY3RpdmVFbGVtZW50IiwidGljayIsImRlZXBfbGlua2VkIiwiY2hhbmdlZF9mb2N1cyIsInJlc2V0X2ZvY3VzIiwic2V0dXBfcHJlbG9hZCIsIm1vdXNlbW92ZV90aW1lb3V0IiwiZXZlbnQiLCJ0YXAiLCJvYnNlcnZlciIsImVudHJpZXMiLCJwcmlvcml0eSIsImUiLCJub25oYXNoIiwiY3VycmVudF9oYXNoIiwidXBkYXRlX3VybCIsInN1Ym1pdHRlciIsImV2ZW50X2Zvcm0iLCJzdWJtaXR0ZXJfbmFtZSIsImhpc3RvcnlfaW5kZXgiLCJuYXZpZ2F0aW9uX2luZGV4IiwiaXNfaGFzaF9jaGFuZ2UiLCJsaW5rIiwibm9kZV9pZHMiLCJkZXNlcmlhbGl6ZV91c2VzIiwicGFyc2VkX3JvdXRlIiwiZGF0YV91cmwiLCJyZXNvbHZlIiwiZGVmZXJyZWRzIiwicmVhZGVyIiwiZGVjb2RlciIsImRlc2VyaWFsaXplIiwiZGV2YWx1ZS51bmZsYXR0ZW4iLCJmdWxmaWwiLCJyZWplY3QiLCJkb25lIiwic3BsaXQiLCJkZWZlcnJlZCIsImF1dG9mb2N1cyIsInRhYmluZGV4Iiwic2VsZWN0aW9uIiwicmFuZ2VzIiwiYiIsImNvbXBsZXRlIiwiZiIsInIiXSwibWFwcGluZ3MiOiJzRkFRaUIsSUFBSSxJQUFJLHVCQUF1QixFQXlCekMsU0FBU0EsR0FBZUMsRUFBTUMsRUFBZ0IsQ0FDcEQsT0FBSUQsSUFBUyxLQUFPQyxJQUFtQixTQUFpQkQsRUFFcERDLElBQW1CLFFBQ2ZELEVBQUssU0FBUyxHQUFHLEVBQUlBLEVBQUssTUFBTSxFQUFHLEVBQUUsRUFBSUEsRUFDdENDLElBQW1CLFVBQVksQ0FBQ0QsRUFBSyxTQUFTLEdBQUcsRUFDcERBLEVBQU8sSUFHUkEsQ0FDUixDQU1PLFNBQVNFLEdBQWdCQyxFQUFVLENBQ3pDLE9BQU9BLEVBQVMsTUFBTSxLQUFLLEVBQUUsSUFBSSxTQUFTLEVBQUUsS0FBSyxLQUFLLENBQ3ZELENBR08sU0FBU0MsR0FBY0MsRUFBUSxDQUNyQyxVQUFXQyxLQUFPRCxFQUdqQkEsRUFBT0MsQ0FBRyxFQUFJLG1CQUFtQkQsRUFBT0MsQ0FBRyxDQUFDLEVBRzdDLE9BQU9ELENBQ1IsQ0FxQk8sU0FBU0UsR0FBVyxDQUFFLEtBQUFDLEdBQVEsQ0FDcEMsT0FBT0EsRUFBSyxNQUFNLEdBQUcsRUFBRSxDQUFDLENBQ3pCLENBTUEsTUFBTUMsR0FBK0MsQ0FDcEQsT0FDQSxXQUNBLFNBQ0EsV0FDQSxRQUNELEVBT08sU0FBU0MsR0FBZUMsRUFBS0MsRUFB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Q3RELEdBQUlBLEVBRUhBLEVBQVUsTUFBTSxNQUNWLENBTU4sTUFBTWxKLEVBQU8sU0FBUyxLQUNoQm1KLEVBQVduSixFQUFLLGFBQWEsVUFBVSxFQUU3Q0EsRUFBSyxTQUFXLEdBRWhCQSxFQUFLLE1BQU0sQ0FBRSxjQUFlLEdBQU0sYUFBYyxHQUFPLEVBR25EbUosSUFBYSxLQUNoQm5KLEVBQUssYUFBYSxXQUFZbUosQ0FBUSxFQUV0Q25KLEVBQUssZ0JBQWdCLFVBQVUsRUFLaEMsTUFBTW9KLEVBQVksZUFFZCxHQUFBQSxHQUFhQSxFQUFVLE9BQVMsT0FBUSxDQUUzQyxNQUFNQyxFQUFTLENBQUEsRUFFZixRQUFTdFUsRUFBSSxFQUFHQSxFQUFJcVUsRUFBVSxXQUFZclUsR0FBSyxFQUM5Q3NVLEVBQU8sS0FBS0QsRUFBVSxXQUFXclUsQ0FBQyxDQUFDLEVBR3BDLFdBQVcsSUFBTSxDQUNaLEdBQUFxVSxFQUFVLGFBQWVDLEVBQU8sT0FFcEMsU0FBU3RVLEVBQUksRUFBR0EsRUFBSXFVLEVBQVUsV0FBWXJVLEdBQUssRUFBRyxDQUMzQyxNQUFBcUYsRUFBSWlQLEVBQU90VSxDQUFDLEVBQ1p1VSxFQUFJRixFQUFVLFdBQVdyVSxDQUFDLEVBSWhDLEdBQ0NxRixFQUFFLDBCQUE0QmtQLEVBQUUseUJBQ2hDbFAsRUFBRSxpQkFBbUJrUCxFQUFFLGdCQUN2QmxQLEVBQUUsZUFBaUJrUCxFQUFFLGNBQ3JCbFAsRUFBRSxjQUFnQmtQLEVBQUUsYUFDcEJsUCxFQUFFLFlBQWNrUCxFQUFFLFVBRWxCLE1BRUYsQ0FLQUYsRUFBVSxnQkFBZ0IsRUFBQSxDQUMxQixDQUNGLENBQ0QsQ0FDRCxDQVFBLFNBQVNyRCxHQUFrQnRHLEVBQVNnQyxFQUFRdk4sRUFBSzhJLEVBQU0sU0FFbEQsSUFBQTZMLEVBR0FDLEVBRUosTUFBTVMsRUFBVyxJQUFJLFFBQVEsQ0FBQ0MsRUFBR0MsSUFBTSxDQUM3QlosRUFBQVcsRUFDQVYsRUFBQVcsQ0FBQSxDQUNULEVBR0QsT0FBQUYsRUFBUyxNQUFNLElBQU0sQ0FBQSxDQUFFLEVBbUJoQixDQUNOLFdBakJrQixDQUNsQixLQUFNLENBQ0wsT0FBUTlKLEVBQVEsT0FDaEIsTUFBTyxDQUFFLEtBQUlBLEVBQUFBLEVBQVEsUUFBUkEsWUFBQUEsRUFBZSxLQUFNLElBQUssRUFDdkMsSUFBS0EsRUFBUSxHQUNkLEVBQ0EsR0FBSXZMLEdBQU8sQ0FDVixRQUFRdU4sR0FBQSxZQUFBQSxFQUFRLFNBQVUsS0FDMUIsTUFBTyxDQUFFLEtBQUlqQixFQUFBaUIsR0FBQSxZQUFBQSxFQUFRLFFBQVIsWUFBQWpCLEVBQWUsS0FBTSxJQUFLLEVBQ3ZDLElBQUF0TSxDQUNELEVBQ0EsV0FBWSxDQUFDdU4sRUFDYixLQUFBekUsRUFDQSxTQUFBdU0sQ0FBQSxFQU1BLE9BQUFWLEVBRUEsT0FBQUMsQ0FBQSxDQUVGIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTZdfQ==
